"use strict";(self.webpackChunklyldesigner=self.webpackChunklyldesigner||[]).push([[262],{33651:(e,t,l)=>{l.r(t)},71124:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0});var o={};t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var l=r(t);if(l&&l.has(e))return l.get(e);var o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,l&&l.set(e,o),o}(l(83055));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,l=new WeakMap;return(r=function(e){return e?l:t})(e)}Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))})),t.default=n.default},94392:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clipboard=void 0;var o,n=(o=l(20732))&&o.__esModule?o:{default:o};let r;const a={text:"",html:""};t.clipboard={getStore:()=>a,setStore(e){Object.assign(a,e||{})},copy(e){let t=!1;try{const l=n.default.toValueString(e);!function(e){if(!r){r=document.createElement("textarea"),r.id="$VxeCopy";const e=r.style;e.width="48px",e.height="24px",e.position="fixed",e.zIndex="0",e.left="-500px",e.top="-500px",document.body.appendChild(r)}r.value=e}(l),r.select(),r.setSelectionRange(0,r.value.length),t=document.execCommand("copy"),r.blur(),a.text=l,a.html=""}catch(e){}return t}}},38578:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.commands=void 0;var o,n=(o=l(20732))&&o.__esModule?o:{default:o};l(12048),t.commands=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return n.default.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const l=this.store[e];return n.default.isFunction(t)&&(t={commandMethod:t}),this.store[e]=l?n.default.merge(l,t):t,this}delete(e){delete this.store[e]}forEach(e){n.default.objectEach(this.store,e)}}},10021:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.globalConfigStore=void 0,t.globalConfigStore={size:"",version:1,zIndex:999,resizeInterval:500}},83055:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0});var o={setTheme:!0,getTheme:!0,setLanguage:!0,setI18n:!0,setConfig:!0,getConfig:!0,setIcon:!0,getIcon:!0,coreVersion:!0,use:!0,getComponent:!0,component:!0,renderEmptyElement:!0,VxeUI:!0};t.VxeUI=void 0,t.component=P,t.default=t.coreVersion=void 0,t.getComponent=$,t.getConfig=D,t.getIcon=_,t.getTheme=I,t.renderEmptyElement=z,t.setConfig=L,t.setI18n=k,t.setIcon=F,t.setLanguage=M,t.setTheme=O,t.use=N;var n=S(l(20732)),r=S(l(89992)),a=l(74061),i=l(10021),s=l(7107);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var c=l(51104),d=l(45358),u=l(18595),f=l(13234);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var g=l(5128);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var h=l(49624);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var m=l(53059);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var p=l(37667);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var v=l(18614);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var b=l(7742);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var x=l(38578);Object.keys(x).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===x[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}}))}));var C=l(97397);Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}));var w=l(94392);Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var R=l(58003);Object.keys(R).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===R[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return R[e]}}))}));var T=l(12048);Object.keys(T).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===T[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return T[e]}}))}));var E=l(90494);Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var y=l(48996);function S(e){return e&&e.__esModule?e:{default:e}}function O(e){const t=e&&"default"!==e?e:"light";if(d.themeConfigStore.theme=t,"undefined"!=typeof document){const e=document.documentElement;e&&e.setAttribute("data-vxe-ui-theme",t)}return B}function I(){return d.themeConfigStore.theme}function M(e){return u.i18nConfigStore.language=e||"zh-CN",B}function k(e,t){return u.i18nConfigStore.langMaps[e]=Object.assign({},t),B}function L(e){return e&&(e.zIndex&&r.default.setCurrent(e.zIndex),e.theme&&O(e.theme),n.default.merge(i.globalConfigStore,e)),B}function D(e,t){return arguments.length?n.default.get(i.globalConfigStore,e,t):i.globalConfigStore}function F(e){return e&&Object.assign(c.iconConfigStore,e),B}function _(e){return arguments.length?n.default.get(c.iconConfigStore,e):c.iconConfigStore}Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));const A=t.coreVersion="4.0.12",j=[];function N(e,t){return e&&e.install&&-1===j.indexOf(e)&&(e.install(B,t),j.push(e)),B}const V={};function $(e){return V[e]||null}function P(e){e&&e.name&&(V[e.name]=e)}function z(){return(0,a.createCommentVNode)()}const B=t.VxeUI={coreVersion:A,renderEmptyElement:z,setTheme:O,getTheme:I,setConfig:L,getConfig:D,setIcon:F,getIcon:_,setLanguage:M,hasLanguage:h.hasLanguage,getLanguage:h.getLanguage,setI18n:k,getI18n:h.getI18n,globalEvents:f.globalEvents,GLOBAL_EVENT_KEYS:f.GLOBAL_EVENT_KEYS,createEvent:f.createEvent,globalResize:g.globalResize,renderer:m.renderer,validators:p.validators,menus:v.menus,formats:b.formats,commands:x.commands,interceptor:C.interceptor,clipboard:w.clipboard,log:T.log,permission:R.permission,globalStore:s.globalStore,hooks:E.hooks,component:P,getComponent:$,useFns:y.useFns,use:N};O(),t.default=B},7107:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.globalStore=void 0,t.globalStore={}},13234:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.globalEvents=t.createEvent=t.GLOBAL_EVENT_KEYS=void 0;var o,n=(o=l(20732))&&o.__esModule?o:{default:o};const r=t.GLOBAL_EVENT_KEYS={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},a=n.default.browse(),i={" ":"Spacebar",Apps:r.CONTEXT_MENU,Del:r.DELETE,Up:r.ARROW_UP,Down:r.ARROW_DOWN,Left:r.ARROW_LEFT,Right:r.ARROW_RIGHT},s=a.firefox?"DOMMouseScroll":"mousewheel",c=[];function d(e){const t=e.type===s;c.forEach((({type:l,cb:o})=>{e.cancelBubble||(l===e.type||t&&"mousewheel"===l)&&o(e)}))}class u{constructor(e,t,l){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.$event=e,Object.assign(this,t,l)}stopPropagation(){const e=this.$event;e&&e.stopPropagation()}preventDefault(){const e=this.$event;e&&e.preventDefault()}}t.createEvent=(e,t,l)=>new u(e,t,l),t.globalEvents={on(e,t,l){c.push({comp:e,type:t,cb:l})},off(e,t){n.default.remove(c,(l=>l.comp===e&&l.type===t))},hasKey(e,t){const{key:l}=e;return t=t.toLowerCase(),!(!l||t!==l.toLowerCase()&&(!i[l]||i[l].toLowerCase()!==t))}},a.isDoc&&(a.msie||(window.addEventListener("copy",d,!1),window.addEventListener("cut",d,!1),window.addEventListener("paste",d,!1)),document.addEventListener("keydown",d,!1),document.addEventListener("contextmenu",d,!1),window.addEventListener("mousedown",d,!1),window.addEventListener("blur",d,!1),window.addEventListener("resize",d,!1),window.addEventListener(s,n.default.throttle(d,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}))},7742:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formats=void 0;var o,n=(o=l(20732))&&o.__esModule?o:{default:o};l(12048),t.formats=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return n.default.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const l=this.store[e];return n.default.isFunction(t)&&(t={cellFormatMethod:t}),this.store[e]=l?n.default.merge(l,t):t,this}delete(e){delete this.store[e]}forEach(e){n.default.objectEach(this.store,e)}}},90494:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hooks=void 0;var o,n=(o=l(56283))&&o.__esModule?o:{default:o};t.hooks=new n.default},49624:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getI18n=function(e,t){const{langMaps:l,language:o}=r.i18nConfigStore,{i18n:i}=a.globalConfigStore;return i?`${i(e,t)||""}`:n.default.toFormatString(n.default.get(l[o],e,e),t)},t.getLanguage=function(){const{language:e}=r.i18nConfigStore;return e},t.hasLanguage=function(e){const{langMaps:t}=r.i18nConfigStore;return!!t[e]};var o,n=(o=l(20732))&&o.__esModule?o:{default:o},r=l(18595),a=l(10021)},18595:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.i18nConfigStore=void 0;var o=l(74061);t.i18nConfigStore=(0,o.reactive)({language:"",langMaps:{}})},51104:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.iconConfigStore=void 0,t.iconConfigStore={}},97397:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.interceptor=void 0;var o,n=(o=l(20732))&&o.__esModule?o:{default:o};l(12048);const r={},a=t.interceptor={mixin:e=>(n.default.each(e,((e,t)=>{a.add(t,e)})),a),get:e=>r[e]||[],add(e,t){n.default.isFunction(t)&&(t={tableInterceptorMethod:t});const l=t.tableInterceptorMethod;if(l){let t=r[e];t||(t=r[e]=[]),t.push(l)}return a},delete(e,t){const l=r[e];if(l){n.default.isFunction(t)&&(t={tableInterceptorMethod:t});const o=t?t.tableInterceptorMethod:null;o?n.default.remove(l,(e=>e===o)):delete r[e]}}}},12048:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0;var o=l(49624);function n(e,t){return function(l,n){const r=`[vxe ${t||""}] ${(0,o.getI18n)(l,n)}`;return console[e](r),r}}const r="4.0.12";t.log={create:n,warn:n("warn",`v${r}`),err:n("error",`v${r}`)}},18614:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.menus=void 0;var o,n=(o=l(20732))&&o.__esModule?o:{default:o};l(12048),t.menus=new class{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return n.default.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const l=this.store[e];return n.default.isFunction(t)&&(t={menuMethod:t}),this.store[e]=l?n.default.merge(l,t):t,this}delete(e){delete this.store[e]}forEach(e){n.default.objectEach(this.store,e)}}},58003:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleCheckInfo=a,t.permission=void 0;var o,n=l(10021),r=(o=l(20732))&&o.__esModule?o:{default:o};function a(e,t){let l=!0,o=!1;const a=t||n.globalConfigStore.permissionMethod;if(e&&a){l=!1,o=!0;let t=!1,n=!1;const i=String(e).split("|");for(let e=0;e<i.length;e++){let s=!0,c=!1;const d=a({code:i[e]});if(r.default.isBoolean(d)?s=d:d&&(s=!!d.visible,c=!!d.disabled),c||n||(n=!0,o=c),s&&!t&&(t=!0,l=s),t&&n)break}}return{code:e,visible:l,disabled:o}}t.permission={getCheckInfo:e=>a(e),checkVisible:e=>a(e).visible,checkDisable:e=>a(e).disabled}},53059:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderer=void 0;var o,n=(o=l(20732))&&o.__esModule?o:{default:o};l(12048);const r={},a=t.renderer={mixin:e=>(n.default.each(e,((e,t)=>a.add(t,e))),a),get:e=>r[e]||null,add(e,t){if(e&&t){const l=r[e];l?Object.assign(l,t):r[e]=t}return a},forEach:e=>(n.default.objectEach(r,e),a),delete:e=>(delete r[e],a)}},5128:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.globalResize=void 0;var o,n=(o=l(20732))&&o.__esModule?o:{default:o},r=l(10021);let a;const i=[];function s(){i.length&&(i.forEach((e=>{e.tarList.forEach((t=>{const{target:l,width:o,heighe:n}=t,r=l.clientWidth,a=l.clientHeight;(r&&o!==r||a&&n!==a)&&(t.width=r,t.heighe=a,setTimeout(e.callback))}))})),c())}function c(){clearTimeout(a),a=setTimeout(s,r.globalConfigStore.resizeInterval||500)}class d{constructor(e){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e}observe(e){if(e){const{tarList:t}=this;t.some((t=>t.target===e))||t.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),i.length||c(),i.some((e=>e===this))||i.push(this)}}unobserve(e){n.default.remove(i,(t=>t.tarList.some((t=>t.target===e))))}disconnect(){n.default.remove(i,(e=>e===this))}}t.globalResize={create:e=>window.ResizeObserver?new window.ResizeObserver(e):new d(e)}},56283:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Store=void 0,l(12048);var o,n=(o=l(20732))&&o.__esModule?o:{default:o};class r{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return n.default.each(e,((e,t)=>{this.add(t,e)})),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,t){const l=this.store[e];return this.store[e]=l?n.default.merge(l,t):t,this}delete(e){delete this.store[e]}forEach(e){n.default.objectEach(this.store,e)}}t.Store=r,t.default=r},45358:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.themeConfigStore=void 0,t.themeConfigStore={theme:""}},48996:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useFns=void 0,t.usePermission=a,t.useSize=r;var o=l(74061),n=l(58003);function r(e){const t=(0,o.inject)("xeSizeInfo",null),l=(0,o.computed)((()=>e.size||(t?t.value:null)));return(0,o.provide)("xeSizeInfo",l),{computeSize:l}}function a(e){return{computePermissionInfo:(0,o.computed)((()=>(0,n.handleCheckInfo)(e.permissionCode,e.permissionMethod)))}}t.useFns={useSize:r,usePermission:a}},37667:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validators=void 0;var o,n=(o=l(56283))&&o.__esModule?o:{default:o};t.validators=new n.default},61161:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(84564);const{getConfig:n}=o.VxeUI;t.default={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>n().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>n().table.resizable},stripe:{type:Boolean,default:()=>n().table.stripe},border:{type:[Boolean,String],default:()=>n().table.border},padding:{type:Boolean,default:()=>n().table.padding},round:{type:Boolean,default:()=>n().table.round},size:{type:String,default:()=>n().table.size||n().size},fit:{type:Boolean,default:()=>n().table.fit},loading:Boolean,align:{type:String,default:()=>n().table.align},headerAlign:{type:String,default:()=>n().table.headerAlign},footerAlign:{type:String,default:()=>n().table.footerAlign},showHeader:{type:Boolean,default:()=>n().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>n().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>n().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>n().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>n().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>n().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>n().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>n().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>n().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>n().table.emptyText},keepSource:{type:Boolean,default:()=>n().table.keepSource},autoResize:{type:Boolean,default:()=>n().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,rowConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:()=>n().table.animat},delayHover:{type:Number,default:()=>n().table.delayHover},params:Object}},77763:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(74061),n=R(l(20732)),r=l(29261),a=l(2832),i=l(84564),s=R(l(54115)),c=R(l(76811)),d=R(l(70774)),u=R(l(68312)),f=R(l(61161)),g=R(l(75967)),h=l(95347),m=l(70373),p=l(66843),v=R(l(50349)),b=R(l(12316)),x=R(l(38958)),C=R(l(33269)),w=R(l(18049));function R(e){return e&&e.__esModule?e:{default:e}}const{getConfig:T,getI18n:E,renderer:y,formats:S,createEvent:O,globalResize:I,interceptor:M,hooks:k,globalEvents:L,GLOBAL_EVENT_KEYS:D,useFns:F}=i.VxeUI,_=r.browse["-webkit"]&&!r.browse.edge,A="VXE_CUSTOM_STORE";t.default=(0,o.defineComponent)({name:"VxeTable",props:f.default,emits:g.default,setup(e,t){const{slots:l,emit:f}=t,g=n.default.uniqueId(),R=i.VxeUI.getComponent("VxeLoading"),j=i.VxeUI.getComponent("VxeTooltip"),N=(0,o.inject)("$xeTabs",null),{computeSize:V}=F.useSize(e),$=(0,o.reactive)({isCalcColumn:!1,staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selectCheckboxMaps:{},currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},treeIndeterminateMaps:{},mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,pendingRowMaps:{},pendingRowList:[],initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null},insertMaps:{},removeMaps:{}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1},scrollVMLoading:!1,_isResize:!1,_isLoading:!1}),P={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},columnStatusMaps:{},rowStatusMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let z={},B={};const H=(0,o.ref)(),W=(0,o.ref)(),U=(0,o.ref)(),q=(0,o.ref)(),X=(0,o.ref)(),K=(0,o.ref)(),Y=(0,o.ref)(),G=(0,o.ref)(),Z=(0,o.ref)(),Q=(0,o.ref)(),J=(0,o.ref)(),ee=(0,o.ref)(),te=(0,o.ref)(),le=(0,o.ref)(),oe=(0,o.ref)(),ne=(0,o.ref)(),re=(0,o.ref)(),ae=(0,o.ref)(),ie=(0,o.ref)(),se=(0,o.ref)(),ce=(0,o.inject)("$xeGrid",null);let de;const ue=(0,o.computed)((()=>{const{id:t}=e;return t?n.default.isFunction(t)?`${t({$table:lt,$grid:ce})||""}`:`${t}`:""})),fe=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.validConfig,!0),e.validConfig))),ge=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.scrollX,!0),e.scrollX))),he=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.scrollY,!0),e.scrollY))),me=(0,o.computed)((()=>({default:48,medium:44,small:40,mini:36}))),pe=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.columnConfig,!0),e.columnConfig))),ve=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.rowConfig,!0),e.rowConfig))),be=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.resizeConfig,!0),e.resizeConfig))),xe=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.resizableConfig,!0),e.resizableConfig))),Ce=(0,o.computed)((()=>Object.assign({startIndex:0},n.default.clone(T().table.seqConfig,!0),e.seqConfig))),we=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.radioConfig,!0),e.radioConfig))),Re=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.checkboxConfig,!0),e.checkboxConfig)));let Te=(0,o.ref)();Te=(0,o.computed)((()=>Object.assign({},n.default.clone(T().tooltip,!0),n.default.clone(T().table.tooltipConfig,!0),e.tooltipConfig)));const Ee=(0,o.computed)((()=>{const e=Te.value;return Object.assign({},e)})),ye=(0,o.computed)((()=>{const e=Te.value;return Object.assign({isArrow:!1},e)})),Se=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.editConfig,!0),e.editConfig))),Oe=(0,o.computed)((()=>Object.assign({orders:["asc","desc",null]},n.default.clone(T().table.sortConfig,!0),e.sortConfig))),Ie=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.filterConfig,!0),e.filterConfig))),Me=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.mouseConfig,!0),e.mouseConfig))),ke=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.areaConfig,!0),e.areaConfig))),Le=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.keyboardConfig,!0),e.keyboardConfig))),De=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.clipConfig,!0),e.clipConfig))),Fe=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.fnrConfig,!0),e.fnrConfig))),_e=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.menuConfig,!0),e.menuConfig))),Ae=(0,o.computed)((()=>{const e=_e.value.header;return e&&e.options?e.options:[]})),je=(0,o.computed)((()=>{const e=_e.value.body;return e&&e.options?e.options:[]})),Ne=(0,o.computed)((()=>{const e=_e.value.footer;return e&&e.options?e.options:[]})),Ve=(0,o.computed)((()=>{const t=_e.value,l=Ae.value,o=je.value,n=Ne.value;return!!(e.menuConfig&&(0,a.isEnableConf)(t)&&(l.length||o.length||n.length))})),$e=(0,o.computed)((()=>{const{ctxMenuStore:e}=$,t=[];return e.list.forEach((e=>{e.forEach((e=>{t.push(e)}))})),t})),Pe=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.exportConfig,!0),e.exportConfig))),ze=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.importConfig,!0),e.importConfig))),Be=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.printConfig,!0),e.printConfig))),He=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.expandConfig,!0),e.expandConfig))),We=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.treeConfig,!0),e.treeConfig))),Ue=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.emptyRender,!0),e.emptyRender))),qe=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.loadingConfig,!0),e.loadingConfig))),Xe=(0,o.computed)((()=>e.border?Math.max(2,Math.ceil($.scrollbarWidth/$.tableColumn.length)):1)),Ke=(0,o.computed)((()=>Object.assign({},n.default.clone(T().table.customConfig,!0),e.customConfig))),Ye=(0,o.computed)((()=>{const{visibleColumn:e}=P,{tableColumn:t}=$;return t.length||e.length?e.filter((e=>"auto"===e.width||"auto"===e.minWidth)):[]})),Ge=(0,o.computed)((()=>{const{collectColumn:e}=P;let t=0;return e.forEach((e=>{e.renderFixed&&t++})),t})),Ze=(0,o.computed)((()=>{const e=Ge.value,t=pe.value,{maxFixedSize:l}=t;return!!l&&e>=l})),Qe=(0,o.computed)((()=>{const{border:t}=e;return!0===t?"full":t||"default"})),Je=(0,o.computed)((()=>{const{treeConfig:t}=e,{tableData:l}=$,{tableFullData:o}=P,n=Re.value,{strict:r,checkMethod:a}=n;return!!r&&(!l.length&&!o.length||!!a&&o.every((e=>!a({row:e}))))})),et={refElem:H,refTooltip:W,refValidTooltip:q,refTableFilter:K,refTableCustom:Y,refTableMenu:X,refTableHeader:G,refTableBody:Z,refTableFooter:Q,refTableLeftHeader:J,refTableLeftBody:ee,refTableLeftFooter:te,refTableRightHeader:le,refTableRightBody:oe,refTableRightFooter:ne,refLeftContainer:re,refRightContainer:ae,refCellResizeBar:ie},tt={computeSize:V,computeTableId:ue,computeValidOpts:fe,computeSXOpts:ge,computeSYOpts:he,computeColumnOpts:pe,computeRowOpts:ve,computeResizeOpts:be,computeResizableOpts:xe,computeSeqOpts:Ce,computeRadioOpts:we,computeCheckboxOpts:Re,computeTooltipOpts:Te,computeEditOpts:Se,computeSortOpts:Oe,computeFilterOpts:Ie,computeMouseOpts:Me,computeAreaOpts:ke,computeKeyboardOpts:Le,computeClipOpts:De,computeFNROpts:Fe,computeHeaderMenu:Ae,computeBodyMenu:je,computeFooterMenu:Ne,computeIsMenu:Ve,computeMenuOpts:_e,computeExportOpts:Pe,computeImportOpts:ze,computePrintOpts:Be,computeExpandOpts:He,computeTreeOpts:We,computeEmptyOpts:Ue,computeLoadingOpts:qe,computeCustomOpts:Ke,computeFixedColumnSize:Ge,computeIsMaxFixedColumn:Ze,computeIsAllCheckboxDisabled:Je},lt={xID:g,props:e,context:t,reactData:$,internalData:P,getRefMaps:()=>et,getComputeMaps:()=>tt,xegrid:ce},ot=(e,t,l)=>{const o=n.default.get(e,l),r=n.default.get(t,l);return!(!(0,a.eqEmptyValue)(o)||!(0,a.eqEmptyValue)(r))||(n.default.isString(o)||n.default.isNumber(o)?""+o==""+r:n.default.isEqual(o,r))},nt=e=>{const t=Oe.value,{orders:l}=t,o=e.order||null,n=l.indexOf(o)+1;return l[n<l.length?n:0]},rt=e=>{const t=T().version,l=n.default.toStringJSON(localStorage.getItem(A)||""),o=l&&l._v===t?l:{_v:t};return(e?o[e]:o)||{}},at=e=>{const{fullAllDataRowIdData:t}=P,l={};return n.default.each(e,((e,o)=>{t[o]&&(l[o]=e)})),l},it=e=>{const{fullDataRowIdData:t}=P,l=[];return n.default.each(e,((e,o)=>{t[o]&&-1===lt.findRowIndexOf(l,t[o].row)&&l.push(t[o].row)})),l},st=()=>{const{visibleColumn:e}=P,t=Z.value,l=t?t.$el:null;if(l){const{scrollLeft:t,clientWidth:o}=l,n=t+o;let r=-1,a=0,i=0;for(let l=0,o=e.length;l<o&&(a+=e[l].renderWidth,-1===r&&t<a&&(r=l),!(r>=0&&(i++,a>n)));l++);return{toVisibleIndex:Math.max(0,r),visibleSize:Math.max(6,i)}}return{toVisibleIndex:0,visibleSize:6}},ct=(e,t,l)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o],{startIndex:r,endIndex:a}=t,i=n[l],s=i+n[l+"span"];i<r&&r<s&&(t.startIndex=i),i<a&&a<s&&(t.endIndex=s),t.startIndex===r&&t.endIndex===a||(o=-1)}},dt=(t,l,o)=>{if(t){const{treeConfig:r}=e,{visibleColumn:a}=P;n.default.isArray(t)||(t=[t]),r&&t.length&&(0,p.errLog)("vxe.error.noTree",["merge-cells | merge-footer-items"]),t.forEach((e=>{let{row:t,col:r,rowspan:i,colspan:s}=e;if(o&&n.default.isNumber(t)&&(t=o[t]),n.default.isNumber(r)&&(r=a[r]),(o?t:n.default.isNumber(t))&&r&&(i||s)&&(i=n.default.toNumber(i)||1,s=n.default.toNumber(s)||1,i>1||s>1)){const e=n.default.findIndexOf(l,(e=>!(e._row!==t&&(0,h.getRowid)(lt,e._row)!==(0,h.getRowid)(lt,t)||e._col.id!==r&&e._col.id!==r.id))),a=l[e];if(a)a.rowspan=i,a.colspan=s,a._rowspan=i,a._colspan=s;else{const e=o?lt.findRowIndexOf(o,t):t,n=z.getVTColumnIndex(r);l.push({row:e,col:n,rowspan:i,colspan:s,_row:t,_col:r,_rowspan:i,_colspan:s})}}}))}},ut=(t,l,o)=>{const r=[];if(t){const{treeConfig:a}=e,{visibleColumn:i}=P;n.default.isArray(t)||(t=[t]),a&&t.length&&(0,p.errLog)("vxe.error.noTree",["merge-cells | merge-footer-items"]),t.forEach((e=>{let{row:t,col:a}=e;o&&n.default.isNumber(t)&&(t=o[t]),n.default.isNumber(a)&&(a=i[a]);const s=n.default.findIndexOf(l,(e=>!(e._row!==t&&(0,h.getRowid)(lt,e._row)!==(0,h.getRowid)(lt,t)||e._col.id!==a&&e._col.id!==a.id)));if(s>-1){const e=l.splice(s,1);r.push(e[0])}}))}return r},ft=()=>{const{tableFullColumn:e}=P;e.forEach((e=>{e.order=null}))},gt=t=>{const{parentHeight:l}=$,o=e[t];let a=0;if(o)if("100%"===o||"auto"===o)a=l;else{const e=lt.getExcludeHeight();a=(0,r.isScale)(o)?Math.floor((n.default.toInteger(o)||1)/100*l):n.default.toNumber(o),a=Math.max(40,a-e)}return a},ht=e=>{let{collectColumn:t}=P;const{resizableData:l,sortData:o,visibleData:r,fixedData:a}=e;let i=!1;(l||o||r||a)&&(n.default.eachTree(t,((e,t,s,c,d)=>{const u=e.getKey();d||(a&&a[u]&&(e.fixed=a[u]),o&&n.default.isNumber(o[u])&&(i=!0,e.renderSortNumber=o[u])),l&&n.default.isNumber(l[u])&&(e.resizeWidth=l[u]),r&&n.default.isBoolean(r[u])&&(e.visible=r[u])})),i&&(t=n.default.orderBy(t,"renderSortNumber"),P.collectColumn=t,P.tableFullColumn=Vt(t)))},mt=()=>{const{tableFullColumn:t,collectColumn:l}=P,o=P.fullColumnIdData={},r=P.fullColumnFieldData={},i=(Me.value,pe.value,ve.value,l.some(a.hasChildrenList));let s,c,d,u,f=!!e.showOverflow;const g=(e,t,l,n,a)=>{const{id:i,field:g,fixed:h,type:m,treeNode:v}=e,b={column:e,colid:i,index:t,items:l,parent:a};g&&(r[g]=b),!u&&h&&(u=h),d||"html"!==m||(d=e),v?c||(c=e):"expand"===m&&(s||(s=e)),f&&!1===e.showOverflow&&(f=!1),o[i]&&(0,p.errLog)("vxe.error.colRepet",["colId",i]),o[i]=b};i?n.default.eachTree(l,((e,t,l,o,n,r)=>{e.level=r.length,g(e,t,l,0,n)})):t.forEach(g),$.isGroup=i,$.treeNodeColumn=c,$.expandColumn=s,$.isAllOverflow=f},pt=()=>{P.customHeight=gt("height"),P.customMinHeight=gt("minHeight"),P.customMaxHeight=gt("maxHeight")},vt=()=>{const t=G.value,l=Z.value,r=Q.value,a=l?l.$el:null,i=t?t.$el:null,s=r?r.$el:null;if(!a)return;let c=0;const d=a.clientWidth-1;let u=d,f=u/100;const{fit:g}=e,{columnStore:h}=$,{resizeList:m,pxMinList:p,autoMinList:v,pxList:b,scaleList:x,scaleMinList:C,autoList:w,remainList:R}=h;if(p.forEach((e=>{const t=n.default.toInteger(e.minWidth);c+=t,e.renderWidth=t})),v.forEach((e=>{const t=Math.max(60,n.default.toInteger(e.renderAutoWidth));c+=t,e.renderWidth=t})),C.forEach((e=>{const t=Math.floor(n.default.toInteger(e.minWidth)*f);c+=t,e.renderWidth=t})),x.forEach((e=>{const t=Math.floor(n.default.toInteger(e.width)*f);c+=t,e.renderWidth=t})),b.forEach((e=>{const t=n.default.toInteger(e.width);c+=t,e.renderWidth=t})),w.forEach((e=>{const t=Math.max(60,n.default.toInteger(e.renderAutoWidth));c+=t,e.renderWidth=t})),m.forEach((e=>{const t=n.default.toInteger(e.resizeWidth);c+=t,e.renderWidth=t})),u-=c,f=u>0?Math.floor(u/(C.length+p.length+v.length+R.length)):0,g?u>0&&C.concat(p).concat(v).forEach((e=>{c+=f,e.renderWidth+=f})):f=40,R.forEach((e=>{const t=Math.max(f,40);e.renderWidth=t,c+=t})),g){const e=x.concat(C).concat(p).concat(v).concat(R);let t=e.length-1;if(t>0){let l=d-c;if(l>0){for(;l>0&&t>=0;)l--,e[t--].renderWidth++;c=d}}}const T=a.offsetHeight,E=a.scrollHeight>a.clientHeight;let y=0;E&&(y=Math.max(a.offsetWidth-a.clientWidth,0)),$.scrollbarWidth=y,$.overflowY=E,P.tableWidth=c,P.tableHeight=T;let S=0;i&&(S=i.clientHeight,(0,o.nextTick)((()=>{i&&a&&i.scrollLeft!==a.scrollLeft&&(i.scrollLeft=a.scrollLeft)}))),P.headerHeight=S;let O=!1,I=0,M=0;s?(I=s.offsetHeight,O=c>s.clientWidth,M=Math.max(I-s.clientHeight,0)):(O=c>d,M=Math.max(T-a.clientHeight,0)),P.footerHeight=I,$.overflowX=O,$.scrollbarHeight=M,pt(),$.parentHeight=Math.max(P.headerHeight+I+20,B.getParentHeight()),O&&B.checkScrolling()},bt=e=>{const{sortBy:t,sortType:l}=e;return o=>{let r;return r=t?n.default.isFunction(t)?t({row:o,column:e}):n.default.get(o,t):z.getCellLabel(o,e),l&&"auto"!==l?"number"===l?n.default.toNumber(r):"string"===l?n.default.toValueString(r):r:isNaN(r)?r:n.default.toNumber(r)}},xt=()=>{const{treeConfig:t}=e,{afterFullData:l,fullDataRowIdData:o,fullAllDataRowIdData:r}=P,{afterTreeFullData:a}=P,i=We.value,s=i.children||i.childrenField,c={};t?n.default.eachTree(a,((e,t,l,n)=>{const a=(0,h.getRowid)(lt,e),i=r[a],s=n.map(((e,t)=>t%2==0?Number(e)+1:".")).join("");if(i)i.seq=s,i._index=t;else{const l={row:e,rowid:a,seq:s,index:-1,$index:-1,_index:t,items:[],parent:null,level:0};r[a]=l,o[a]=l}c[a]=e}),{children:i.transform?i.mapChildrenField:s}):l.forEach(((e,t)=>{const l=(0,h.getRowid)(lt,e),n=r[l],a=t+1;if(n)n.seq=a,n._index=t;else{const n={row:e,rowid:l,seq:a,index:-1,$index:-1,_index:t,items:[],parent:null,level:0};r[l]=n,o[l]=n}c[l]=e})),P.afterFullRowMaps=c},Ct=()=>{const{treeConfig:t}=e,{treeExpandedMaps:l}=$,o=We.value;if(t&&o.transform){const e=[],t={};return n.default.eachTree(P.afterTreeFullData,((o,n,r,a,i)=>{const s=(0,h.getRowid)(lt,o),c=(0,h.getRowid)(lt,i);(!i||t[c]&&l[c])&&(t[s]=1,e.push(o))}),{children:o.mapChildrenField}),P.afterFullData=e,zt(e),e}return P.afterFullData},wt=()=>{const{border:t,showFooter:l,showOverflow:a,showHeaderOverflow:i,showFooterOverflow:s,mouseConfig:c,spanMethod:d,footerSpanMethod:u,keyboardConfig:f}=e,{isGroup:g,currentRow:h,tableColumn:m,scrollXLoad:p,scrollYLoad:v,scrollbarWidth:b,scrollbarHeight:x,columnStore:C,editStore:w,mergeList:R,mergeFooterList:T,isAllOverflow:E}=$;let{visibleColumn:y,fullColumnIdData:S,tableHeight:O,tableWidth:I,headerHeight:M,footerHeight:k,elemStore:L,customHeight:D,customMinHeight:F,customMaxHeight:_}=P;const A=se.value,j=Xe.value,N=Me.value,V=Le.value,B=L["main-body-wrapper"],H=B?B.value:null;return A&&(A.style.top=`${M}px`,A.style.height=H?H.offsetHeight-x+"px":""),D>0&&l&&(D+=x),["main","left","right"].forEach(((e,o)=>{const c=o>0?e:"",h="left"===c;let w,A=[];c&&(A=h?C.leftList:C.rightList,w=h?re.value:ae.value),["header","body","footer"].forEach((o=>{const C=L[`${e}-${o}-wrapper`],N=C?C.value:null,P=L[`${e}-${o}-table`],B=P?P.value:null;if("header"===o){let l=I,r=m;g?r=y:c&&(p||i)&&(r=A),l=r.reduce(((e,t)=>e+t.renderWidth),0),B&&(B.style.width=l?`${l+b}px`:"");const a=L[`${e}-${o}-repair`],s=a?a.value:null;s&&(s.style.width=`${I}px`);const d=L[`${e}-${o}-list`],u=d?d.value:null;g&&u&&n.default.arrayEach(u.querySelectorAll(".col--group"),(e=>{const l=z.getColumnNode(e);if(l){const o=l.item,{showHeaderOverflow:r}=o,a=n.default.isBoolean(r)?r:i,s="title"===a||!0===a||"tooltip"===a||"ellipsis"===a;let c=0,d=0;s&&n.default.eachTree(o.children,(e=>{e.children&&o.children.length||d++,c+=e.renderWidth}),{children:"children"}),e.style.width=s?c-d-(t?2:0)+"px":""}}))}else if("body"===o){const t=L[`${e}-${o}-emptyBlock`],n=t?t.value:null;if((0,r.isNodeElement)(N)){let e=0;const t=F-M-k;if(_&&(e=_-M-k,c&&(e-=l?0:x),e=Math.max(t,e),N.style.maxHeight=`${e}px`),D){let o=D-M-k;c&&(o-=l?0:x),e&&(o=Math.min(e,o)),N.style.height=`${Math.max(t,o)}px`}else N.style.height="";N.style.minHeight=`${t}px`}w&&((0,r.isNodeElement)(N)&&(N.style.top=`${M}px`),w.style.height=(D>0?D-M-k:O)+M+k-x*(l?2:1)+"px",w.style.width=`${A.reduce(((e,t)=>e+t.renderWidth),h?0:b)}px`);let i=I,s=m;c&&(s=$.expandColumn||!v&&!(a?E:a)||R.length||d||f&&V.isMerge?y:A),i=s.reduce(((e,t)=>e+t.renderWidth),0),B&&(B.style.width=i?`${i}px`:"",B.style.paddingRight=b&&c&&(r.browse["-moz"]||r.browse.safari)?`${b}px`:""),n&&(n.style.width=i?`${i}px`:"")}else if("footer"===o){let e=I,t=m;c&&(t=$.expandColumn||!p&&!s||T.length&&u?y:A),e=t.reduce(((e,t)=>e+t.renderWidth),0),(0,r.isNodeElement)(N)&&(w&&(N.style.top=`${D>0?D-k:O+M}px`),N.style.marginTop=-Math.max(1,x)+"px"),B&&(B.style.width=e?`${e+b}px`:"")}const H=L[`${e}-${o}-colgroup`],W=H?H.value:null;W&&n.default.arrayEach(W.children,(t=>{const l=t.getAttribute("name");if("col_gutter"===l&&(t.style.width=`${b}px`),S[l]){const r=S[l].column,{showHeaderOverflow:c,showFooterOverflow:d,showOverflow:u}=r;let f;t.style.width=`${r.renderWidth}px`,f="header"===o?n.default.isUndefined(c)||n.default.isNull(c)?i:c:"footer"===o?n.default.isUndefined(d)||n.default.isNull(d)?s:d:n.default.isUndefined(u)||n.default.isNull(u)?a:u;let g="title"===f||!0===f||"tooltip"===f||"ellipsis"===f;const h=L[`${e}-${o}-list`],m=h?h.value:null;v&&!g&&(g=!0),m&&n.default.arrayEach(m.querySelectorAll(`.${r.id}`),(e=>{const t=parseInt(e.getAttribute("colspan")||1),l=e.querySelector(".vxe-cell");let o=r.renderWidth;if(l){if(t>1){const e=z.getColumnIndex(r);for(let l=1;l<t;l++){const t=z.getColumns(e+l);t&&(o+=t.renderWidth)}}l.style.width=g?o-j*t+"px":""}}))}}))}))})),h&&z.setCurrentRow(h),c&&N.selected&&w.selected.row&&w.selected.column&&lt.addCellSelectedClass(),(0,o.nextTick)()},Rt=e=>lt.triggerValidate?lt.triggerValidate(e):(0,o.nextTick)(),Tt=(e,t)=>{Rt("blur").catch((e=>e)).then((()=>{lt.handleEdit(t,e).then((()=>Rt("change"))).catch((e=>e))}))},Et=(e,t)=>{const{checkboxReserveRowMap:l}=P;if(Re.value.reserve){const o=(0,h.getRowid)(lt,e);t?l[o]=e:l[o]&&delete l[o]}},yt=(e,t)=>{const l=we.value,{checkMethod:n}=l;return e&&(t||!n||n({row:e}))&&($.selectRadioRow=e,(e=>{we.value.reserve&&(P.radioReserveRow=e)})(e)),(0,o.nextTick)()},St=(e,t,l)=>(e&&!n.default.isArray(e)&&(e=[e]),B.handleBatchSelectRows(e,!!t,l),B.checkSelectionStatus(),(0,o.nextTick)()),Ot=(t,l)=>{const{treeConfig:r}=e,{selectCheckboxMaps:a}=$,{afterFullData:i,checkboxReserveRowMap:s}=P,c=We.value,d=c.children||c.childrenField,u=Re.value,{checkField:f,reserve:g,checkStrictly:m,checkMethod:p}=u,v=u.indeterminateField||u.halfField,b={};if(m)$.isAllSelected=t;else{if(f){const e=e=>{(l||!p||p({row:e}))&&(t&&(b[(0,h.getRowid)(lt,e)]=e),n.default.set(e,f,t)),r&&v&&n.default.set(e,v,!1)};r?n.default.eachTree(i,e,{children:d}):i.forEach(e)}else r?t?n.default.eachTree(i,(e=>{(l||!p||p({row:e}))&&(b[(0,h.getRowid)(lt,e)]=e)}),{children:d}):!l&&p&&n.default.eachTree(i,(e=>{const t=(0,h.getRowid)(lt,e);!p({row:e})&&a[t]&&(b[t]=e)}),{children:d}):t?!l&&p?i.forEach((e=>{const t=(0,h.getRowid)(lt,e);(a[t]||p({row:e}))&&(b[t]=e)})):i.forEach((e=>{b[(0,h.getRowid)(lt,e)]=e})):!l&&p&&i.forEach((e=>{const t=(0,h.getRowid)(lt,e);!p({row:e})&&a[t]&&(b[t]=e)}));g&&(t?n.default.each(b,((e,t)=>{s[t]=e})):i.forEach((e=>Et(e,!1)))),$.selectCheckboxMaps=f?{}:b}return $.treeIndeterminateMaps={},P.treeIndeterminateRowMaps={},B.checkSelectionStatus(),(0,o.nextTick)()},It=e=>{const t=We.value,l=Re.value,{transform:r,loadMethod:a}=t,{checkStrictly:i}=l;return new Promise((t=>{if(a){const{treeExpandLazyLoadedMaps:l}=$,{fullAllDataRowIdData:s}=P,c=(0,h.getRowid)(lt,e),d=s[c];l[c]=e,Promise.resolve(a({$table:lt,row:e})).then((t=>{if(d.treeLoaded=!0,l[c]&&delete l[c],n.default.isArray(t)||(t=[]),t)return z.loadTreeChildren(e,t).then((t=>{const{treeExpandedMaps:l}=$;return t.length&&!l[c]&&(l[c]=e),!i&&z.isCheckedByCheckboxRow(e)&&St(t,!0),(0,o.nextTick)().then((()=>{if(r)return B.handleTableData()}))}))})).catch((()=>{const{treeExpandLazyLoadedMaps:e}=$;d.treeLoaded=!1,e[c]&&delete e[c]})).finally((()=>{(0,o.nextTick)().then((()=>z.recalculate())).then((()=>t()))}))}else t()}))},Mt=(e,t)=>{const{treeExpandedReserveRowMap:l}=P;if(We.value.reserve){const o=(0,h.getRowid)(lt,e);t?l[o]=e:l[o]&&delete l[o]}},kt=e=>new Promise((t=>{const l=He.value,{loadMethod:n}=l;if(n){const{fullAllDataRowIdData:l}=P,{rowExpandLazyLoadedMaps:r}=$,a=(0,h.getRowid)(lt,e),i=l[a];r[a]=e,n({$table:lt,row:e,rowIndex:z.getRowIndex(e),$rowIndex:z.getVMRowIndex(e)}).then((()=>{const{rowExpandedMaps:t}=$;i.expandLoaded=!0,t[a]=e})).catch((()=>{i.expandLoaded=!1})).finally((()=>{const{rowExpandLazyLoadedMaps:e}=$;e[a]&&delete e[a],(0,o.nextTick)().then((()=>z.recalculate())).then((()=>t()))}))}else t()})),Lt=(e,t)=>{const{rowExpandedReserveRowMap:l}=P;if(He.value.reserve){const o=(0,h.getRowid)(lt,e);t?l[o]=e:l[o]&&delete l[o]}},Dt=()=>(0,o.nextTick)().then((()=>{const{scrollXLoad:e,scrollYLoad:t}=$,{scrollXStore:l,scrollYStore:a}=P,i=he.value,s=ge.value;if(e){const{visibleSize:e}=st(),t=s.oSize?n.default.toNumber(s.oSize):r.browse.edge?5:0;l.offsetSize=t,l.visibleSize=e,l.endIndex=Math.max(l.startIndex+l.visibleSize+t,l.endIndex),B.updateScrollXData()}else B.updateScrollXSpace();const{rowHeight:c,visibleSize:d}=(()=>{const e=G.value,t=Z.value,l=t?t.$el:null,o=V.value,n=me.value;if(l){const t=e?e.$el:null;let r,a=0;return r=l.querySelector("tr"),!r&&t&&(r=t.querySelector("tr")),r&&(a=r.clientHeight),a||(a=n[o||"default"]),{rowHeight:a,visibleSize:Math.max(8,Math.ceil(l.clientHeight/a)+2)}}return{rowHeight:0,visibleSize:8}})();if(a.rowHeight=c,t){const e=i.oSize?n.default.toNumber(i.oSize):r.browse.edge?10:0;a.offsetSize=e,a.visibleSize=d,a.endIndex=Math.max(a.startIndex+d+e,a.endIndex),B.updateScrollYData()}else B.updateScrollYSpace();$.rowHeight=c,(0,o.nextTick)(wt)})),Ft=t=>{const{keepSource:l,treeConfig:r}=e,{editStore:a,scrollYLoad:i}=$,{scrollYStore:s,scrollXStore:c,lastScrollLeft:d,lastScrollTop:u}=P,f=We.value,{transform:g}=f,m=f.children||f.childrenField;let p=[],v=(0,o.reactive)(t?t.slice(0):[]);r&&(g?(p=n.default.toArrayTree(v,{key:f.rowField,parentKey:f.parentField,children:m,mapChildren:f.mapChildrenField}),v=p.slice(0)):p=v.slice(0)),s.startIndex=0,s.endIndex=1,c.startIndex=0,c.endIndex=1,$.scrollVMLoading=!1,a.insertMaps={},a.removeMaps={};const b=zt(v);return $.scrollYLoad=b,P.tableFullData=v,P.tableFullTreeData=p,B.cacheRowMap(!0),P.tableSynchData=t,l&&B.cacheSourceMap(v),lt.clearCellAreas&&e.mouseConfig&&(lt.clearCellAreas(),lt.clearCopyCellArea()),z.clearMergeCells(),z.clearMergeFooterItems(),B.handleTableData(!0),z.updateFooter(),(0,o.nextTick)().then((()=>{pt(),wt()})).then((()=>{Dt()})).then((()=>(b&&(s.endIndex=s.visibleSize),(()=>{const{treeConfig:t}=e,{expandColumn:l,currentRow:o,selectCheckboxMaps:n,selectRadioRow:r,rowExpandedMaps:a,treeExpandedMaps:i}=$,{fullDataRowIdData:s,fullAllDataRowIdData:c,radioReserveRow:d}=P,u=He.value,f=We.value,g=we.value,m=Re.value;if(r&&!c[(0,h.getRowid)(lt,r)]&&($.selectRadioRow=null),g.reserve&&d){const e=(0,h.getRowid)(lt,d);s[e]&&yt(s[e].row,!0)}$.selectCheckboxMaps=at(n),m.reserve&&St(it(P.checkboxReserveRowMap),!0,!0),o&&!c[(0,h.getRowid)(lt,o)]&&($.currentRow=null),$.rowExpandedMaps=l?at(a):{},l&&u.reserve&&z.setRowExpand(it(P.rowExpandedReserveRowMap),!0),$.treeExpandedMaps=t?at(i):{},t&&f.reserve&&z.setTreeExpand(it(P.treeExpandedReserveRowMap),!0)})(),B.checkSelectionStatus(),new Promise((e=>{(0,o.nextTick)().then((()=>z.recalculate())).then((()=>{let t=d,l=u;const o=ge.value,n=he.value;o.scrollToLeftOnChange&&(t=0),n.scrollToTopOnChange&&(l=0),i===b?(0,h.restoreScrollLocation)(lt,t,l).then(e):setTimeout((()=>(0,h.restoreScrollLocation)(lt,t,l).then(e)))}))})))))},_t=()=>{(()=>{const{checkboxConfig:t}=e;if(t){const{fullDataRowIdData:e}=P,t=Re.value,{checkAll:l,checkRowKeys:o}=t;if(l)Ot(!0,!0);else if(o){const t=[];o.forEach((l=>{e[l]&&t.push(e[l].row)})),St(t,!0,!0)}}})(),(()=>{const{radioConfig:t}=e;if(t){const{fullDataRowIdData:e}=P,t=we.value,{checkRowKey:l,reserve:o}=t;if(l&&(e[l]&&yt(e[l].row,!0),o)){const e=(0,h.getRowkey)(lt);P.radioReserveRow={[e]:l}}}})(),(()=>{const{expandConfig:t}=e;if(t){const{fullDataRowIdData:e}=P,t=He.value,{expandAll:l,expandRowKeys:o}=t;if(l)z.setAllRowExpand(!0);else if(o){const t=[];o.forEach((l=>{e[l]&&t.push(e[l].row)})),z.setRowExpand(t,!0)}}})(),(()=>{const{treeConfig:t}=e;if(t){const{tableFullData:e}=P,t=We.value,{expandAll:l,expandRowKeys:o}=t,r=t.children||t.childrenField;if(l)z.setAllTreeExpand(!0);else if(o){const t=[],l=(0,h.getRowkey)(lt);o.forEach((o=>{const a=n.default.findTree(e,(e=>o===n.default.get(e,l)),{children:r});a&&t.push(a.item)})),z.setTreeExpand(t,!0)}}})(),(()=>{const{mergeCells:t}=e;t&&z.setMergeCells(t)})(),(()=>{const{mergeFooterItems:t}=e;t&&z.setMergeFooterItems(t)})(),(0,o.nextTick)((()=>setTimeout((()=>z.recalculate()))))},At=()=>{(()=>{const{sortConfig:t}=e;if(t){const e=Oe.value;let{defaultSort:l}=e;l&&(n.default.isArray(l)||(l=[l]),l.length&&((t.multiple?l:l.slice(0,1)).forEach(((e,t)=>{const{field:l,order:o}=e;if(l&&o){const e=z.getColumnByField(l);e&&e.sortable&&(e.order=o,e.sortTime=Date.now()+t)}})),e.remote||B.handleTableData(!0).then(wt)))}})()},jt=()=>{const{scrollXLoad:e}=$,{visibleColumn:t,scrollXStore:l,fullColumnIdData:o}=P,n=e?t.slice(l.startIndex,l.endIndex):t.slice(0);n.forEach(((e,t)=>{const l=e.id,n=o[l];n&&(n.$index=t)})),$.tableColumn=n},Nt=()=>{const{mergeList:e,mergeFooterList:t}=$,{scrollXStore:l}=P,{startIndex:o,endIndex:n,offsetSize:r}=l,{toVisibleIndex:a,visibleSize:i}=st(),s={startIndex:Math.max(0,a-1-r),endIndex:a+i+r};ct(e.concat(t),s,"col");const{startIndex:c,endIndex:d}=s;(a<=o||a>=n-i-1)&&(o===c&&n===d||(l.startIndex=c,l.endIndex=d,B.updateScrollXData())),z.closeTooltip()},Vt=e=>{const t=[];return e.forEach((e=>{t.push(...e.children&&e.children.length?Vt(e.children):[e])})),t},$t=()=>{const e=[],t=[],l=[],{isGroup:o,columnStore:r}=$,i=ge.value,{collectColumn:s,tableFullColumn:c,scrollXStore:d,fullColumnIdData:u}=P;if(o){const o=[],r=[],i=[];n.default.eachTree(s,((o,r,i,s,c)=>{const d=(0,a.hasChildrenList)(o);c&&c.fixed&&(o.fixed=c.fixed),c&&o.fixed!==c.fixed&&(0,p.errLog)("vxe.error.groupFixed"),d?o.visible=!!n.default.findTree(o.children,(e=>!(0,a.hasChildrenList)(e)&&e.visible)):o.visible&&("left"===o.fixed?e.push(o):"right"===o.fixed?l.push(o):t.push(o))})),s.forEach((e=>{e.visible&&("left"===e.fixed?o.push(e):"right"===e.fixed?i.push(e):r.push(e))})),$.tableGroupColumn=o.concat(r).concat(i)}else c.forEach((o=>{o.visible&&("left"===o.fixed?e.push(o):"right"===o.fixed?l.push(o):t.push(o))}));const f=e.concat(t).concat(l),g=!!i.enabled&&i.gt>-1&&(0===i.gt||i.gt<c.length);if($.hasFixedColumn=e.length>0||l.length>0,Object.assign(r,{leftList:e,centerList:t,rightList:l}),g){const{visibleSize:e}=st();d.startIndex=0,d.endIndex=e,d.visibleSize=e}return f.length===P.visibleColumn.length&&P.visibleColumn.every(((e,t)=>e===f[t]))||(z.clearMergeCells(),z.clearMergeFooterItems()),$.scrollXLoad=g,f.forEach(((e,t)=>{const l=e.id,o=u[l];o&&(o._index=t)})),P.visibleColumn=f,jt(),z.updateFooter().then((()=>z.recalculate())).then((()=>(z.updateCellAreas(),z.recalculate())))},Pt=t=>{P.collectColumn=t;const l=Vt(t);return P.tableFullColumn=l,$._isLoading=!0,(()=>{const{collectColumn:e}=P;e.forEach(((e,t)=>{const l=t+1;e.sortNumber=l,e.renderSortNumber=l}))})(),Promise.resolve((()=>{const{customConfig:t}=e,l=ue.value,o=Ke.value,{storage:n,restoreStore:r}=o,a=!0===n,i=a?{}:Object.assign({},n||{}),s=a||i.resizable,c=a||i.visible,d=a||i.fixed,u=a||i.sort;if(t&&(s||c||d||u)){if(!l)return void(0,p.errLog)("vxe.error.reqProp",["id"]);const e=rt(l);return r?Promise.resolve(r({id:l,type:"restore",storeData:e})).then((e=>{if(e)return ht(e)})).catch((e=>e)):ht(e)}})()).then((()=>($._isLoading=!1,mt(),$t().then((()=>{$.scrollXLoad&&Nt()})),z.clearMergeCells(),z.clearMergeFooterItems(),B.handleTableData(!0),(0,o.nextTick)().then((()=>(de&&de.syncUpdate({collectColumn:t,$table:lt}),z.recalculate()))))))},zt=t=>{const{treeConfig:l}=e,o=he.value,n=We.value,{transform:r}=n,a=t||P.tableFullData,i=(r||!l)&&!!o.enabled&&o.gt>-1&&(0===o.gt||o.gt<a.length);return $.scrollYLoad=i,i},Bt=(e,t)=>{const{treeExpandedMaps:l,treeExpandLazyLoadedMaps:o,treeNodeColumn:r}=$,a=Object.assign({},l),{fullAllDataRowIdData:i,tableFullData:s}=P,c=We.value,{reserve:d,lazy:u,accordion:f,toggleMethod:g}=c,m=c.children||c.childrenField,p=c.hasChild||c.hasChildField,v=[],b=z.getColumnIndex(r),x=z.getVMColumnIndex(r);let C=g?e.filter((e=>g({$table:lt,expanded:t,column:r,columnIndex:b,$columnIndex:x,row:e}))):e;if(f){C=C.length?[C[C.length-1]]:[];const e=n.default.findTree(s,(e=>e===C[0]),{children:m});e&&e.items.forEach((e=>{const t=(0,h.getRowid)(lt,e);a[t]&&delete a[t]}))}return t?C.forEach((e=>{const t=(0,h.getRowid)(lt,e);if(!a[t]){const l=i[t];u&&e[p]&&!l.treeLoaded&&!o[t]?v.push(It(e)):e[m]&&e[m].length&&(a[t]=e)}})):C.forEach((e=>{const t=(0,h.getRowid)(lt,e);a[t]&&delete a[t]})),d&&C.forEach((e=>Mt(e,t))),$.treeExpandedMaps=a,Promise.all(v).then((()=>z.recalculate()))},Ht=(e,t)=>{Ot(t),e&&z.dispatchEvent("checkbox-all",{records:z.getCheckboxRecords(),reserves:z.getCheckboxReserveRecords(),indeterminates:z.getCheckboxIndeterminateRecords(),checked:t},e)},Wt=e=>{const{mergeList:t}=$,{scrollYStore:l}=P,{startIndex:o,endIndex:n,visibleSize:r,offsetSize:a,rowHeight:i}=l,s=(e.currentTarget||e.target).scrollTop,c=Math.floor(s/i),d={startIndex:Math.max(0,c-1-a),endIndex:c+r+a};ct(t,d,"row");const{startIndex:u,endIndex:f}=d;(c<=o||c>=n-r-1)&&(o===u&&n===f||(l.startIndex=u,l.endIndex=f,B.updateScrollYData()))},Ut=e=>function(t){const{fullAllDataRowIdData:l}=P;if(t){const o=l[(0,h.getRowid)(lt,t)];if(o)return o[e]}return-1},qt=e=>function(t){const{fullColumnIdData:l}=P;if(t){const o=l[t.id];if(o)return o[e]}return-1},Xt=n.default.debounce((function(e){Wt(e)}),20,{leading:!1,trailing:!0});let Kt;z={dispatchEvent(e,t,l){f(e,O(l,{$table:lt,$grid:ce},t))},clearAll:()=>(0,h.clearTableAllStatus)(lt),syncData:()=>((0,p.warnLog)("vxe.error.delFunc",["syncData","getData"]),(0,o.nextTick)().then((()=>($.tableData=[],f("update:data",P.tableFullData),(0,o.nextTick)())))),updateData(){const{scrollXLoad:e,scrollYLoad:t}=$;return B.handleTableData(!0).then((()=>{if(z.updateFooter(),e||t)return e&&B.updateScrollXSpace(),t&&B.updateScrollYSpace(),z.refreshScroll()})).then((()=>(z.updateCellAreas(),z.recalculate(!0)))).then((()=>{setTimeout((()=>lt.recalculate()),50)}))},loadData(e){const{inited:t,initStatus:l}=P;return Ft(e).then((()=>(P.inited=!0,P.initStatus=!0,l||_t(),t||At(),z.recalculate())))},reloadData(e){const{inited:t}=P;return z.clearAll().then((()=>(P.inited=!0,P.initStatus=!0,Ft(e)))).then((()=>(_t(),t||At(),z.recalculate())))},setRow(e,t){if(e&&t){let l=e;n.default.isArray(e)||(l=[e]);const o=(0,h.getRowkey)(lt);l.forEach((e=>{const l=(0,h.getRowid)(lt,e),r=n.default.clone(Object.assign({},t),!0);n.default.set(r,o,l),Object.assign(e,r)}))}return(0,o.nextTick)()},reloadRow(t,l,r){const{keepSource:a}=e,{tableData:i}=$,{tableSourceData:s}=P;if(a){const e=s[z.getRowIndex(t)];if(e&&t)if(r){const o=n.default.clone(n.default.get(l||t,r),!0);n.default.set(t,r,o),n.default.set(e,r,o)}else{const o=(0,h.getRowkey)(lt),r=(0,h.getRowid)(lt,t),a=n.default.clone(Object.assign({},l),!0);n.default.set(a,o,r),n.default.destructuring(e,Object.assign(t,a))}$.tableData=i.slice(0)}return(0,o.nextTick)()},getParams:()=>e.params,loadTreeChildren(t,l){const{keepSource:o}=e,{tableSourceData:r,fullDataRowIdData:a,fullAllDataRowIdData:i,sourceDataRowIdData:s}=P,c=We.value,{transform:d,mapChildrenField:u}=c,f=c.children||c.childrenField,g=i[(0,h.getRowid)(lt,t)],m=g?g.level:0;return z.createData(l).then((e=>{if(o){const l=(0,h.getRowid)(lt,t),o=n.default.findTree(r,(e=>l===(0,h.getRowid)(lt,e)),{children:f});o&&(o.item[f]=n.default.clone(e,!0)),e.forEach((e=>{const t=(0,h.getRowid)(lt,e);s[t]=n.default.clone(e,!0)}))}return n.default.eachTree(e,((e,t,l,o,n,r)=>{const s=(0,h.getRowid)(lt,e),c={row:e,rowid:s,seq:-1,index:t,_index:-1,$index:-1,items:l,parent:n||g.row,level:m+r.length};a[s]=c,i[s]=c}),{children:f}),t[f]=e,d&&(t[u]=n.default.clone(e,!1)),xt(),e}))},loadColumn(e){const t=n.default.mapTree(e,(e=>(0,o.reactive)(s.default.createColumn(lt,e))));return Pt(t)},reloadColumn:e=>z.clearAll().then((()=>z.loadColumn(e))),getRowNode(e){if(e){const{fullAllDataRowIdData:t}=P,l=e.getAttribute("rowid");if(l){const e=t[l];if(e)return{rowid:e.rowid,item:e.row,index:e.index,items:e.items,parent:e.parent}}}return null},getColumnNode(e){if(e){const{fullColumnIdData:t}=P,l=e.getAttribute("colid");if(l){const e=t[l];if(e)return{colid:e.colid,item:e.column,index:e.index,items:e.items,parent:e.parent}}}return null},getRowSeq:Ut("seq"),getRowIndex:Ut("index"),getVTRowIndex:Ut("_index"),getVMRowIndex:Ut("$index"),getColumnIndex:qt("index"),getVTColumnIndex:qt("_index"),getVMColumnIndex:qt("$index"),createData:e=>(0,o.nextTick)().then((()=>(0,o.reactive)(B.defineField(e)))),createRow(e){const t=n.default.isArray(e);return t||(e=[e||{}]),z.createData(e).then((e=>t?e:e[0]))},revertData(t,l){const{keepSource:r}=e,{tableSourceData:a,sourceDataRowIdData:i}=P;if(!r)return(0,o.nextTick)();let s=t;return t?n.default.isArray(t)||(s=[t]):s=n.default.toArray(lt.getUpdateRecords()),s.length&&s.forEach((e=>{if(!z.isInsertByRow(e)){const t=(0,h.getRowid)(lt,e),o=i[t];o&&e&&(l?n.default.set(e,l,n.default.clone(n.default.get(o,l),!0)):n.default.destructuring(e,n.default.clone(o,!0)))}})),t?(0,o.nextTick)():z.reloadData(a)},clearData(e,t){const{tableFullData:l,visibleColumn:r}=P;return arguments.length?e&&!n.default.isArray(e)&&(e=[e]):e=l,t?e.forEach((e=>n.default.set(e,t,null))):e.forEach((e=>{r.forEach((t=>{t.field&&(0,h.setCellValue)(e,t,null)}))})),(0,o.nextTick)()},getCellElement(e,t){const l=(0,h.handleFieldOrColumn)(lt,t);if(!l)return null;const o=(0,h.getRowid)(lt,e),n=Z.value,r=ee.value,a=oe.value;let i;return l&&(l.fixed&&("left"===l.fixed?r&&(i=r.$el):a&&(i=a.$el)),i||(i=n.$el),i)?i.querySelector(`.vxe-body--row[rowid="${o}"] .${l.id}`):null},getCellLabel(e,t){const l=(0,h.handleFieldOrColumn)(lt,t);if(!l)return null;const o=l.formatter,r=(0,h.getCellValue)(e,l);let a=r;if(o){let t;const{fullAllDataRowIdData:i}=P,s=(0,h.getRowid)(lt,e),c=l.id,d=i[s];if(d&&(t=d.formatData,t||(t=i[s].formatData={}),d&&t[c]&&t[c].value===r))return t[c].label;const u={cellValue:r,row:e,rowIndex:z.getRowIndex(e),column:l,columnIndex:z.getColumnIndex(l)};if(n.default.isString(o)){const e=S.get(o),t=e?e.tableCellFormatMethod||e.cellFormatMethod:null;a=t?t(u):""}else if(n.default.isArray(o)){const e=S.get(o[0]),t=e?e.tableCellFormatMethod||e.cellFormatMethod:null;a=t?t(u,...o.slice(1)):""}else a=o(u);t&&(t[c]={value:r,label:a})}return a},isInsertByRow(e){const{editStore:t}=$,l=(0,h.getRowid)(lt,e);return t.insertMaps[l]},removeInsertRow(){const{editStore:e}=$;return e.insertMaps={},lt.remove(lt.getInsertRecords())},isUpdateByRow(t,l){const{keepSource:o}=e,{tableFullColumn:n,fullDataRowIdData:r,sourceDataRowIdData:a}=P;if(o){const e=(0,h.getRowid)(lt,t);if(!r[e])return!1;const o=a[e];if(o){if(arguments.length>1)return!ot(o,t,l);for(let e=0,l=n.length;e<l;e++){const l=n[e].field;if(l&&!ot(o,t,l))return!0}}}return!1},getColumns(e){const t=P.visibleColumn;return n.default.isUndefined(e)?t.slice(0):t[e]},getColid(e){const t=(0,h.handleFieldOrColumn)(lt,e);return t?t.id:null},getColumnById(e){const t=P.fullColumnIdData;return e&&t[e]?t[e].column:null},getColumnByField(e){const t=P.fullColumnFieldData;return e&&t[e]?t[e].column:null},getParentColumn(e){const t=P.fullColumnIdData,l=(0,h.handleFieldOrColumn)(lt,e);return l&&l.parentId&&t[l.parentId]?t[l.parentId].column:null},getTableColumn:()=>({collectColumn:P.collectColumn.slice(0),fullColumn:P.tableFullColumn.slice(0),visibleColumn:P.visibleColumn.slice(0),tableColumn:$.tableColumn.slice(0)}),getData(t){const l=e.data||P.tableSynchData;return n.default.isUndefined(t)?l.slice(0):l[t]},getCheckboxRecords(t){const{treeConfig:l}=e,{tableFullData:o,afterFullData:r,afterTreeFullData:a,tableFullTreeData:i,fullDataRowIdData:s,afterFullRowMaps:c}=P,d=We.value,u=Re.value,{transform:f,mapChildrenField:g}=d,{checkField:h}=u,m=d.children||d.childrenField;let p=[];const v=t?f?i:o:f?a:r;if(h)p=l?n.default.filterTree(v,(e=>n.default.get(e,h)),{children:f?g:m}):v.filter((e=>n.default.get(e,h)));else{const{selectCheckboxMaps:e}=$;n.default.each(e,((e,l)=>{t?s[l]&&p.push(s[l].row):c[l]&&p.push(c[l])}))}return p},getParentRow(t){const{treeConfig:l}=e,{fullDataRowIdData:o}=P;if(t&&l){let e;if(e=n.default.isString(t)?t:(0,h.getRowid)(lt,t),e){const t=o[e];return t?t.parent:null}}return null},getRowById(e){const{fullDataRowIdData:t}=P,l=n.default.eqNull(e)?"":encodeURIComponent(e||"");return t[l]?t[l].row:null},getRowid:e=>(0,h.getRowid)(lt,e),getTableData(){const{tableData:t,footerTableData:l}=$,{tableFullData:o,afterFullData:n,tableFullTreeData:r}=P;return{fullData:e.treeConfig?r.slice(0):o.slice(0),visibleData:n.slice(0),tableData:t.slice(0),footerData:l.slice(0)}},setColumnFixed(e,t){const l=(0,h.handleFieldOrColumn)(lt,e),r=(0,h.getRootColumn)(lt,l),a=Ze.value,s=pe.value;return r&&r.fixed!==t?!r.fixed&&a?(i.VxeUI.modal&&i.VxeUI.modal.message({status:"error",content:E("vxe.table.maxFixedCol",[s.maxFixedSize])}),(0,o.nextTick)()):(n.default.eachTree([r],(e=>{e.fixed=t})),B.saveCustomStore("update:fixed"),z.refreshColumn()):(0,o.nextTick)()},clearColumnFixed(e){const t=(0,h.handleFieldOrColumn)(lt,e),l=(0,h.getRootColumn)(lt,t);return l&&l.fixed?(n.default.eachTree([l],(e=>{e.fixed=null})),B.saveCustomStore("update:fixed"),z.refreshColumn()):(0,o.nextTick)()},hideColumn(e){const t=(0,h.handleFieldOrColumn)(lt,e);return t&&t.visible?(t.visible=!1,B.handleCustom()):(0,o.nextTick)()},showColumn(e){const t=(0,h.handleFieldOrColumn)(lt,e);return t&&!t.visible?(t.visible=!0,B.handleCustom()):(0,o.nextTick)()},setColumnWidth(e,t){const l=(0,h.handleFieldOrColumn)(lt,e);if(l){const e=n.default.toInteger(t);let o=e;if((0,r.isScale)(t)){const t=Z.value,l=t?t.$el:null,n=l?l.clientWidth-1:0;o=Math.floor(e*n)}return l.resizeWidth=o,z.refreshColumn()}return(0,o.nextTick)()},getColumnWidth(e){const t=(0,h.handleFieldOrColumn)(lt,e);return t?t.renderWidth:0},resetColumn(e){const{collectColumn:t}=P,l=Ke.value,{checkMethod:o}=l,r=Object.assign({visible:!0,resizable:!0===e,fixed:!0===e,sort:!0===e},e);return n.default.eachTree(t,(e=>{r.resizable&&(e.resizeWidth=0),r.fixed&&(e.fixed=e.defaultFixed),r.sort&&(e.renderSortNumber=e.sortNumber),o&&!o({column:e})||(e.visible=e.defaultVisible),e.renderResizeWidth=e.renderWidth})),lt.saveCustomStore("reset"),B.handleCustom()},refreshColumn(e){if(e){const e=n.default.orderBy(P.collectColumn,"renderSortNumber");P.collectColumn=e;const t=Vt(e);P.tableFullColumn=t,mt()}return $t().then((()=>z.refreshScroll())).then((()=>z.recalculate()))},refreshScroll(){const{lastScrollLeft:e,lastScrollTop:t}=P,l=Z.value,o=Q.value,n=ee.value,a=oe.value,i=l?l.$el:null,s=n?n.$el:null,c=a?a.$el:null,d=o?o.$el:null;return new Promise((l=>{if(e||t)return(0,h.restoreScrollLocation)(lt,e,t).then().then((()=>{setTimeout(l,30)}));(0,r.setScrollTop)(i,t),(0,r.setScrollTop)(s,t),(0,r.setScrollTop)(c,t),(0,r.setScrollLeft)(d,e),setTimeout(l,30)}))},recalculate(e){const t=H.value;return t&&t.clientWidth?((()=>{const{tableData:e}=$,t=Ye.value;e.length&&t.length?($.isCalcColumn=!0,(0,o.nextTick)().then((()=>{const e=H.value;e&&(t.forEach((t=>{const l=e.querySelectorAll(`.vxe-header--column.${t.id}>.vxe-cell,.vxe-body--column.${t.id}>.vxe-cell,.vxe-footer--column.${t.id}>.vxe-cell`),o=l[0];let r=0;if(o){const e=getComputedStyle(o);r=Math.floor(n.default.toNumber(e.paddingLeft)+n.default.toNumber(e.paddingRight))+2}let a=t.renderAutoWidth-r;n.default.arrayEach(l,(e=>{const t=e,l=t.parentNode;let o=0;if("th"===`${l.tagName}`.toLowerCase())n.default.arrayEach(t.children,(e=>{o+=e.offsetWidth+1}));else{const e=t.firstChild;o=e.offsetWidth}o&&(a=Math.max(a,Math.ceil(o)+4))})),t.renderAutoWidth=a+r})),B.analyColumnWidth()),$.isCalcColumn=!1}))):($.isCalcColumn=!1,(0,o.nextTick)())})(),vt(),!0===e?Dt().then((()=>(vt(),Dt()))):Dt()):(0,o.nextTick)()},openTooltip(e,t){const l=U.value;return l&&l.open?l.open(e,t):(0,o.nextTick)()},closeTooltip(){const{tooltipStore:e}=$,t=W.value,l=U.value;return e.visible&&(Object.assign(e,{row:null,column:null,content:null,visible:!1,currOpts:{}}),t&&t.close&&t.close()),l&&l.close&&l.close(),(0,o.nextTick)()},isAllCheckboxChecked:()=>$.isAllSelected,isAllCheckboxIndeterminate:()=>!$.isAllSelected&&$.isIndeterminate,getCheckboxIndeterminateRecords(t){const{treeConfig:l}=e,{fullDataRowIdData:o}=P,{treeIndeterminateMaps:r}=$;if(l){const e=[],l=[];return n.default.each(r,((t,n)=>{t&&(e.push(t),o[n]&&l.push(t))})),t?e:l}return[]},setCheckboxRow:(e,t)=>(e&&!n.default.isArray(e)&&(e=[e]),St(e,t,!0)),isCheckedByCheckboxRow(e){const{selectCheckboxMaps:t}=$,l=Re.value,{checkField:o}=l;return o?n.default.get(e,o):!!t[(0,h.getRowid)(lt,e)]},isIndeterminateByCheckboxRow(e){const{treeIndeterminateMaps:t}=$;return!!t[(0,h.getRowid)(lt,e)]&&!z.isCheckedByCheckboxRow(e)},toggleCheckboxRow(e){const{selectCheckboxMaps:t}=$,l=Re.value,{checkField:r}=l,a=r?!n.default.get(e,r):!t[(0,h.getRowid)(lt,e)];return B.handleSelectRow({row:e},a,!0),B.checkSelectionStatus(),(0,o.nextTick)()},setAllCheckboxRow:e=>Ot(e,!0),getRadioReserveRecord(t){const{treeConfig:l}=e,{fullDataRowIdData:o,radioReserveRow:r,afterFullData:a}=P,i=we.value,s=We.value,c=s.children||s.childrenField;if(i.reserve&&r){const e=(0,h.getRowid)(lt,r);if(t){if(!o[e])return r}else{const t=(0,h.getRowkey)(lt);if(l){if(n.default.findTree(a,(l=>e===n.default.get(l,t)),{children:c}))return r}else if(!a.some((l=>e===n.default.get(l,t))))return r}}return null},clearRadioReserve:()=>(P.radioReserveRow=null,(0,o.nextTick)()),getCheckboxReserveRecords(t){const{treeConfig:l}=e,{afterFullData:o,fullDataRowIdData:r,checkboxReserveRowMap:a}=P,i=Re.value,s=We.value,c=s.children||s.childrenField,d=[];if(i.reserve){const e={};l?n.default.eachTree(o,(t=>{e[(0,h.getRowid)(lt,t)]=1}),{children:c}):o.forEach((t=>{e[(0,h.getRowid)(lt,t)]=1})),n.default.each(a,((l,o)=>{l&&(t?r[o]||d.push(l):e[o]||d.push(l))}))}return d},clearCheckboxReserve:()=>(P.checkboxReserveRowMap={},(0,o.nextTick)()),toggleAllCheckboxRow:()=>(Ht(null,!$.isAllSelected),(0,o.nextTick)()),clearCheckboxRow(){const{treeConfig:t}=e,{tableFullData:l}=P,r=We.value,a=r.children||r.childrenField,i=Re.value,{checkField:s,reserve:c}=i,d=i.indeterminateField||i.halfField;if(s){const e=e=>{t&&d&&n.default.set(e,d,!1),n.default.set(e,s,!1)};t?n.default.eachTree(l,e,{children:a}):l.forEach(e)}return c&&l.forEach((e=>Et(e,!1))),$.isAllSelected=!1,$.isIndeterminate=!1,$.selectCheckboxMaps={},$.treeIndeterminateMaps={},(0,o.nextTick)()},setCurrentRow(t){const l=ve.value,a=H.value;return z.clearCurrentRow(),$.currentRow=t,(l.isCurrent||e.highlightCurrentRow)&&a&&n.default.arrayEach(a.querySelectorAll(`[rowid="${(0,h.getRowid)(lt,t)}"]`),(e=>(0,r.addClass)(e,"row--current"))),(0,o.nextTick)()},isCheckedByRadioRow:e=>lt.eqRow($.selectRadioRow,e),setRadioRow:e=>yt(e,!0),clearCurrentRow(){const e=H.value;return $.currentRow=null,P.hoverRow=null,e&&n.default.arrayEach(e.querySelectorAll(".row--current"),(e=>(0,r.removeClass)(e,"row--current"))),(0,o.nextTick)()},clearRadioRow:()=>($.selectRadioRow=null,(0,o.nextTick)()),getCurrentRecord:()=>ve.value.isCurrent||e.highlightCurrentRow?$.currentRow:null,getRadioRecord(e){const{fullDataRowIdData:t,afterFullRowMaps:l}=P,{selectRadioRow:o}=$;if(o){const n=(0,h.getRowid)(lt,o);if(e){if(t[n])return o}else if(l[n])return o}return null},getCurrentColumn:()=>pe.value.isCurrent||e.highlightCurrentColumn?$.currentColumn:null,setCurrentColumn(e){const t=(0,h.handleFieldOrColumn)(lt,e);return t&&(z.clearCurrentColumn(),$.currentColumn=t),(0,o.nextTick)()},clearCurrentColumn:()=>($.currentColumn=null,(0,o.nextTick)()),setPendingRow(e,t){const l=Object.assign({},$.pendingRowMaps),r=[...$.pendingRowList];return e&&!n.default.isArray(e)&&(e=[e]),t?e.forEach((e=>{const t=(0,h.getRowid)(lt,e);t&&!l[t]&&(r.push(e),l[t]=e)})):e.forEach((e=>{const t=(0,h.getRowid)(lt,e);if(t&&l[t]){const o=lt.findRowIndexOf(r,e);o>-1&&r.splice(o,1),delete l[t]}})),$.pendingRowMaps=l,$.pendingRowList=r,(0,o.nextTick)()},togglePendingRow(e){const t=Object.assign({},$.pendingRowMaps),l=[...$.pendingRowList];return e&&!n.default.isArray(e)&&(e=[e]),e.forEach((e=>{const o=(0,h.getRowid)(lt,e);if(o)if(t[o]){const n=lt.findRowIndexOf(l,e);n>-1&&l.splice(n,1),delete t[o]}else l.push(e),t[o]=e})),$.pendingRowMaps=t,$.pendingRowList=l,(0,o.nextTick)()},hasPendingByRow:e=>z.isPendingByRow(e),isPendingByRow(e){const{pendingRowMaps:t}=$;return!!t[(0,h.getRowid)(lt,e)]},getPendingRecords(){const{pendingRowList:e}=$;return e.slice(0)},clearPendingRow:()=>($.pendingRowMaps={},$.pendingRowList=[],(0,o.nextTick)()),sort(e,t){const l=Oe.value,{multiple:r,remote:a,orders:i}=l;return e&&n.default.isString(e)&&(e=[{field:e,order:t}]),n.default.isArray(e)||(e=[e]),e.length?(r||ft(),(r?e:[e[0]]).forEach(((e,t)=>{let{field:l,order:o}=e,r=l;n.default.isString(l)&&(r=z.getColumnByField(l)),r&&r.sortable&&(-1===i.indexOf(o)&&(o=nt(r)),r.order!==o&&(r.order=o),r.sortTime=Date.now()+t)})),a||B.handleTableData(!0),(0,o.nextTick)().then((()=>(z.updateCellAreas(),wt())))):(0,o.nextTick)()},clearSort(e){const t=Oe.value;if(e){const t=(0,h.handleFieldOrColumn)(lt,e);t&&(t.order=null)}else ft();return t.remote||B.handleTableData(!0),(0,o.nextTick)().then(wt)},isSort(e){if(e){const t=(0,h.handleFieldOrColumn)(lt,e);return!!t&&t.sortable&&!!t.order}return z.getSortColumns().length>0},getSortColumns(){const e=Oe.value,{multiple:t,chronological:l}=e,o=[],{tableFullColumn:r}=P;return r.forEach((e=>{const{field:t,order:l}=e;e.sortable&&l&&o.push({column:e,field:t,property:t,order:l,sortTime:e.sortTime})})),t&&l&&o.length>1?n.default.orderBy(o,"sortTime"):o},closeFilter(){const{filterStore:e}=$,{column:t,visible:l}=e;return Object.assign(e,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),l&&lt.dispatchEvent("filter-visible",{column:t,property:t.field,field:t.field,filterList:lt.getCheckedFilters(),visible:!1},null),(0,o.nextTick)()},isActiveFilterByColumn(e){const t=(0,h.handleFieldOrColumn)(lt,e);return t?t.filters&&t.filters.some((e=>e.checked)):lt.getCheckedFilters().length>0},isFilter:e=>z.isActiveFilterByColumn(e),isRowExpandLoaded(e){const{fullAllDataRowIdData:t}=P,l=t[(0,h.getRowid)(lt,e)];return l&&!!l.expandLoaded},clearRowExpandLoaded(e){const{rowExpandLazyLoadedMaps:t}=$,{fullAllDataRowIdData:l}=P,n=He.value,{lazy:r}=n,a=(0,h.getRowid)(lt,e),i=l[a];return r&&i&&(i.expandLoaded=!1,delete t[a]),(0,o.nextTick)()},reloadRowExpand(e){const{rowExpandLazyLoadedMaps:t}=$,l=He.value,{lazy:n}=l,r=(0,h.getRowid)(lt,e);return n&&!t[r]&&z.clearRowExpandLoaded(e).then((()=>kt(e))),(0,o.nextTick)()},reloadExpandContent:e=>z.reloadRowExpand(e),toggleRowExpand:e=>z.setRowExpand(e,!z.isRowExpandByRow(e)),setAllRowExpand(t){const l=We.value,{tableFullData:o,tableFullTreeData:r}=P,a=l.children||l.childrenField;let i=[];return e.treeConfig?n.default.eachTree(r,(e=>{i.push(e)}),{children:a}):i=o,z.setRowExpand(i,t)},setRowExpand(e,t){const{rowExpandedMaps:l,rowExpandLazyLoadedMaps:o,expandColumn:r}=$,{fullAllDataRowIdData:a}=P;let i=Object.assign({},l);const s=He.value,{reserve:c,lazy:d,accordion:u,toggleMethod:f}=s,g=[],m=z.getColumnIndex(r),p=z.getVMColumnIndex(r);if(e){n.default.isArray(e)||(e=[e]),u&&(i={},e=e.slice(e.length-1,e.length));const l=f?e.filter((e=>f({$table:lt,expanded:t,column:r,columnIndex:m,$columnIndex:p,row:e,rowIndex:z.getRowIndex(e),$rowIndex:z.getVMRowIndex(e)}))):e;t?l.forEach((e=>{const t=(0,h.getRowid)(lt,e);if(!i[t]){const l=a[t];!d||l.expandLoaded||o[t]?i[t]=e:g.push(kt(e))}})):l.forEach((e=>{const t=(0,h.getRowid)(lt,e);i[t]&&delete i[t]})),c&&l.forEach((e=>Lt(e,t)))}return $.rowExpandedMaps=i,Promise.all(g).then((()=>z.recalculate()))},isRowExpandByRow(e){const{rowExpandedMaps:t}=$;return!!t[(0,h.getRowid)(lt,e)]},isExpandByRow:e=>z.isRowExpandByRow(e),clearRowExpand(){const{tableFullData:e}=P,t=He.value,{reserve:l}=t,n=z.getRowExpandRecords();return $.rowExpandedMaps={},l&&e.forEach((e=>Lt(e,!1))),(0,o.nextTick)().then((()=>{n.length&&z.recalculate()}))},clearRowExpandReserve:()=>(P.rowExpandedReserveRowMap={},(0,o.nextTick)()),getRowExpandRecords(){const e=[];return n.default.each($.rowExpandedMaps,(t=>{t&&e.push(t)})),e},getTreeExpandRecords(){const e=[];return n.default.each($.treeExpandedMaps,(t=>{t&&e.push(t)})),e},isTreeExpandLoaded(e){const{fullAllDataRowIdData:t}=P,l=t[(0,h.getRowid)(lt,e)];return l&&!!l.treeLoaded},clearTreeExpandLoaded(e){const{treeExpandedMaps:t}=$,{fullAllDataRowIdData:l}=P,n=We.value,{transform:r,lazy:a}=n,i=(0,h.getRowid)(lt,e),s=l[i];return a&&s&&(s.treeLoaded=!1,t[i]&&delete t[i]),r?(Ct(),B.handleTableData()):(0,o.nextTick)()},reloadTreeExpand(e){const{treeExpandLazyLoadedMaps:t}=$,l=We.value,n=l.hasChild||l.hasChildField,{transform:r,lazy:a}=l,i=(0,h.getRowid)(lt,e);return a&&e[n]&&!t[i]&&z.clearTreeExpandLoaded(e).then((()=>It(e))).then((()=>{if(r)return Ct(),B.handleTableData()})).then((()=>z.recalculate())),(0,o.nextTick)()},reloadTreeChilds:e=>z.reloadTreeExpand(e),toggleTreeExpand:e=>z.setTreeExpand(e,!z.isTreeExpandByRow(e)),setAllTreeExpand(e){const{tableFullData:t}=P,l=We.value,{transform:o,lazy:r}=l,a=l.children||l.childrenField,i=[];return n.default.eachTree(t,(e=>{const t=e[a];(r||t&&t.length)&&i.push(e)}),{children:a}),z.setTreeExpand(i,e).then((()=>{if(o)return Ct(),z.recalculate()}))},setTreeExpand(e,t){const l=We.value,{transform:r}=l;return e&&(n.default.isArray(e)||(e=[e]),e.length)?r?((e,t)=>Bt(e,t).then((()=>(Ct(),B.handleTableData()))).then((()=>z.recalculate())))(e,t):Bt(e,t):(0,o.nextTick)()},isTreeExpandByRow(e){const{treeExpandedMaps:t}=$;return!!t[(0,h.getRowid)(lt,e)]},clearTreeExpand(){const{tableFullTreeData:e}=P,t=We.value,l=t.children||t.childrenField,{transform:o,reserve:r}=t,a=z.getTreeExpandRecords();return $.treeExpandedMaps={},r&&n.default.eachTree(e,(e=>Mt(e,!1)),{children:l}),B.handleTableData().then((()=>{if(o)return Ct(),B.handleTableData()})).then((()=>{if(a.length)return z.recalculate()}))},clearTreeExpandReserve:()=>(P.treeExpandedReserveRowMap={},(0,o.nextTick)()),getScroll(){const{scrollXLoad:e,scrollYLoad:t}=$,l=Z.value.$el;return{virtualX:e,virtualY:t,scrollTop:l.scrollTop,scrollLeft:l.scrollLeft}},scrollTo(e,t){const l=Z.value,a=Q.value,i=oe.value,s=l?l.$el:null,c=i?i.$el:null,d=a?a.$el:null;return n.default.isNumber(e)&&(0,r.setScrollLeft)(d||s,e),n.default.isNumber(t)&&(0,r.setScrollTop)(c||s,t),$.scrollXLoad||$.scrollYLoad?new Promise((e=>{setTimeout((()=>{(0,o.nextTick)((()=>{e()}))}),50)})):(0,o.nextTick)()},scrollToRow(t,l){const o=[];return t&&(e.treeConfig?o.push(B.scrollToTreeRow(t)):o.push((0,h.rowToVisible)(lt,t))),l&&o.push(z.scrollToColumn(l)),Promise.all(o)},scrollToColumn(e){const{fullColumnIdData:t}=P,l=(0,h.handleFieldOrColumn)(lt,e);return l&&t[l.id]?(0,h.colToVisible)(lt,l):(0,o.nextTick)()},clearScroll(){const{scrollXStore:e,scrollYStore:t}=P,l=Z.value,n=Q.value,r=oe.value,a=l?l.$el:null,i=r?r.$el:null,s=n?n.$el:null;return i&&((0,h.restoreScrollListener)(i),i.scrollTop=0),s&&(s.scrollLeft=0),a&&((0,h.restoreScrollListener)(a),a.scrollTop=0,a.scrollLeft=0),e.startIndex=0,e.endIndex=e.visibleSize,t.startIndex=0,t.endIndex=t.visibleSize,(0,o.nextTick)()},updateFooter(){const{showFooter:t,footerData:l,footerMethod:n}=e,{visibleColumn:r,afterFullData:a}=P;let i=[];return t&&l&&l.length?i=l.slice(0):t&&n&&(i=r.length?n({columns:r,data:a,$table:lt,$grid:ce}):[]),$.footerTableData=i,(0,o.nextTick)()},updateStatus(t,l){const r=!n.default.isUndefined(l);return(0,o.nextTick)().then((()=>{const{editRules:o}=e,{validStore:n}=$,a=Z.value;if(t&&a&&o){const{row:e,column:o}=t,a="change";if(lt.hasCellRules&&lt.hasCellRules(a,e,o)){const t=z.getCellElement(e,o);if(t)return lt.validCellRules(a,e,o,l).then((()=>{r&&n.visible&&(0,h.setCellValue)(e,o,l),lt.clearValidate(e,o)})).catch((({rule:n})=>{r&&(0,h.setCellValue)(e,o,l),lt.showValidTooltip({rule:n,row:e,column:o,cell:t})}))}}}))},setMergeCells:t=>(e.spanMethod&&(0,p.errLog)("vxe.error.errConflicts",["merge-cells","span-method"]),dt(t,$.mergeList,P.afterFullData),(0,o.nextTick)().then((()=>(z.updateCellAreas(),wt())))),removeMergeCells(t){e.spanMethod&&(0,p.errLog)("vxe.error.errConflicts",["merge-cells","span-method"]);const l=ut(t,$.mergeList,P.afterFullData);return(0,o.nextTick)().then((()=>(z.updateCellAreas(),wt(),l)))},getMergeCells:()=>$.mergeList.slice(0),clearMergeCells:()=>($.mergeList=[],(0,o.nextTick)().then((()=>wt()))),setMergeFooterItems:t=>(e.footerSpanMethod&&(0,p.errLog)("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),dt(t,$.mergeFooterList),(0,o.nextTick)().then((()=>(z.updateCellAreas(),wt())))),removeMergeFooterItems(t){e.footerSpanMethod&&(0,p.errLog)("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const l=ut(t,$.mergeFooterList);return(0,o.nextTick)().then((()=>(z.updateCellAreas(),wt(),l)))},getMergeFooterItems:()=>$.mergeFooterList.slice(0),clearMergeFooterItems:()=>($.mergeFooterList=[],(0,o.nextTick)().then((()=>wt()))),updateCellAreas(){const{mouseConfig:t}=e,l=Me.value;return t&&l.area&&lt.handleUpdateCellAreas?lt.handleUpdateCellAreas():(0,o.nextTick)()},getCustomStoreData(){const{id:t}=e,l=Ke.value,{collectColumn:o}=P,{checkMethod:r}=l,a={},i={},s={},c={},d={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0};if(!t)return(0,p.errLog)("vxe.error.reqProp",["id"]),d;let u=0,f=0,g=0,h=0;return n.default.eachTree(o,((e,t,l,n,d)=>{if(!d&&(o.forEach((e=>{const t=e.getKey();t&&(f=1,i[t]=e.renderSortNumber)})),e.fixed&&e.fixed!==e.defaultFixed)){const t=e.getKey();t&&(g=1,c[t]=e.fixed)}if(e.resizeWidth){const t=e.getKey();t&&(u=1,a[t]=e.renderWidth)}if(!r||r({column:e}))if(!e.visible&&e.defaultVisible){const t=e.getKey();t&&(h=1,s[t]=!1)}else if(e.visible&&!e.defaultVisible){const t=e.getKey();t&&(h=1,s[t]=!0)}})),u&&(d.resizableData=a),f&&(d.sortData=i),g&&(d.fixedData=c),h&&(d.visibleData=s),d},focus:()=>(P.isActivated=!0,(0,o.nextTick)()),blur:()=>(P.isActivated=!1,(0,o.nextTick)()),connect:e=>(e?(de=e,de.syncUpdate({collectColumn:P.collectColumn,$table:lt})):(0,p.errLog)("vxe.error.barUnableLink"),(0,o.nextTick)())};const Yt=t=>{const{editStore:l,ctxMenuStore:o,filterStore:n,customStore:a}=$,{mouseConfig:i,editRules:s}=e,c=H.value,d=Se.value,u=fe.value,f=ke.value,{actived:g}=l,h=q.value,m=K.value,p=Y.value,v=X.value;if(m&&((0,r.getEventTargetNode)(t,c,"vxe-cell--filter").flag||(0,r.getEventTargetNode)(t,m.$el).flag||(0,r.getEventTargetNode)(t,document.body,"vxe-table--ignore-clear").flag||B.preventEvent(t,"event.clearFilter",n.args,z.closeFilter)),p&&(a.btnEl===t.target||(0,r.getEventTargetNode)(t,document.body,"vxe-toolbar-custom-target").flag||(0,r.getEventTargetNode)(t,p.$el).flag||(0,r.getEventTargetNode)(t,document.body,"vxe-table--ignore-clear").flag||B.preventEvent(t,"event.clearCustom",{},(()=>{lt.closeCustom&&lt.closeCustom()}))),g.row){if(!1!==d.autoClear){const l=g.args.cell;l&&(0,r.getEventTargetNode)(t,l).flag||h&&(0,r.getEventTargetNode)(t,h.$el).flag||(!P._lastCallTime||P._lastCallTime+50<Date.now())&&((0,r.getEventTargetNode)(t,document.body,"vxe-table--ignore-clear").flag||B.preventEvent(t,"event.clearEdit",g.args,(()=>{let l;if("row"===d.mode){const e=(0,r.getEventTargetNode)(t,c,"vxe-body--row"),o=e.flag?z.getRowNode(e.targetElem):null;l=!!o&&!lt.eqRow(o.item,g.args.row)}else l=!(0,r.getEventTargetNode)(t,c,"col--edit").flag;if(l||(l=(0,r.getEventTargetNode)(t,c,"vxe-header--row").flag),l||(l=(0,r.getEventTargetNode)(t,c,"vxe-footer--row").flag),!l&&e.height&&!$.overflowY){const e=t.target;(0,r.hasClass)(e,"vxe-table--body-wrapper")&&(l=t.offsetY<e.clientHeight)}!l&&(0,r.getEventTargetNode)(t,c).flag||setTimeout((()=>lt.clearEdit(t)))})))}}else if(i&&!((0,r.getEventTargetNode)(t,c).flag||ce&&(0,r.getEventTargetNode)(t,ce.getRefMaps().refElem.value).flag||v&&(0,r.getEventTargetNode)(t,v.getRefMaps().refElem.value).flag||de&&(0,r.getEventTargetNode)(t,de.getRefMaps().refElem.value).flag)&&(lt.clearSelected&&lt.clearSelected(),f.autoClear&&lt.getCellAreas)){const e=lt.getCellAreas();e&&e.length&&!(0,r.getEventTargetNode)(t,document.body,"vxe-table--ignore-areas-clear").flag&&B.preventEvent(t,"event.clearAreas",{},(()=>{lt.clearCellAreas(),lt.clearCopyCellArea(),lt.dispatchEvent("clear-cell-area-selection",{cellAreas:e},t)}))}lt.closeMenu&&o.visible&&v&&!(0,r.getEventTargetNode)(t,v.getRefMaps().refElem.value).flag&&lt.closeMenu();const b=(0,r.getEventTargetNode)(t,ce?ce.getRefMaps().refElem.value:c).flag;!b&&s&&u.autoClear&&($.validErrorMaps={}),P.isActivated=b},Gt=()=>{z.closeFilter(),lt.closeMenu&&lt.closeMenu()},Zt=()=>{z.closeTooltip(),lt.closeMenu&&lt.closeMenu()},Qt=t=>{const{mouseConfig:l,keyboardConfig:n}=e,{filterStore:r,ctxMenuStore:a,editStore:i}=$,s=Me.value,c=Le.value,{actived:d}=i;L.hasKey(t,D.ESCAPE)&&B.preventEvent(t,"event.keydown",null,(()=>{if(z.dispatchEvent("keydown-start",{},t),n&&l&&s.area&&lt.handleKeyboardEvent)lt.handleKeyboardEvent(t);else if((d.row||r.visible||a.visible)&&(t.stopPropagation(),lt.closeMenu&&lt.closeMenu(),z.closeFilter(),n&&c.isEsc&&d.row)){const e=d.args;lt.clearEdit(t),s.selected&&(0,o.nextTick)((()=>lt.handleSelected(e,t)))}z.dispatchEvent("keydown",{},t),z.dispatchEvent("keydown-end",{},t)}))},Jt=t=>{P.isActivated&&B.preventEvent(t,"event.keydown",null,(()=>{const{mouseConfig:l,keyboardConfig:r,treeConfig:i,editConfig:s,highlightCurrentRow:c}=e,{ctxMenuStore:d,editStore:u,currentRow:f}=$,g=Ve.value,m=je.value,p=Le.value,v=Me.value,b=Se.value,x=We.value,C=$e.value,w=ve.value,{selected:R,actived:T}=u,E=x.children||x.childrenField,y=t.keyCode,S=L.hasKey(t,D.ESCAPE),O=L.hasKey(t,D.BACKSPACE),I=L.hasKey(t,D.TAB),M=L.hasKey(t,D.ENTER),k=L.hasKey(t,D.SPACEBAR),F=L.hasKey(t,D.ARROW_LEFT),_=L.hasKey(t,D.ARROW_UP),A=L.hasKey(t,D.ARROW_RIGHT),j=L.hasKey(t,D.ARROW_DOWN),N=L.hasKey(t,D.DELETE),V=L.hasKey(t,D.F2),H=L.hasKey(t,D.CONTEXT_MENU),W=t.metaKey,U=t.ctrlKey,q=t.shiftKey,X=t.altKey,K=F||_||A||j,Y=g&&d.visible&&(M||k||K),G=(0,a.isEnableConf)(s)&&T.column&&T.row,Z=b.beforeEditMethod||b.activeMethod;if(Y)t.preventDefault(),d.showChild&&(0,a.hasChildrenList)(d.selected)?lt.moveCtxMenu(t,d,"selectChild",F,!1,d.selected.children):lt.moveCtxMenu(t,d,"selected",A,!0,C);else if(r&&l&&v.area&&lt.handleKeyboardEvent)lt.handleKeyboardEvent(t);else if(S){if(lt.closeMenu&&lt.closeMenu(),z.closeFilter(),r&&p.isEsc&&T.row){const e=T.args;lt.clearEdit(t),v.selected&&(0,o.nextTick)((()=>lt.handleSelected(e,t)))}}else if(k&&r&&p.isChecked&&R.row&&R.column&&("checkbox"===R.column.type||"radio"===R.column.type))t.preventDefault(),"checkbox"===R.column.type?B.handleToggleCheckRowEvent(t,R.args):B.triggerRadioRowEvent(t,R.args);else if(V&&(0,a.isEnableConf)(s))G||R.row&&R.column&&(t.preventDefault(),lt.handleEdit(R.args,t));else if(H)P._keyCtx=R.row&&R.column&&m.length,clearTimeout(Kt),Kt=setTimeout((()=>{P._keyCtx=!1}),1e3);else if(M&&!X&&r&&p.isEnter&&(R.row||T.row||i&&(w.isCurrent||c)&&f)){if(U){if(T.row){const e=T.args;lt.clearEdit(t),v.selected&&(0,o.nextTick)((()=>lt.handleSelected(e,t)))}}else if(R.row||T.row){const e=R.row?R.args:T.args;q?p.enterToTab?lt.moveTabSelected(e,q,t):lt.moveSelected(e,F,!0,A,!1,t):p.enterToTab?lt.moveTabSelected(e,q,t):lt.moveSelected(e,F,!1,A,!0,t)}else if(i&&(w.isCurrent||c)&&f){const e=f[E];if(e&&e.length){t.preventDefault();const l=e[0],o={$table:lt,row:l,rowIndex:z.getRowIndex(l),$rowIndex:z.getVMRowIndex(l)};z.setTreeExpand(f,!0).then((()=>z.scrollToRow(l))).then((()=>B.triggerCurrentRowEvent(t,o)))}}}else if(K&&r&&p.isArrow)G||(R.row&&R.column?lt.moveSelected(R.args,F,_,A,j,t):(_||j)&&(w.isCurrent||c)&&lt.moveCurrentRow(_,j,t));else if(I&&r&&p.isTab)R.row||R.column?lt.moveTabSelected(R.args,q,t):(T.row||T.column)&&lt.moveTabSelected(T.args,q,t);else if(r&&p.isDel&&N&&(0,a.isEnableConf)(s)&&(R.row||R.column)){if(!G){const{delMethod:e}=p,l={row:R.row,rowIndex:z.getRowIndex(R.row),column:R.column,columnIndex:z.getColumnIndex(R.column),$table:lt,$grid:ce};Z&&!Z(l)||(e?e(l):(0,h.setCellValue)(R.row,R.column,null),z.updateFooter(),lt.dispatchEvent("cell-delete-value",l,t))}}else if(O&&r&&p.isBack&&(0,a.isEnableConf)(s)&&(R.row||R.column)){if(!G){const{backMethod:e}=p;if(p.isDel&&(0,a.isEnableConf)(s)&&(R.row||R.column)){const l={row:R.row,rowIndex:z.getRowIndex(R.row),column:R.column,columnIndex:z.getColumnIndex(R.column),$table:lt,$grid:ce};Z&&!Z(l)||(e?e(l):((0,h.setCellValue)(R.row,R.column,null),lt.handleEdit(R.args,t)),lt.dispatchEvent("cell-backspace-value",l,t))}}}else if(O&&r&&i&&p.isBack&&(w.isCurrent||c)&&f){const{parent:e}=n.default.findTree(P.afterTreeFullData,(e=>e===f),{children:E});if(e){t.preventDefault();const l={row:e,rowIndex:z.getRowIndex(e),$rowIndex:z.getVMRowIndex(e),$table:lt,$grid:ce};z.setTreeExpand(e,!1).then((()=>z.scrollToRow(e))).then((()=>B.triggerCurrentRowEvent(t,l)))}}else if(r&&(0,a.isEnableConf)(s)&&p.isEdit&&!U&&!W&&(k||y>=48&&y<=57||y>=65&&y<=90||y>=96&&y<=111||y>=186&&y<=192||y>=219&&y<=222)){const{editMethod:e}=p;if(R.column&&R.row&&(0,a.isEnableConf)(R.column.editRender)){const l=b.beforeEditMethod||b.activeMethod,o={row:R.row,rowIndex:z.getRowIndex(R.row),column:R.column,columnIndex:z.getColumnIndex(R.column),$table:lt,$grid:ce};l&&!l(Object.assign(Object.assign({},R.args),{$table:lt,$grid:ce}))||(e?e(o):((0,h.setCellValue)(R.row,R.column,null),lt.handleEdit(R.args,t)))}}z.dispatchEvent("keydown",{},t)}))},el=t=>{const{keyboardConfig:l,mouseConfig:o}=e,{editStore:n,filterStore:r}=$,{isActivated:a}=P,i=Me.value,s=Le.value,{actived:c}=n;a&&!r.visible&&(c.row||c.column||l&&s.isClip&&o&&i.area&&lt.handlePasteCellAreaEvent&&lt.handlePasteCellAreaEvent(t),z.dispatchEvent("paste",{},t))},tl=t=>{const{keyboardConfig:l,mouseConfig:o}=e,{editStore:n,filterStore:r}=$,{isActivated:a}=P,i=Me.value,s=Le.value,{actived:c}=n;a&&!r.visible&&(c.row||c.column||l&&s.isClip&&o&&i.area&&lt.handleCopyCellAreaEvent&&lt.handleCopyCellAreaEvent(t),z.dispatchEvent("copy",{},t))},ll=t=>{const{keyboardConfig:l,mouseConfig:o}=e,{editStore:n,filterStore:r}=$,{isActivated:a}=P,i=Me.value,s=Le.value,{actived:c}=n;a&&!r.visible&&(c.row||c.column||l&&s.isClip&&o&&i.area&&lt.handleCutCellAreaEvent&&lt.handleCutCellAreaEvent(t),z.dispatchEvent("cut",{},t))},ol=()=>{lt.closeMenu&&lt.closeMenu();const e=H.value;if(!e||!e.clientWidth)return(0,o.nextTick)();z.updateCellAreas(),z.recalculate(!0)},nl=e=>{const t=W.value;clearTimeout(P.tooltipTimeout),e?z.closeTooltip():t&&t.setActived&&t.setActived(!0)},rl=(e,t,l,r,i)=>{i.cell=t;const{tooltipStore:s}=$,c=Te.value,{column:d,row:u}=i,{showAll:f,contentMethod:g}=c,h=g?g(i):null,m=g&&!n.default.eqNull(h),p=m?h:n.default.toString("html"===d.type?l.innerText:l.textContent).trim(),v=l.scrollWidth>l.clientWidth;return p&&(f||m||v)&&(Object.assign(s,{row:u,column:d,visible:!0,currOpts:{}}),(0,o.nextTick)((()=>{const e=W.value;e&&e.open&&e.open(v?l:r||l,(0,a.formatText)(p))}))),(0,o.nextTick)()};B={getSetupOptions:()=>T(),updateAfterDataIndex:xt,callSlot(e,t){if(e){if(ce)return ce.callSlot(e,t);if(n.default.isFunction(e))return(0,m.getSlotVNs)(e(t))}return[]},getParentElem(){const e=H.value;if(ce){const e=ce.getRefMaps().refElem.value;return e?e.parentNode:null}return e?e.parentNode:null},getParentHeight(){const{height:t}=e,l=H.value;if(l){const e=l.parentNode,o="100%"===t||"auto"===t?(0,r.getPaddingTopBottomSize)(e):0;return Math.floor(ce?ce.getParentHeight():n.default.toNumber(getComputedStyle(e).height)-o)}return 0},getExcludeHeight:()=>ce?ce.getExcludeHeight():0,defineField(t){const{treeConfig:l}=e,o=He.value,r=We.value,i=we.value,s=Re.value,c=r.children||r.childrenField,d=(0,h.getRowkey)(lt);return n.default.isArray(t)||(t=[t]),t.map((e=>(P.tableFullColumn.forEach((t=>{const{field:l,editRender:o}=t;if(l&&!n.default.has(e,l)&&!e[l]){let r=null;if(o){const{defaultValue:e}=o;n.default.isFunction(e)?r=e({column:t}):n.default.isUndefined(e)||(r=e)}n.default.set(e,l,r)}})),[i.labelField,s.checkField,s.labelField,o.labelField].forEach((t=>{t&&(0,a.eqEmptyValue)(n.default.get(e,t))&&n.default.set(e,t,null)})),l&&r.lazy&&n.default.isUndefined(e[c])&&(e[c]=null),(0,a.eqEmptyValue)(n.default.get(e,d))&&n.default.set(e,d,(0,h.getRowUniqueId)()),e)))},handleTableData(t){const{scrollYLoad:l}=$,{scrollYStore:r,fullDataRowIdData:i}=P;let s=P.afterFullData;t&&((()=>{const{treeConfig:t}=e,{tableFullColumn:l,tableFullData:o,tableFullTreeData:r}=P,i=Ie.value,s=Oe.value,c=We.value,{transform:d}=c,{remote:u,filterMethod:f}=i,{remote:g,sortMethod:m,multiple:p,chronological:v}=s;let b=[],x=[];if(u&&g)t&&d?(x=n.default.searchTree(r,(()=>!0),Object.assign(Object.assign({},c),{original:!0})),b=x):(b=t?r.slice(0):o.slice(0),x=b);else{const e=[];let i=[];if(l.forEach((t=>{const{field:l,sortable:o,order:n,filters:r}=t;if(!u&&r&&r.length){const l=[],o=[];r.forEach((e=>{e.checked&&(o.push(e),l.push(e.value))})),o.length&&e.push({column:t,valueList:l,itemList:o})}!g&&o&&n&&i.push({column:t,field:l,property:l,order:n,sortTime:t.sortTime})})),p&&v&&i.length>1&&(i=n.default.orderBy(i,"sortTime")),!u&&e.length){const l=t=>e.every((({column:e,valueList:l,itemList:o})=>{const{filterMethod:r,filterRender:i}=e,s=(0,a.isEnableConf)(i)?y.get(i.name):null,c=s?s.tableFilterMethod||s.filterMethod:null,d=s?s.tableFilterDefaultMethod||s.defaultTableFilterMethod||s.defaultFilterMethod:null,u=(0,h.getCellValue)(t,e);return r?o.some((l=>r({value:l.value,option:l,cellValue:u,row:t,column:e,$table:lt}))):c?o.some((l=>c({value:l.value,option:l,cellValue:u,row:t,column:e,$table:lt}))):f?f({options:o,values:l,cellValue:u,row:t,column:e}):d?o.some((l=>d({value:l.value,option:l,cellValue:u,row:t,column:e,$table:lt}))):l.indexOf(n.default.get(t,e.field))>-1}));t&&d?(x=n.default.searchTree(r,l,Object.assign(Object.assign({},c),{original:!0})),b=x):(b=t?r.filter(l):o.filter(l),x=b)}else t&&d?(x=n.default.searchTree(r,(()=>!0),Object.assign(Object.assign({},c),{original:!0})),b=x):(b=t?r.slice(0):o.slice(0),x=b);if(!g&&i.length)if(t&&d){if(m){const e=m({data:x,sortList:i,$table:lt});x=n.default.isArray(e)?e:x}else x=n.default.orderBy(x,i.map((({column:e,order:t})=>[bt(e),t])));b=x}else{if(m){const e=m({data:b,sortList:i,$table:lt});b=n.default.isArray(e)?e:b}else b=n.default.orderBy(b,i.map((({column:e,order:t})=>[bt(e),t])));x=b}}P.afterFullData=b,P.afterTreeFullData=x,xt()})(),s=Ct());const c=l?s.slice(r.startIndex,r.endIndex):s.slice(0);return c.forEach(((e,t)=>{const l=(0,h.getRowid)(lt,e),o=i[l];o&&(o.$index=t)})),$.tableData=c,(0,o.nextTick)()},cacheRowMap(t){const{treeConfig:l}=e,o=We.value;let{fullDataRowIdData:r,fullAllDataRowIdData:i,tableFullData:s,tableFullTreeData:c}=P;const d=o.children||o.childrenField,u=o.hasChild||o.hasChildField,f=(0,h.getRowkey)(lt),g=l&&o.lazy,m=(e,o,s,c,m,p)=>{let v=(0,h.getRowid)(lt,e);const b=l&&c?(0,h.toTreePathSeq)(c):o+1,x=p?p.length-1:0;(0,a.eqEmptyValue)(v)&&(v=(0,h.getRowUniqueId)(),n.default.set(e,f,v)),g&&e[u]&&n.default.isUndefined(e[d])&&(e[d]=null);const C={row:e,rowid:v,seq:b,index:l&&m?-1:o,_index:-1,$index:-1,items:s,parent:m,level:x};t&&(r[v]=C),i[v]=C};t&&(r=P.fullDataRowIdData={}),i=P.fullAllDataRowIdData={},l?n.default.eachTree(c,m,{children:d}):s.forEach(m)},cacheSourceMap(t){const{treeConfig:l}=e,o=We.value;let{sourceDataRowIdData:r}=P;const i=n.default.clone(t,!0),s=(0,h.getRowkey)(lt);r=P.sourceDataRowIdData={};const c=e=>{let t=(0,h.getRowid)(lt,e);(0,a.eqEmptyValue)(t)&&(t=(0,h.getRowUniqueId)(),n.default.set(e,s,t)),r[t]=e};if(l){const e=o.children||o.childrenField;n.default.eachTree(i,c,{children:o.transform?o.mapChildrenField:e})}else i.forEach(c);P.tableSourceData=i},analyColumnWidth(){const{tableFullColumn:e}=P,t=pe.value,{width:l,minWidth:o}=t,n=[],a=[],i=[],s=[],c=[],d=[],u=[],f=[];e.forEach((e=>{l&&!e.width&&(e.width=l),o&&!e.minWidth&&(e.minWidth=o),e.visible&&(e.resizeWidth?n.push(e):"auto"===e.width?u.push(e):(0,r.isPx)(e.width)?a.push(e):(0,r.isScale)(e.width)?c.push(e):(0,r.isPx)(e.minWidth)?i.push(e):"auto"===e.minWidth?s.push(e):(0,r.isScale)(e.minWidth)?d.push(e):f.push(e))})),Object.assign($.columnStore,{resizeList:n,pxList:a,pxMinList:i,autoMinList:s,scaleList:c,scaleMinList:d,autoList:u,remainList:f})},saveCustomStore(e){const t=ue.value,l=Ke.value,{updateStore:r,storage:a}=l,i=!0===a,s=i?{}:Object.assign({},a||{}),c=i||s.resizable,d=i||s.visible,u=i||s.fixed,f=i||s.sort;if(c||d||u||f){if(!t)return(0,p.errLog)("vxe.error.reqProp",["id"]),(0,o.nextTick)();const l="reset"===e?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:z.getCustomStoreData();if(r)return r({id:t,type:e,storeData:l});((e,t)=>{const l=T().version,o=rt();o[e]=t||void 0,o._v=l,localStorage.setItem(A,n.default.toJSONString(o))})(t,"reset"===e?null:l)}return(0,o.nextTick)()},handleCustom(){const{mouseConfig:t}=e;return t&&(lt.clearSelected&&lt.clearSelected(),lt.clearCellAreas&&(lt.clearCellAreas(),lt.clearCopyCellArea())),B.analyColumnWidth(),z.refreshColumn(!0)},handleUpdateDataQueue(){$.upDataFlag++},handleRefreshColumnQueue(){$.reColumnFlag++},preventEvent(e,t,l,o,n){let r,a=M.get(t);return a.length||"event.clearEdit"!==t||(a=M.get("event.clearActived")),a.some((t=>!1===t(Object.assign({$grid:ce,$table:lt,$event:e},l))))||o&&(r=o()),n&&n(),r},checkSelectionStatus(){const{treeConfig:t}=e,{selectCheckboxMaps:l,treeIndeterminateMaps:o}=$,{afterFullData:r}=P,a=Re.value,{checkField:i,checkStrictly:s,checkMethod:c}=a,d=a.indeterminateField||a.halfField;if(!s){const e=[],a=[];let s=!1,u=!1,f=!1;i?(s=r.every(c?t=>c({row:t})?!!n.default.get(t,i)&&(a.push(t),!0):(e.push(t),!0):e=>n.default.get(e,i)),u=s&&r.length!==e.length,f=t?d?!u&&r.some((e=>n.default.get(e,i)||n.default.get(e,d)||!!o[(0,h.getRowid)(lt,e)])):!u&&r.some((e=>n.default.get(e,i)||!!o[(0,h.getRowid)(lt,e)])):d?!u&&r.some((e=>n.default.get(e,i)||n.default.get(e,d))):!u&&r.some((e=>n.default.get(e,i)))):(s=r.every(c?t=>c({row:t})?!!l[(0,h.getRowid)(lt,t)]&&(a.push(t),!0):(e.push(t),!0):e=>l[(0,h.getRowid)(lt,e)]),u=s&&r.length!==e.length,f=t?!u&&r.some((e=>{const t=(0,h.getRowid)(lt,e);return o[t]||l[t]})):!u&&r.some((e=>l[(0,h.getRowid)(lt,e)]))),$.isAllSelected=u,$.isIndeterminate=f}},handleBatchSelectRows(t,l,o){const{treeConfig:r}=e,{selectCheckboxMaps:a}=$,i=Object.assign({},a),s=Re.value,{checkField:c,checkStrictly:d,checkMethod:u}=s;c?r&&!d?t.forEach((e=>{B.handleSelectRow({row:e},l,o)})):t.forEach((e=>{(o||!u||u({row:e}))&&(n.default.set(e,c,l),Et(e,l))})):r&&!d?t.forEach((e=>{B.handleSelectRow({row:e},l,o)})):t.forEach((e=>{const t=(0,h.getRowid)(lt,e);(o||!u||u({row:e}))&&(l?i[t]||(i[t]=e):i[t]&&delete i[t],Et(e,l))})),$.selectCheckboxMaps=i},handleSelectRow({row:t},l,o){const{treeConfig:r}=e,{selectCheckboxMaps:a,treeIndeterminateMaps:i}=$,s=Object.assign({},a),{afterFullData:c}=P,d=We.value,u=d.children||d.childrenField,f=Re.value,{checkField:g,checkStrictly:m,checkMethod:p}=f,v=f.indeterminateField||f.halfField,b=(0,h.getRowid)(lt,t);if(g)if(r&&!m){-1===l?(i[b]||(v&&n.default.set(t,v,!0),i[b]=t),n.default.set(t,g,!1)):n.default.eachTree([t],(e=>{(lt.eqRow(e,t)||o||!p||p({row:e}))&&(n.default.set(e,g,l),v&&n.default.set(t,v,!1),delete i[(0,h.getRowid)(lt,e)],Et(t,l))}),{children:u});const e=n.default.findTree(c,(e=>lt.eqRow(e,t)),{children:u});if(e&&e.parent){let t;const r=[],a={};if(!o&&p?e.items.forEach((e=>{if(p({row:e})){const t=(0,h.getRowid)(lt,e);a[t]=e,r.push(e)}})):e.items.forEach((e=>{const t=(0,h.getRowid)(lt,e);a[t]=e,r.push(e)})),n.default.find(e.items,(e=>!!i[(0,h.getRowid)(lt,e)])))t=-1;else{const o=[];e.items.forEach((e=>{n.default.get(e,g)&&o.push(e)})),t=o.filter((e=>a[(0,h.getRowid)(lt,e)])).length===r.length||!(!o.length&&-1!==l)&&-1}return $.selectCheckboxMaps=s,void B.handleSelectRow({row:e.parent},t,o)}}else(o||!p||p({row:t}))&&(n.default.set(t,g,l),Et(t,l));else if(r&&!m){-1===l?(i[b]||(v&&n.default.set(t,v,!0),i[b]=t),s[b]&&delete s[b]):n.default.eachTree([t],(e=>{const r=(0,h.getRowid)(lt,e);(lt.eqRow(e,t)||o||!p||p({row:e}))&&(l?s[r]=e:s[r]&&delete s[r],v&&n.default.set(t,v,!1),delete i[(0,h.getRowid)(lt,e)],Et(t,l))}),{children:u});const e=n.default.findTree(c,(e=>lt.eqRow(e,t)),{children:u});if(e&&e.parent){let t;const r=[],a={};if(!o&&p?e.items.forEach((e=>{if(p({row:e})){const t=(0,h.getRowid)(lt,e);a[t]=e,r.push(e)}})):e.items.forEach((e=>{const t=(0,h.getRowid)(lt,e);a[t]=e,r.push(e)})),n.default.find(e.items,(e=>!!i[(0,h.getRowid)(lt,e)])))t=-1;else{const o=[];e.items.forEach((e=>{const t=(0,h.getRowid)(lt,e);s[t]&&o.push(e)})),t=o.filter((e=>a[(0,h.getRowid)(lt,e)])).length===r.length||!(!o.length&&-1!==l)&&-1}return $.selectCheckboxMaps=s,void B.handleSelectRow({row:e.parent},t,o)}}else(o||!p||p({row:t}))&&(l?s[b]||(s[b]=t):s[b]&&delete s[b],Et(t,l));$.selectCheckboxMaps=s},triggerHeaderTitleEvent(e,t,l){const n=t.content||t.message;if(n){const{tooltipStore:r}=$,{column:i}=l,s=(0,a.getFuncText)(n);nl(!0),r.row=null,r.column=i,r.visible=!0,r.currOpts=t,(0,o.nextTick)((()=>{const t=W.value;t&&t.open&&t.open(e.currentTarget,s)}))}},triggerHeaderTooltipEvent(e,t){const{tooltipStore:l}=$,{column:o}=t,n=e.currentTarget;nl(!0),l.column===o&&l.visible||rl(0,n,n,null,t)},triggerBodyTooltipEvent(t,l){const{editConfig:o}=e,{editStore:n}=$,{tooltipStore:r}=$,i=Se.value,{actived:s}=n,{row:c,column:d}=l,u=t.currentTarget;if(nl(r.column!==d||r.row!==c),d.editRender&&(0,a.isEnableConf)(o)){if("row"===i.mode&&s.row===c)return;if(s.row===c&&s.column===d)return}if(r.column!==d||r.row!==c||!r.visible){let e,t;d.treeNode?(e=u.querySelector(".vxe-tree-cell"),"html"===d.type&&(t=u.querySelector(".vxe-cell--html"))):t=u.querySelector("html"===d.type?".vxe-cell--html":".vxe-cell--label"),rl(0,u,e||u.children[0],t,l)}},triggerFooterTooltipEvent(e,t){const{column:l}=t,{tooltipStore:o}=$,n=e.currentTarget;nl(o.column!==l||!!o.row),o.column===l&&o.visible||rl(0,n,n.querySelector(".vxe-cell--item")||n.children[0],null,t)},handleTargetLeaveEvent(){const e=Te.value;let t=W.value;t&&t.setActived&&t.setActived(!1),e.enterable?P.tooltipTimeout=setTimeout((()=>{t=W.value,t&&t.isActived&&!t.isActived()&&z.closeTooltip()}),e.leaveDelay):z.closeTooltip()},triggerHeaderCellClickEvent(t,l){const{_lastResizeTime:o}=P,n=Oe.value,a=pe.value,{column:i}=l,s=t.currentTarget,c=o&&o>Date.now()-300,d=(0,r.getEventTargetNode)(t,s,"vxe-cell--sort").flag,u=(0,r.getEventTargetNode)(t,s,"vxe-cell--filter").flag;"cell"!==n.trigger||c||d||u||B.triggerSortEvent(t,i,nt(i)),z.dispatchEvent("header-cell-click",Object.assign({triggerResizable:c,triggerSort:d,triggerFilter:u,cell:s},l),t),(a.isCurrent||e.highlightCurrentColumn)&&B.triggerCurrentColumnEvent(t,l)},triggerHeaderCellDblclickEvent(e,t){z.dispatchEvent("header-cell-dblclick",Object.assign({cell:e.currentTarget},t),e)},triggerCellClickEvent(t,l){const{highlightCurrentRow:o,editConfig:n}=e,{editStore:i}=$,s=He.value,c=Se.value,d=We.value,u=we.value,f=Re.value,g=Le.value,h=ve.value,{actived:m,focused:p}=i,{row:v,column:b}=l,{type:x,treeNode:C}=b,w="radio"===x,R="checkbox"===x,T="expand"===x,E=t.currentTarget,y=w&&(0,r.getEventTargetNode)(t,E,"vxe-cell--radio").flag,S=R&&(0,r.getEventTargetNode)(t,E,"vxe-cell--checkbox").flag,O=C&&(0,r.getEventTargetNode)(t,E,"vxe-tree--btn-wrapper").flag,I=T&&(0,r.getEventTargetNode)(t,E,"vxe-table--expanded").flag;l=Object.assign({cell:E,triggerRadio:y,triggerCheckbox:S,triggerTreeNode:O,triggerExpandNode:I},l),S||y||(!I&&("row"===s.trigger||T&&"cell"===s.trigger)&&B.triggerRowExpandEvent(t,l),("row"===d.trigger||C&&"cell"===d.trigger)&&B.triggerTreeExpandEvent(t,l)),O||(I||((h.isCurrent||o)&&(S||y||B.triggerCurrentRowEvent(t,l)),!y&&("row"===u.trigger||w&&"cell"===u.trigger)&&B.triggerRadioRowEvent(t,l),!S&&("row"===f.trigger||R&&"cell"===f.trigger)&&B.handleToggleCheckRowEvent(t,l)),(0,a.isEnableConf)(n)&&(g.arrowCursorLock&&t&&"cell"===c.mode&&t.target&&/^input|textarea$/i.test(t.target.tagName)&&(p.column=b,p.row=v),"manual"===c.trigger?m.args&&m.row===v&&b!==m.column&&Tt(t,l):m.args&&v===m.row&&b===m.column||("click"===c.trigger||"dblclick"===c.trigger&&"row"===c.mode&&m.row===v)&&Tt(t,l))),z.dispatchEvent("cell-click",l,t)},triggerCellDblclickEvent(t,l){const{editConfig:o}=e,{editStore:n}=$,r=Se.value,{actived:i}=n,s=t.currentTarget;l=Object.assign({cell:s},l),(0,a.isEnableConf)(o)&&"dblclick"===r.trigger&&(i.args&&t.currentTarget===i.args.cell||("row"===r.mode?Rt("blur").catch((e=>e)).then((()=>{lt.handleEdit(l,t).then((()=>Rt("change"))).catch((e=>e))})):"cell"===r.mode&&lt.handleEdit(l,t).then((()=>Rt("change"))).catch((e=>e)))),z.dispatchEvent("cell-dblclick",l,t)},handleToggleCheckRowEvent(e,t){const{selectCheckboxMaps:l}=$,o=Re.value,{checkField:r,trigger:a}=o,{row:i}=t;if("manual"===a)return;let s=!1;s=r?!n.default.get(i,r):!l[(0,h.getRowid)(lt,i)],e?B.triggerCheckRowEvent(e,t,s):(B.handleSelectRow(t,s),B.checkSelectionStatus())},triggerCheckRowEvent(t,l,o){const n=Re.value,{row:r}=l,{afterFullData:a}=P,{checkMethod:i,trigger:s}=n;if("manual"!==s){if(t.stopPropagation(),n.isShiftKey&&t.shiftKey&&!e.treeConfig){const e=z.getCheckboxRecords();if(e.length){const o=e[0],n=z.getVTRowIndex(r),i=z.getVTRowIndex(o);if(n!==i){z.setAllCheckboxRow(!1);const e=n<i?a.slice(n,i+1):a.slice(i,n+1);return St(e,!0,!1),void z.dispatchEvent("checkbox-range-select",Object.assign({rangeRecords:e},l),t)}}}i&&!i({row:r})||(B.handleSelectRow(l,o),B.checkSelectionStatus(),z.dispatchEvent("checkbox-change",Object.assign({records:z.getCheckboxRecords(),reserves:z.getCheckboxReserveRecords(),indeterminates:z.getCheckboxIndeterminateRecords(),checked:o},l),t))}},triggerCheckAllEvent(e,t){const l=Re.value,{trigger:o}=l;"manual"!==o&&(e&&e.stopPropagation(),Ht(e,t))},triggerRadioRowEvent(e,t){const{selectRadioRow:l}=$,{row:o}=t,n=we.value,{trigger:r}=n;if("manual"===r)return;e.stopPropagation();let a=o,i=l!==a;i?yt(a):n.strict||(i=l===a,i&&(a=null,z.clearRadioRow())),i&&z.dispatchEvent("radio-change",Object.assign({oldValue:l,newValue:a},t),e)},triggerCurrentColumnEvent(e,t){const l=pe,{currentMethod:o}=l.value,{column:n}=t;o&&!o({column:n})||z.setCurrentColumn(n)},triggerCurrentRowEvent(e,t){const{currentRow:l}=$,o=ve,{currentMethod:n}=o.value,{row:r}=t,a=l!==r;n&&!n({row:r})||(z.setCurrentRow(r),a&&z.dispatchEvent("current-change",Object.assign({oldValue:l,newValue:r},t),e))},triggerRowExpandEvent(e,t){const{rowExpandLazyLoadedMaps:l,expandColumn:o}=$,n=He.value,{row:r}=t,{lazy:a,trigger:i}=n;if("manual"===i)return;e.stopPropagation();const s=(0,h.getRowid)(lt,r);if(!a||!l[s]){const t=!z.isRowExpandByRow(r),l=z.getColumnIndex(o),n=z.getVMColumnIndex(o);z.setRowExpand(r,t),z.dispatchEvent("toggle-row-expand",{expanded:t,column:o,columnIndex:l,$columnIndex:n,row:r,rowIndex:z.getRowIndex(r),$rowIndex:z.getVMRowIndex(r)},e)}},triggerTreeExpandEvent(e,t){const{treeExpandLazyLoadedMaps:l}=$,o=We.value,{row:n,column:r}=t,{lazy:a,trigger:i}=o;if("manual"===i)return;e.stopPropagation();const s=(0,h.getRowid)(lt,n);if(!a||!l[s]){const t=!z.isTreeExpandByRow(n),l=z.getColumnIndex(r),o=z.getVMColumnIndex(r);z.setTreeExpand(n,t),z.dispatchEvent("toggle-tree-expand",{expanded:t,column:r,columnIndex:l,$columnIndex:o,row:n},e)}},triggerSortEvent(t,l,o){const{mouseConfig:n}=e,r=Oe.value,a=Me.value,{field:i,sortable:s}=l;if(s){o&&l.order!==o?z.sort({field:i,order:o}):z.clearSort(r.multiple?l:null);const e={$table:lt,$event:t,column:l,field:i,property:i,order:l.order,sortList:z.getSortColumns(),sortTime:l.sortTime};n&&a.area&&lt.handleSortEvent&&lt.handleSortEvent(t,e),z.dispatchEvent("sort-change",e,t)}},triggerScrollXEvent(){Nt()},triggerScrollYEvent(e){const{scrollYStore:t}=P,{adaptive:l,offsetSize:o,visibleSize:n}=t;_&&l&&2*o+n<=40?Wt(e):Xt(e)},scrollToTreeRow(t){const{treeConfig:l}=e,{tableFullData:o}=P,r=[];if(l){const e=We.value,l=e.children||e.childrenField,a=n.default.findTree(o,(e=>lt.eqRow(e,t)),{children:l});if(a){const e=a.nodes;e.forEach(((t,l)=>{l<e.length-1&&!z.isTreeExpandByRow(t)&&r.push(z.setTreeExpand(t,!0))}))}}return Promise.all(r).then((()=>(0,h.rowToVisible)(lt,t)))},updateScrollYStatus:zt,updateScrollXSpace(){const{isGroup:e,scrollXLoad:t,scrollbarWidth:l}=$,{visibleColumn:n,scrollXStore:r,elemStore:a,tableWidth:i}=P,s=G.value,c=Z.value,d=Q.value,u=c?c.$el:null;if(u){const c=s?s.$el:null,f=d?d.$el:null,g=c?c.querySelector(".vxe-table--header"):null,h=u.querySelector(".vxe-table--body"),m=f?f.querySelector(".vxe-table--footer"):null,p=n.slice(0,r.startIndex).reduce(((e,t)=>e+t.renderWidth),0);let v="";t&&(v=`${p}px`),g&&(g.style.marginLeft=e?"":v),h.style.marginLeft=v,m&&(m.style.marginLeft=v),["main"].forEach((e=>{["header","body","footer"].forEach((o=>{const n=a[`${e}-${o}-xSpace`],r=n?n.value:null;r&&(r.style.width=t?`${i+("header"===o?l:0)}px`:"")}))})),(0,o.nextTick)(wt)}},updateScrollYSpace(){const{scrollYLoad:e}=$,{scrollYStore:t,elemStore:l,afterFullData:n}=P,{startIndex:r,rowHeight:a}=t,i=n.length*a,s=Math.max(0,r*a);let c="",d="";e&&(c=`${s}px`,d=`${i}px`),["main","left","right"].forEach((e=>{const t=l[`${e}-body-table`],o=t?t.value:null;o&&(o.style.marginTop=c),["header","body","footer"].forEach((t=>{const o=l[`${e}-${t}-ySpace`],n=o?o.value:null;n&&(n.style.height=d)}))})),(0,o.nextTick)(wt)},updateScrollXData(){(0,o.nextTick)((()=>{jt(),B.updateScrollXSpace()}))},updateScrollYData(){(0,o.nextTick)((()=>{B.handleTableData(),B.updateScrollYSpace()}))},checkScrolling(){const e=re.value,t=ae.value,l=Z.value,o=l?l.$el:null;o&&(e&&(o.scrollLeft>0?(0,r.addClass)(e,"scrolling--middle"):(0,r.removeClass)(e,"scrolling--middle")),t&&(o.clientWidth<o.scrollWidth-Math.ceil(o.scrollLeft)?(0,r.addClass)(t,"scrolling--middle"):(0,r.removeClass)(t,"scrolling--middle")))},updateZindex(){e.zIndex?P.tZindex=e.zIndex:P.tZindex<(0,a.getLastZIndex)()&&(P.tZindex=(0,a.nextZIndex)())},handleCheckedCheckboxRow:St,triggerHoverEvent(e,{row:t}){B.setHoverRow(t)},setHoverRow(e){const t=(0,h.getRowid)(lt,e),l=H.value;B.clearHoverRow(),l&&n.default.arrayEach(l.querySelectorAll(`[rowid="${t}"]`),(e=>(0,r.addClass)(e,"row--hover"))),P.hoverRow=e},clearHoverRow(){const e=H.value;e&&n.default.arrayEach(e.querySelectorAll(".vxe-body--row.row--hover"),(e=>(0,r.removeClass)(e,"row--hover"))),P.hoverRow=null},getCell:(e,t)=>z.getCellElement(e,t),findRowIndexOf:(e,t)=>t?n.default.findIndexOf(e,(e=>lt.eqRow(e,t))):-1,eqRow:(e,t)=>!(!e||!t||e!==t&&(0,h.getRowid)(lt,e)!==(0,h.getRowid)(lt,t))},Object.assign(lt,z,B);const al=t=>{const{showHeader:l,showFooter:n}=e,{tableData:r,tableColumn:a,tableGroupColumn:i,columnStore:s,footerTableData:f}=$,g="left"===t,h=g?s.leftList:s.rightList;return(0,o.h)("div",{ref:g?re:ae,class:`vxe-table--fixed-${t}-wrapper`},[l?(0,o.h)(d.default,{ref:g?J:le,fixedType:t,tableData:r,tableColumn:a,tableGroupColumn:i,fixedColumn:h}):(0,o.createCommentVNode)(),(0,o.h)(c.default,{ref:g?ee:oe,fixedType:t,tableData:r,tableColumn:a,fixedColumn:h}),n?(0,o.h)(u.default,{ref:g?te:ne,footerTableData:f,tableColumn:a,fixedColumn:h,fixedType:t}):(0,o.createCommentVNode)()])},il=()=>{const t=Ue.value,o={$table:lt};if(l.empty)return l.empty(o);{const e=t.name?y.get(t.name):null,l=e?e.renderTableEmpty||e.renderTableEmptyView||e.renderEmpty:null;if(l)return(0,m.getSlotVNs)(l(t,o))}return(0,a.getFuncText)(e.emptyText)||E("vxe.table.emptyText")};function sl(){const e=H.value;e&&e.clientWidth&&e.clientHeight&&z.recalculate()}const cl=(0,o.ref)(0);(0,o.watch)((()=>e.data?e.data.length:-1),(()=>{cl.value++})),(0,o.watch)((()=>e.data),(()=>{cl.value++})),(0,o.watch)(cl,(()=>{const{inited:t,initStatus:l}=P;Ft(e.data||[]).then((()=>{const{scrollXLoad:e,scrollYLoad:o,expandColumn:n}=$;P.inited=!0,P.initStatus=!0,l||_t(),t||At(),z.recalculate()}))}));const dl=(0,o.ref)(0);(0,o.watch)((()=>$.staticColumns.length),(()=>{dl.value++})),(0,o.watch)((()=>$.staticColumns),(()=>{dl.value++})),(0,o.watch)(dl,(()=>{Pt($.staticColumns)}));const ul=(0,o.ref)(0);(0,o.watch)((()=>$.tableColumn.length),(()=>{ul.value++})),(0,o.watch)((()=>$.tableColumn),(()=>{ul.value++})),(0,o.watch)(ul,(()=>{B.analyColumnWidth()})),(0,o.watch)((()=>$.upDataFlag),(()=>{(0,o.nextTick)((()=>{z.updateData()}))})),(0,o.watch)((()=>$.reColumnFlag),(()=>{(0,o.nextTick)((()=>{z.refreshColumn()}))})),(0,o.watch)((()=>e.showHeader),(()=>{(0,o.nextTick)((()=>{z.recalculate(!0).then((()=>z.refreshScroll()))}))})),(0,o.watch)((()=>e.showFooter),(()=>{(0,o.nextTick)((()=>{z.recalculate(!0).then((()=>z.refreshScroll()))}))}));const fl=(0,o.ref)(0);(0,o.watch)((()=>e.footerData?e.footerData.length:-1),(()=>{fl.value++})),(0,o.watch)((()=>e.footerData),(()=>{fl.value++})),(0,o.watch)(fl,(()=>{z.updateFooter()})),(0,o.watch)((()=>e.height),(()=>{(0,o.nextTick)((()=>z.recalculate(!0)))})),(0,o.watch)((()=>e.maxHeight),(()=>{(0,o.nextTick)((()=>z.recalculate(!0)))})),(0,o.watch)((()=>e.syncResize),(e=>{e&&(sl(),(0,o.nextTick)((()=>{sl(),setTimeout((()=>sl()))})))}));const gl=(0,o.ref)(0);(0,o.watch)((()=>e.mergeCells?e.mergeCells.length:-1),(()=>{gl.value++})),(0,o.watch)((()=>e.mergeCells),(()=>{gl.value++})),(0,o.watch)(gl,(()=>{z.clearMergeCells(),(0,o.nextTick)((()=>{e.mergeCells&&z.setMergeCells(e.mergeCells)}))}));const hl=(0,o.ref)(0);let ml;return(0,o.watch)((()=>e.mergeFooterItems?e.mergeFooterItems.length:-1),(()=>{hl.value++})),(0,o.watch)((()=>e.mergeFooterItems),(()=>{hl.value++})),(0,o.watch)(hl,(()=>{z.clearMergeFooterItems(),(0,o.nextTick)((()=>{e.mergeFooterItems&&z.setMergeFooterItems(e.mergeFooterItems)}))})),N&&(0,o.watch)((()=>N?N.reactData.resizeFlag:null),(()=>{ol()})),k.forEach((e=>{const{setupTable:t}=e;if(t){const e=t(lt);e&&n.default.isObject(e)&&Object.assign(lt,e)}})),B.preventEvent(null,"created",{$table:lt}),(0,o.onActivated)((()=>{z.recalculate().then((()=>z.refreshScroll())),B.preventEvent(null,"activated",{$table:lt})})),(0,o.onDeactivated)((()=>{P.isActivated=!1,B.preventEvent(null,"deactivated",{$table:lt})})),(0,o.onMounted)((()=>{(0,o.nextTick)((()=>{const{data:t,treeConfig:l,showOverflow:o}=e,{scrollXStore:r,scrollYStore:a}=P,i=he.value;if(Se.value,We.value,we.value,Re.value,He.value,ve.value,Object.assign(a,{startIndex:0,endIndex:0,visibleSize:0,adaptive:!1!==i.adaptive}),Object.assign(r,{startIndex:0,endIndex:0,visibleSize:0}),Ft(t||[]).then((()=>{t&&t.length&&(P.inited=!0,P.initStatus=!0,_t(),At()),wt()})),e.autoResize){const t=be.value,{refreshDelay:l}=t,o=H.value,r=B.getParentElem(),a=l?n.default.throttle((()=>z.recalculate(!0)),l,{leading:!0,trailing:!0}):null;ml=I.create(a?()=>{e.autoResize&&a()}:()=>{e.autoResize&&z.recalculate(!0)}),o&&ml.observe(o),r&&ml.observe(r)}})),L.on(lt,"paste",el),L.on(lt,"copy",tl),L.on(lt,"cut",ll),L.on(lt,"mousedown",Yt),L.on(lt,"blur",Gt),L.on(lt,"mousewheel",Zt),L.on(lt,"keydown",Jt),L.on(lt,"resize",ol),L.on(lt,"contextmenu",lt.handleGlobalContextmenuEvent),B.preventEvent(null,"mounted",{$table:lt})})),(0,o.onBeforeUnmount)((()=>{ml&&ml.disconnect(),z.closeFilter(),lt.closeMenu&&lt.closeMenu(),B.preventEvent(null,"beforeUnmount",{$table:lt})})),(0,o.onUnmounted)((()=>{L.off(lt,"paste"),L.off(lt,"copy"),L.off(lt,"cut"),L.off(lt,"mousedown"),L.off(lt,"blur"),L.off(lt,"mousewheel"),L.off(lt,"keydown"),L.off(lt,"resize"),L.off(lt,"contextmenu"),B.preventEvent(null,"unmounted",{$table:lt})})),(0,o.provide)("$xeColgroup",null),(0,o.provide)("$xeTable",lt),lt.renderVN=()=>{const{loading:t,stripe:n,showHeader:r,height:a,treeConfig:i,mouseConfig:s,showFooter:f,highlightCell:h,highlightHoverRow:m,highlightHoverColumn:p,editConfig:E,editRules:y}=e,{isCalcColumn:S,isGroup:O,overflowX:I,overflowY:M,scrollXLoad:k,scrollYLoad:L,scrollbarHeight:D,tableData:F,tableColumn:_,tableGroupColumn:A,footerTableData:N,initStore:P,columnStore:z,filterStore:B,customStore:J,tooltipStore:ee}=$,{leftList:te,rightList:le}=z,oe=l.loading,ne=Ee.value,re=fe.value,ae=Re.value,de=We.value,ue=ve.value,ge=pe.value,he=V.value,me=Qe.value,be=Me.value,xe=ye.value,Ce=qe.value,we=Ve.value,Te=$._isLoading||t;return(0,o.h)("div",{ref:H,class:["vxe-table","vxe-table--render-default",`tid_${g}`,`border--${me}`,{[`size--${he}`]:he,[`valid-msg--${re.msgMode}`]:!!y,"vxe-editable":!!E,"old-cell-valid":y&&"obsolete"===T().cellVaildMode,"cell--highlight":h,"cell--selected":s&&be.selected,"cell--area":s&&be.area,"row--highlight":ue.isHover||m,"column--highlight":ge.isHover||p,"checkbox--range":ae.range,"column--calc":S,"is--header":r,"is--footer":f,"is--group":O,"is--tree-line":i&&(de.showLine||de.line),"is--fixed-left":te.length,"is--fixed-right":le.length,"is--animat":!!e.animat,"is--padding":e.padding,"is--round":e.round,"is--stripe":!i&&n,"is--loading":Te,"is--empty":!Te&&!F.length,"is--scroll-y":M,"is--scroll-x":I,"is--virtual-x":k,"is--virtual-y":L}],spellcheck:!1,onKeydown:Qt},[(0,o.h)("div",{class:"vxe-table-slots"},l.default?l.default({}):[]),(0,o.h)("div",{class:"vxe-table--render-wrapper"},[(0,o.h)("div",{class:"vxe-table--main-wrapper"},[r?(0,o.h)(d.default,{ref:G,tableData:F,tableColumn:_,tableGroupColumn:A}):(0,o.createCommentVNode)(),(0,o.h)(c.default,{ref:Z,tableData:F,tableColumn:_}),f?(0,o.h)(u.default,{ref:Q,footerTableData:N,tableColumn:_}):(0,o.createCommentVNode)()]),(0,o.h)("div",{class:"vxe-table--fixed-wrapper"},[te&&te.length&&I?al("left"):(0,o.createCommentVNode)(),le&&le.length&&I?al("right"):(0,o.createCommentVNode)()])]),(0,o.h)("div",{ref:se,class:"vxe-table--empty-placeholder"},[(0,o.h)("div",{class:"vxe-table--empty-content"},il())]),(0,o.h)("div",{class:"vxe-table--border-line"}),(0,o.h)("div",{ref:ie,class:"vxe-table--resizable-bar",style:I?{"padding-bottom":`${D}px`}:null}),R?(0,o.h)(R,{class:"vxe-table--loading",modelValue:Te,icon:Ce.icon,text:Ce.text},oe?{default:()=>oe({$table:lt,$grid:ce})}:{}):(0,o.createCommentVNode)(),P.custom?(0,o.h)(v.default,{ref:Y,customStore:J}):(0,o.createCommentVNode)(),P.filter?(0,o.h)(b.default,{ref:K,filterStore:B}):(0,o.createCommentVNode)(),P.import&&e.importConfig?(0,o.h)(x.default,{defaultOptions:$.importParams,storeData:$.importStore}):(0,o.createCommentVNode)(),P.export&&(e.exportConfig||e.printConfig)?(0,o.h)(C.default,{defaultOptions:$.exportParams,storeData:$.exportStore}):(0,o.createCommentVNode)(),we?(0,o.h)(w.default,{ref:X}):(0,o.createCommentVNode)(),j?(0,o.h)("div",{},[(0,o.h)(j,{ref:U,isArrow:!1,enterable:!1}),(0,o.h)(j,Object.assign({ref:W},ne,ee.currOpts)),e.editRules&&re.showMessage&&("default"===re.message?!a:"tooltip"===re.message)?(0,o.h)(j,Object.assign({ref:q,class:[{"old-cell-valid":y&&"obsolete"===T().cellVaildMode},"vxe-table--valid-error"]},"tooltip"===re.message||1===F.length?xe:{})):(0,o.createCommentVNode)()]):(0,o.createCommentVNode)()])},lt},render(){return this.renderVN()}})},45693:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useCellView=function(e){const t=(0,n.computed)((()=>{const{renderParams:t}=e;return t.column})),l=(0,n.computed)((()=>{const{renderParams:t}=e;return t.row})),o=(0,n.computed)((()=>{const{renderOpts:t}=e;return t.props||{}}));return{currColumn:t,currRow:l,cellModel:(0,n.computed)({get(){const{renderParams:t}=e,{row:l,column:o}=t;return r.default.get(l,o.field)},set(t){const{renderParams:l}=e,{row:o,column:n}=l;return r.default.set(o,n.field,t)}}),cellOptions:o}};var o,n=l(74061),r=(o=l(20732))&&o.__esModule?o:{default:o}},97471:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0});var o=l(45693);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},95347:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.assembleColumn=function(e,t,l,o){const{reactData:n}=e,{staticColumns:a}=n,i=t.parentNode,s=o?o.columnConfig:null,c=s?s.children:a;i&&c&&(c.splice(r.default.arrayIndexOf(i.children,t),0,l),n.staticColumns=a.slice(0))},t.clearTableAllStatus=function(e){return e.clearFilter&&e.clearFilter(),m(e)},t.clearTableDefaultStatus=m,t.colToVisible=function(e,t){const{reactData:l,internalData:o}=e,{refTableBody:n}=e.getRefMaps(),{scrollXLoad:r}=l,{visibleColumn:a}=o,i=n.value,s=i?i.$el:null;if(s){const l=s.querySelector(`.${t.id}`);if(l){const t=s.clientWidth,o=s.scrollLeft,n=l.offsetParent,r=l.offsetLeft+(n?n.offsetLeft:0),a=l.clientWidth;if(r<o||r>o+t)return e.scrollTo(r);if(r+a>=t+o)return e.scrollTo(o+a)}else if(r){let l=0;for(let e=0;e<a.length;e++){const o=a[e];if(o===t||o.id===t.id)break;l+=o.renderWidth}return e.scrollTo(l)}}return Promise.resolve()},t.convertHeaderColumnToRows=void 0,t.createColumn=function(e,t,l){return h(t)?t:(0,n.reactive)(new a.ColumnInfo(e,t,l))},t.destroyColumn=function(e,t){const{reactData:l}=e,{staticColumns:o}=l,n=r.default.findTree(o,(e=>e.id===t.id),{children:"children"});n&&n.items.splice(n.index,1),l.staticColumns=o.slice(0)},t.getCellValue=function(e,t){return r.default.get(e,t.field)},t.getColReMaxWidth=function(e){const{$table:t}=e,{computeResizableOpts:l}=t.getComputeMaps(),o=l.value,{maxWidth:n}=o;if(n){const t=r.default.isFunction(n)?n(e):n;if("auto"!==t)return Math.max(1,r.default.toNumber(t))}return-1},t.getColReMinWidth=function(e){const{$table:t,column:l,cell:o}=e,{props:n}=t,{computeResizableOpts:a}=t.getComputeMaps(),s=a.value,{minWidth:c}=s;if(c){const t=r.default.isFunction(c)?c(e):c;if("auto"!==t)return Math.max(1,r.default.toNumber(t))}const{showHeaderOverflow:d}=n,{showHeaderOverflow:h,minWidth:m}=l,p=r.default.isUndefined(h)||r.default.isNull(h)?d:h,v="title"===p||(!0===p||"tooltip"===p)||"ellipsis"===p;let b=r.default.floor(1.6*(r.default.toNumber(getComputedStyle(o).fontSize)||14))+(u(o)+u(g(o,"")));if(v){const e=u(g(o,"--title>.vxe-cell--checkbox")),t=f(g(o,">.vxe-cell--required-icon")),l=f(g(o,">.vxe-cell--edit-icon")),n=f(g(o,">.vxe-cell-title-prefix-icon")),r=f(g(o,">.vxe-cell-title-suffix-icon")),a=f(g(o,">.vxe-cell--sort"));b+=e+t+l+n+r+f(g(o,">.vxe-cell--filter"))+a}if(m){const{refTableBody:e}=t.getRefMaps(),l=e.value,o=l?l.$el:null;if(o){if((0,i.isScale)(m)){const e=(o.clientWidth-1)/100;return Math.max(b,Math.floor(r.default.toInteger(m)*e))}if((0,i.isPx)(m))return Math.max(b,r.default.toInteger(m))}}return b},t.getRootColumn=function(e,t){const{internalData:l}=e,{fullColumnIdData:o}=l;if(!t)return null;let n=t.parentId;for(;o[n];){const e=o[n].column;if(n=e.parentId,!n)return e}return t},t.getRowUniqueId=function(){return r.default.uniqueId("row_")},t.getRowid=d,t.getRowkey=c,t.handleFieldOrColumn=void 0,t.isColumnInfo=h,t.mergeBodyMethod=function(e,t,l){for(let o=0;o<e.length;o++){const{row:n,col:r,rowspan:a,colspan:i}=e[o];if(r>-1&&n>-1&&a&&i){if(n===t&&r===l)return{rowspan:a,colspan:i};if(t>=n&&t<n+a&&l>=r&&l<r+i)return{rowspan:0,colspan:0}}}},t.removeScrollListener=function(e){e&&e._onscroll&&(e.onscroll=null)},t.restoreScrollListener=function(e){e&&e._onscroll&&(e.onscroll=e._onscroll)},t.restoreScrollLocation=function(e,t,l){const{internalData:o}=e;return e.clearScroll().then((()=>{if(t||l)return o.lastScrollLeft=0,o.lastScrollTop=0,e.scrollTo(t,l)}))},t.rowToVisible=function(e,t){const{reactData:l,internalData:o}=e,{refTableBody:n}=e.getRefMaps(),{scrollYLoad:r}=l,{afterFullData:a,scrollYStore:i}=o,s=n.value,c=s?s.$el:null;if(c){const l=c.querySelector(`[rowid="${d(e,t)}"]`);if(l){const t=c.clientHeight,o=c.scrollTop,n=l.offsetParent,r=l.offsetTop+(n?n.offsetTop:0),a=l.clientHeight;if(r<o||r>o+t)return e.scrollTo(null,r);if(r+a>=t+o)return e.scrollTo(null,o+a)}else if(r)return e.scrollTo(null,(e.findRowIndexOf(a,t)-1)*i.rowHeight)}return Promise.resolve()},t.setCellValue=function(e,t,l){return r.default.set(e,t.field,l)},t.toFilters=function(e){return e&&r.default.isArray(e)?e.map((({label:e,value:t,data:l,resetValue:o,checked:n})=>({label:e,value:t,data:l,resetValue:o,checked:!!n,_checked:!!n}))):e},t.toTreePathSeq=function(e){return e.map(((e,t)=>t%2==0?Number(e)+1:".")).join("")},t.watchColumn=function(e,t,l){Object.keys(t).forEach((o=>{(0,n.watch)((()=>t[o]),(t=>{l.update(o,t),e&&("filters"===o?(e.setFilter(l,t),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(o)&&e.handleRefreshColumnQueue())}))}))};var o,n=l(74061),r=(o=l(20732))&&o.__esModule?o:{default:o},a=l(34765),i=l(29261);const s=(e,t)=>{const l=[];return e.forEach((e=>{e.parentId=t?t.id:null,e.visible&&(e.children&&e.children.length&&e.children.some((e=>e.visible))?(l.push(e),l.push(...s(e.children,e))):l.push(e))})),l};function c(e){const{props:t}=e,{computeRowOpts:l}=e.getComputeMaps(),{rowId:o}=t,n=l.value;return o||n.keyField||"_X_ROW_KEY"}function d(e,t){const l=r.default.get(t,c(e));return r.default.eqNull(l)?"":encodeURIComponent(l)}function u(e){if(e){const t=getComputedStyle(e);return r.default.toNumber(t.paddingLeft)+r.default.toNumber(t.paddingRight)}return 0}function f(e){if(e){const t=getComputedStyle(e),l=r.default.toNumber(t.marginLeft),o=r.default.toNumber(t.marginRight);return e.offsetWidth+l+o}return 0}function g(e,t){return e.querySelector(".vxe-cell"+t)}function h(e){return e&&(e.constructor===a.ColumnInfo||e instanceof a.ColumnInfo)}function m(e){const{props:t,internalData:l}=e;return l.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}t.convertHeaderColumnToRows=e=>{let t=1;const l=(e,o)=>{if(o&&(e.level=o.level+1,t<e.level&&(t=e.level)),e.children&&e.children.length&&e.children.some((e=>e.visible))){let t=0;e.children.forEach((o=>{o.visible&&(l(o,e),t+=o.colSpan)})),e.colSpan=t}else e.colSpan=1};e.forEach((e=>{e.level=1,l(e)}));const o=[];for(let e=0;e<t;e++)o.push([]);return s(e).forEach((e=>{e.children&&e.children.length&&e.children.some((e=>e.visible))?e.rowSpan=1:e.rowSpan=t-e.level+1,o[e.level-1].push(e)})),o},t.handleFieldOrColumn=(e,t)=>t?r.default.isString(t)?e.getColumnByField(t):t:null},71681:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VxeToolbar=t.Toolbar=void 0;var o,n=l(84564),r=(o=l(12527))&&o.__esModule?o:{default:o};const a=t.VxeToolbar=Object.assign({},r.default,{install(e){e.component(r.default.name,r.default)}});n.VxeUI.dynamicApp&&n.VxeUI.dynamicApp.component(r.default.name,r.default),n.VxeUI.component(r.default),t.Toolbar=a,t.default=a},12527:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,n=l(74061),r=(o=l(20732))&&o.__esModule?o:{default:o},a=l(84564),i=l(70373),s=l(66843);const{getConfig:c,getIcon:d,getI18n:u,renderer:f,commands:g,createEvent:h,useFns:m}=a.VxeUI;t.default=(0,n.defineComponent)({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>c().toolbar.buttons},tools:{type:Array,default:()=>c().toolbar.tools},perfect:{type:Boolean,default:()=>c().toolbar.perfect},size:{type:String,default:()=>c().toolbar.size||c().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:l,emit:o}=t,p=r.default.uniqueId(),v=a.VxeUI.getComponent("VxeButton"),{computeSize:b}=m.useSize(e),x=(0,n.reactive)({isRefresh:!1,connectFlag:0,columns:[]}),C={connectTable:null},w=(0,n.ref)(),R={refElem:w},T={xID:p,props:e,context:t,reactData:x,internalData:C,getRefMaps:()=>R};let E={};const y=(0,n.inject)("$xeGrid",null),S=(0,n.computed)((()=>Object.assign({},r.default.clone(c().toolbar.refresh,!0),e.refresh))),O=(0,n.computed)((()=>Object.assign({},r.default.clone(c().toolbar.import,!0),e.import))),I=(0,n.computed)((()=>Object.assign({},r.default.clone(c().toolbar.export,!0),e.export))),M=(0,n.computed)((()=>Object.assign({},r.default.clone(c().toolbar.print,!0),e.print))),k=(0,n.computed)((()=>Object.assign({},r.default.clone(c().toolbar.zoom,!0),e.zoom))),L=(0,n.computed)((()=>Object.assign({},r.default.clone(c().toolbar.custom,!0),e.custom))),D=(0,n.computed)((()=>{const{connectTable:e}=C,t=e;if((x.connectFlag||t)&&t){const{computeCustomOpts:e}=t.getComputeMaps();return e.value}return{trigger:""}})),F=(0,n.computed)((()=>D.value.trigger)),_=()=>{const{connectTable:e}=C;if(e)return!0;(0,s.errLog)("vxe.error.barUnableLink")},A=({$event:e})=>{const{connectTable:t}=C,l=t;l&&(l.triggerCustomEvent?l.triggerCustomEvent(e):(0,s.errLog)("vxe.error.reqModule",["VxeTableCustomModule"]))},j=({$event:e})=>{const{connectTable:t}=C;t?t.customOpenEvent(e):(0,s.errLog)("vxe.error.reqModule",["VxeTableCustomModule"])},N=({$event:e})=>{const{connectTable:t}=C,l=t;if(l){const{customStore:t}=l.reactData;t.activeBtn=!1,setTimeout((()=>{t.activeBtn||t.activeWrapper||l.customCloseEvent(e)}),350)}},V=({$event:e})=>{const{isRefresh:t}=x,l=S.value;if(!t){const t=l.queryMethod||l.query;if(t){x.isRefresh=!0;try{Promise.resolve(t({})).catch((e=>e)).then((()=>{x.isRefresh=!1}))}catch(e){x.isRefresh=!1}}else y&&(x.isRefresh=!0,y.triggerToolbarCommitEvent({code:l.code||"reload"},e).catch((e=>e)).then((()=>{x.isRefresh=!1})))}},$=({$event:e})=>{y&&y.triggerZoomEvent(e)},P=(e,t)=>{const{connectTable:l}=C,o=l,{code:n}=t;if(n)if(y)y.triggerToolbarBtnEvent(t,e);else{const l=g.get(n),r={code:n,button:t,$table:o,$grid:y,$event:e};if(l){const e=l.tableCommandMethod||l.commandMethod;e&&e(r)}T.dispatchEvent("button-click",r,e)}},z=(e,t)=>{const{connectTable:l}=C,o=l,{code:n}=t;if(n)if(y)y.triggerToolbarTolEvent(t,e);else{const l=g.get(n),r={code:n,tool:t,$table:o,$grid:y,$event:e};if(l){const e=l.tableCommandMethod||l.commandMethod;e&&e(r)}T.dispatchEvent("tool-click",r,e)}},B=()=>{if(_()){const{connectTable:e}=C;e&&e.openImport()}},H=()=>{if(_()){const{connectTable:e}=C;e&&e.openExport()}},W=()=>{if(_()){const{connectTable:e}=C;e&&e.openPrint()}};E={dispatchEvent:(e,t,l)=>{o(e,h(l,{$toolbar:T},t))},syncUpdate(e){C.connectTable=e.$table,x.columns=e.collectColumn,x.connectFlag++}},Object.assign(T,E);const U=(e,t)=>{const{dropdowns:l}=e;return l?l.map(((e,l)=>!1===e.visible?(0,n.createCommentVNode)():v?(0,n.h)(v,{key:l,disabled:e.disabled,loading:e.loading,type:e.type,mode:e.mode,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,title:e.title,routerLink:e.routerLink,permissionCode:e.permissionCode,prefixTooltip:e.prefixTooltip,suffixTooltip:e.suffixTooltip,onClick:({$event:l})=>t?P(l,e):z(l,e)}):(0,n.createCommentVNode)())):[]},q=()=>{const{buttons:t}=e,{connectTable:l}=C,o=l,a=[];return t&&t.forEach((e=>{const{dropdowns:t,buttonRender:l}=e;if(!1!==e.visible){const s=l?f.get(l.name):null;if(l&&s&&s.renderToolbarButton){const t=s.toolbarButtonClassName,c={$grid:y,$table:o,button:e};a.push((0,n.h)("span",{class:["vxe-button--item",t?r.default.isFunction(t)?t(c):t:""]},(0,i.getSlotVNs)(s.renderToolbarButton(l,c))))}else v&&a.push((0,n.h)(v,{disabled:e.disabled,loading:e.loading,type:e.type,mode:e.mode,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,title:e.title,routerLink:e.routerLink,permissionCode:e.permissionCode,prefixTooltip:e.prefixTooltip,suffixTooltip:e.suffixTooltip,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:({$event:t})=>P(t,e)},t&&t.length?{dropdowns:()=>U(e,!0)}:{}))}})),a},X=()=>{const{tools:t}=e,{connectTable:l}=C,o=l,a=[];return t&&t.forEach(((e,t)=>{const{dropdowns:l,toolRender:s}=e;if(!1!==e.visible){const c=s?s.name:null,d=s?f.get(c):null;if(s&&d&&d.renderToolbarTool){const t=d.toolbarToolClassName,l={$grid:y,$table:o,tool:e};a.push((0,n.h)("span",{key:c,class:["vxe-tool--item",t?r.default.isFunction(t)?t(l):t:""]},(0,i.getSlotVNs)(d.renderToolbarTool(s,l))))}else v&&a.push((0,n.h)(v,{key:t,disabled:e.disabled,loading:e.loading,type:e.type,mode:e.mode,icon:e.icon,circle:e.circle,round:e.round,status:e.status,content:e.name,title:e.title,routerLink:e.routerLink,permissionCode:e.permissionCode,prefixTooltip:e.prefixTooltip,suffixTooltip:e.suffixTooltip,destroyOnClose:e.destroyOnClose,placement:e.placement,transfer:e.transfer,onClick:({$event:t})=>z(t,e)},l&&l.length?{dropdowns:()=>U(e,!1)}:{}))}})),a},K=()=>{const e=O.value;return v?(0,n.h)(v,{key:"import",circle:!0,icon:e.icon||d().TOOLBAR_TOOLS_IMPORT,title:u("vxe.toolbar.import"),onClick:B}):(0,n.createCommentVNode)()},Y=()=>{const e=I.value;return v?(0,n.h)(v,{key:"export",circle:!0,icon:e.icon||d().TOOLBAR_TOOLS_EXPORT,title:u("vxe.toolbar.export"),onClick:H}):(0,n.createCommentVNode)()},G=()=>{const e=M.value;return v?(0,n.h)(v,{key:"print",circle:!0,icon:e.icon||d().TOOLBAR_TOOLS_PRINT,title:u("vxe.toolbar.print"),onClick:W}):(0,n.createCommentVNode)()},Z=()=>{const e=S.value;return v?(0,n.h)(v,{key:"refresh",circle:!0,icon:x.isRefresh?e.iconLoading||d().TOOLBAR_TOOLS_REFRESH_LOADING:e.icon||d().TOOLBAR_TOOLS_REFRESH,title:u("vxe.toolbar.refresh"),onClick:V}):(0,n.createCommentVNode)()},Q=()=>{const e=k.value;return y&&v?(0,n.h)(v,{key:"zoom",circle:!0,icon:y.isMaximized()?e.iconOut||d().TOOLBAR_TOOLS_MINIMIZE:e.iconIn||d().TOOLBAR_TOOLS_FULLSCREEN,title:u("vxe.toolbar.zoom"+(y.isMaximized()?"Out":"In")),onClick:$}):(0,n.createCommentVNode)()},J=()=>{const e=L.value,t=F.value,l={};return"manual"===t||("hover"===t?(l.onMouseenter=j,l.onMouseleave=N):l.onClick=A),v?(0,n.h)(v,Object.assign({key:"custom",circle:!0,icon:e.icon||d().TOOLBAR_TOOLS_CUSTOM,title:u("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},l)):(0,n.createCommentVNode)()};return T.renderVN=()=>{const{perfect:t,loading:o,refresh:a,zoom:i,custom:s,className:c}=e,{connectTable:d}=C,u=b.value,f=l.tools,g=l.buttons,h=d;return(0,n.h)("div",{ref:w,class:["vxe-toolbar",c?r.default.isFunction(c)?c({$toolbar:T}):c:"",{[`size--${u}`]:u,"is--perfect":t,"is--loading":o}]},[(0,n.h)("div",{class:"vxe-buttons--wrapper"},g?g({$grid:y,$table:h}):q()),(0,n.h)("div",{class:"vxe-tools--wrapper"},f?f({$grid:y,$table:h}):X()),(0,n.h)("div",{class:"vxe-tools--operate"},[e.import?K():(0,n.createCommentVNode)(),e.export?Y():(0,n.createCommentVNode)(),e.print?G():(0,n.createCommentVNode)(),a?Z():(0,n.createCommentVNode)(),i&&y?Q():(0,n.createCommentVNode)(),s?J():(0,n.createCommentVNode)()])])},(0,n.nextTick)((()=>{const{refresh:t}=e,l=S.value,o=l.queryMethod||l.query;!t||y||o||(0,s.warnLog)("vxe.error.notFunc",["queryMethod"]),L.value})),T},render(){return this.renderVN()}})},84564:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VXETable=void 0,Object.defineProperty(t,"VxeUI",{enumerable:!0,get:function(){return o.VxeUI}}),t.version=t.validators=t.use=t.t=t.setup=t.setTheme=t.setLanguage=t.setIcon=t.setI18n=t.setConfig=t.saveFile=t.renderer=t.readFile=t.print=t.modal=t.menus=t.log=t.interceptor=t.hooks=t.globalResize=t.globalEvents=t.getTheme=t.getIcon=t.getI18n=t.getConfig=t.formats=t.default=t.config=t.commands=t.clipboard=t._t=void 0;var o=l(71124),n=l(2832);const r=t.version="4.7.86";o.VxeUI.version=r,o.VxeUI.tableVersion="4.7.86",o.VxeUI.setConfig({emptyCell:"",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,padding:!0,minHeight:144,resizeConfig:{refreshDelay:250},radioConfig:{strict:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single"},columnConfig:{maxFixedSize:4},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0}},sortConfig:{showIcon:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{gt:60},scrollY:{gt:100}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}});const a="vxe-table-icon-";o.VxeUI.setIcon({TABLE_SORT_ASC:a+"caret-up",TABLE_SORT_DESC:a+"caret-down",TABLE_FILTER_NONE:a+"funnel",TABLE_FILTER_MATCH:a+"funnel",TABLE_EDIT:a+"edit",TABLE_TITLE_PREFIX:a+"question-circle-fill",TABLE_TITLE_SUFFIX:a+"question-circle-fill",TABLE_TREE_LOADED:a+"spinner roll",TABLE_TREE_OPEN:a+"caret-right rotate90",TABLE_TREE_CLOSE:a+"caret-right",TABLE_EXPAND_LOADED:a+"spinner roll",TABLE_EXPAND_OPEN:a+"arrow-right rotate90",TABLE_EXPAND_CLOSE:a+"arrow-right",TABLE_CHECKBOX_CHECKED:a+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:a+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:a+"checkbox-indeterminate-fill",TABLE_RADIO_CHECKED:a+"radio-checked-fill",TABLE_RADIO_UNCHECKED:a+"radio-unchecked",TABLE_CUSTOM_SORT:a+"drag-handle",TABLE_MENU_OPTIONS:a+"arrow-right",TOOLBAR_TOOLS_REFRESH:a+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:a+"repeat roll",TOOLBAR_TOOLS_IMPORT:a+"upload",TOOLBAR_TOOLS_EXPORT:a+"download",TOOLBAR_TOOLS_PRINT:a+"print",TOOLBAR_TOOLS_FULLSCREEN:a+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:a+"minimize",TOOLBAR_TOOLS_CUSTOM:a+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:a+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:a+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:a+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:a+"fixed-right-fill"}),t.setTheme=o.VxeUI.setTheme,t.getTheme=o.VxeUI.getTheme,t.setConfig=o.VxeUI.setConfig,t.getConfig=o.VxeUI.getConfig,t.setIcon=o.VxeUI.setIcon,t.getIcon=o.VxeUI.getIcon,t.setLanguage=o.VxeUI.setLanguage,t.setI18n=o.VxeUI.setI18n,t.getI18n=o.VxeUI.getI18n,t.globalEvents=o.VxeUI.globalEvents,t.globalResize=o.VxeUI.globalResize,t.renderer=o.VxeUI.renderer,t.validators=o.VxeUI.validators,t.menus=o.VxeUI.menus,t.formats=o.VxeUI.formats,t.commands=o.VxeUI.commands,t.interceptor=o.VxeUI.interceptor,t.clipboard=o.VxeUI.clipboard,t.log=o.VxeUI.log,t.hooks=o.VxeUI.hooks,t.use=o.VxeUI.use;const i=e=>o.VxeUI.setConfig(e);t.setup=i,o.VxeUI.setup=i;const s=e=>o.VxeUI.setConfig(e);t.config=s,o.VxeUI.config=s;const c=(e,t)=>o.VxeUI.getI18n(e,t);t.t=c,o.VxeUI.t=c;const d=(e,t)=>(0,n.getFuncText)(e,t);t._t=d,o.VxeUI._t=d,t.VXETable=o.VxeUI,t.saveFile=e=>o.VxeUI.saveFile(e),t.readFile=e=>o.VxeUI.readFile(e),t.print=e=>o.VxeUI.print(e),t.modal={get:e=>o.VxeUI.modal.get(e),close:e=>o.VxeUI.modal.close(e),open:e=>o.VxeUI.modal.open(e),alert:(e,t,l)=>o.VxeUI.modal.alert(e,t,l),confirm:(e,t,l)=>o.VxeUI.modal.confirm(e,t,l),message:(e,t)=>o.VxeUI.modal.message(e,t),notification:(e,t,l)=>o.VxeUI.modal.notification(e,t,l)},t.default=o.VxeUI},29261:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addClass=function(e,t){e&&!s(e,t)&&(c(e,t),e.className=`${e.className} ${t}`)},t.browse=void 0,t.getAbsolutePos=function(e){const t=e.getBoundingClientRect(),l=t.top,o=t.left,{scrollTop:n,scrollLeft:r,visibleHeight:a,visibleWidth:i}=d();return{boundingTop:l,top:n+l,boundingLeft:o,left:r+o,visibleHeight:a,visibleWidth:i}},t.getDomNode=d,t.getEventTargetNode=function(e,t,l,o){let n,r=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;r&&r.nodeType&&r!==document;){if(l&&s(r,l)&&(!o||o(r)))n=r;else if(r===t)return{flag:!l||!!n,container:t,targetElem:n};r=r.parentNode}return{flag:!1}},t.getOffsetHeight=function(e){return e?e.offsetHeight:0},t.getOffsetPos=function(e,t){return i(e,t,{left:0,top:0})},t.getPaddingTopBottomSize=function(e){if(e){const t=getComputedStyle(e);return n.default.toNumber(t.paddingTop)+n.default.toNumber(t.paddingBottom)}return 0},t.getPropClass=function(e,t){return e?n.default.isFunction(e)?e(t):e:""},t.hasClass=s,t.isNodeElement=function(e){return e&&1===e.nodeType},t.isPx=function(e){return e&&/^\d+(px)?$/.test(e)},t.isScale=function(e){return e&&/^\d+%$/.test(e)},t.removeClass=c,t.scrollToView=function(e){e&&(e[u]?e[u]():e[f]&&e[f]())},t.setScrollLeft=function(e,t){e&&(e.scrollLeft=t)},t.setScrollTop=function(e,t){e&&(e.scrollTop=t)},t.triggerEvent=function(e,t){e&&e.dispatchEvent(new Event(t))},t.updateCellTitle=function(e,t){const l="html"===t.type?e.innerText:e.textContent;e.getAttribute("title")!==l&&e.setAttribute("title",l)};var o,n=(o=l(20732))&&o.__esModule?o:{default:o};const r={};function a(e){return r[e]||(r[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),r[e]}function i(e,t,l){if(e){const o=e.parentNode;if(l.top+=e.offsetTop,l.left+=e.offsetLeft,o&&o!==document.documentElement&&o!==document.body&&(l.top-=o.scrollTop,l.left-=o.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return i(e.offsetParent,t,l)}return l}function s(e,t){return e&&e.className&&e.className.match&&e.className.match(a(t))}function c(e,t){e&&s(e,t)&&(e.className=e.className.replace(a(t),""))}function d(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}t.browse=n.default.browse();const u="scrollIntoViewIfNeeded",f="scrollIntoView"},66843:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.warnLog=t.errLog=void 0;var o=l(71124);const{log:n}=o.VxeUI,r="table v4.7.86";t.warnLog=n.create("warn",r),t.errLog=n.create("error",r)},2832:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.eqEmptyValue=function(e){return""===e||o.default.eqNull(e)},t.formatText=function(e,t){return""+(i(e)?t?n.VxeUI.getConfig().emptyCell:"":e)},t.getFuncText=function(e,t){if(e){const l=n.VxeUI.getConfig().translate;return o.default.toValueString(l?l(""+e,t):e)}return""},t.getLastZIndex=function(){return r.default.getCurrent()},t.hasChildrenList=function(e){return e&&e.children&&e.children.length>0},t.isEmptyValue=i,t.isEnableConf=function(e){return e&&!1!==e.enabled},t.nextZIndex=function(){return r.default.getNext()},t.parseFile=function(e){const t=e.name,l=o.default.lastIndexOf(t,"."),n=t.substring(l+1,t.length).toLowerCase();return{filename:t.substring(0,l),type:n}};var o=a(l(20732)),n=l(71124),r=a(l(89992));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return null==e||""===e}},70373:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getChangeEvent=function(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"},t.getModelEvent=function(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"},t.getOnName=function(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)},t.getSlotVNs=function(e){return n.default.isArray(e)?e:[e]};var o,n=(o=l(20732))&&o.__esModule?o:{default:o}}}]);