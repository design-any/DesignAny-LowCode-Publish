"use strict";(self.webpackChunklyldesigner=self.webpackChunklyldesigner||[]).push([[73],{65634:(e,t,o)=>{o.r(t)},28637:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VxeTextEllipsis=t.TextEllipsis=void 0;var n,l=o(71124),a=(n=o(63965))&&n.__esModule?n:{default:n},i=o(20670);const r=t.VxeTextEllipsis=Object.assign({},a.default,{install(e){e.component(a.default.name,a.default)}});i.dynamicApp.use(r),l.VxeUI.component(a.default),t.TextEllipsis=r,t.default=r},63965:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=o(74061),a=(n=o(20732))&&n.__esModule?n:{default:n},i=o(35602);t.default=(0,l.defineComponent)({name:"VxeTextEllipsis",props:{content:[String,Number],lineClamp:[String,Number],status:String,title:[String,Number],loading:Boolean,offsetLength:[String,Number],size:{type:String,default:()=>(0,i.getConfig)().textEllipsis.size||(0,i.getConfig)().size}},emits:["click"],setup(e,t){const{emit:o}=t,n=a.default.uniqueId(),{computeSize:r}=(0,i.useSize)(e),s=(0,l.ref)(),d=(0,l.ref)(),c=(0,l.reactive)({resizeObserver:null,visibleLen:0}),u={refElem:s},p=(0,l.computed)((()=>a.default.toNumber(e.lineClamp))),f=(0,l.computed)((()=>a.default.toValueString(e.content))),g=(0,l.computed)((()=>e.offsetLength?a.default.toNumber(e.offsetLength):0)),h=(0,l.computed)((()=>{const{visibleLen:e}=c,t=p.value,o=f.value,n=g.value;return t>1&&o.length>e?`${o.slice(0,Math.max(1,e-3+n))}...`:o})),m={},v={xID:n,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>m},x=()=>{const e=s.value,t=d.value,o=f.value,n=p.value;if(e&&t){const l=e.clientWidth;t.style.display="block",t.style.position="absolute",t.style.top="-3000px",t.style.left="-3000px",t.textContent=o;const i=t.offsetWidth,r=Math.floor(l*n);r>i?c.visibleLen=o.length:(e=>{const t=s.value,o=d.value;if(t&&o){let t=12;try{t=Math.max(10,a.default.toNumber(getComputedStyle(o).fontSize))}catch(e){}const n=f.value;let l=Math.floor(e/t),i=n.slice(0,l);o.textContent=i,c.visibleLen=i.length;let r=0;for(;e>o.clientWidth&&r<30;){r++;const a=Math.floor((e-o.clientWidth)/t);if(!a)break;l+=a,i=n.slice(0,l),o.textContent=i,c.visibleLen=i.length}o.textContent="",o.style.display="",o.style.position="",o.style.top="",o.style.left=""}})(r)}else c.visibleLen=o.length},E={dispatchEvent:(e,t,n)=>{o(e,(0,i.createEvent)(n,{$textEllipsis:v},t))}},C=()=>{o("click",{})},b=()=>{const{resizeObserver:e}=c,t=p.value;if(!e){const e=s.value;if(e&&t>1&&window.ResizeObserver){const t=new window.ResizeObserver(a.default.throttle((()=>{x()}),300,{leading:!0,trailing:!0}));t.observe(e),c.resizeObserver=t}}};return Object.assign(v,E,{}),(0,l.watch)((()=>e.content),(()=>{x()})),(0,l.watch)((()=>e.lineClamp),(()=>{b(),x()})),(0,l.onMounted)((()=>{b(),x()})),(0,l.onBeforeUnmount)((()=>{const{resizeObserver:e}=c,t=s.value,o=d.value;o&&(o.textContent=""),e&&(t&&e.unobserve(t),e.disconnect(),c.resizeObserver=null)})),v.renderVN=()=>{const{loading:t,status:o,title:n}=e,a=r.value,i=h.value,c=p.value;return(0,l.h)("div",{ref:s,class:["vxe-text-ellipsis",c>1?"is--multi":"is--single",{[`size--${a}`]:a,[`theme--${o}`]:o,"is--loading":t}],title:n,onClick:C},[(0,l.h)("span",{ref:d,class:"vxe-text-ellipsis-reality"}),(0,l.h)("span",{class:"vxe-text-ellipsis-content"},i)])},v},render(){return this.renderVN()}})},25487:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VxeText=t.Text=void 0;var n,l=o(71124),a=(n=o(68303))&&n.__esModule?n:{default:n},i=o(20670);const r=t.VxeText=Object.assign({},a.default,{install(e){e.component(a.default.name,a.default)}});i.dynamicApp.use(r),l.VxeUI.component(a.default),t.Text=r,t.default=r},68303:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=o(74061),a=(n=o(20732))&&n.__esModule?n:{default:n},i=o(35602),r=o(51027);t.default=(0,l.defineComponent)({name:"VxeText",props:{status:String,title:[String,Number],icon:String,loading:Boolean,content:[String,Number],clickToCopy:Boolean,size:{type:String,default:()=>(0,i.getConfig)().text.size||(0,i.getConfig)().size}},emits:["click"],setup(e,t){const{emit:o,slots:n}=t,s=a.default.uniqueId(),{computeSize:d}=(0,i.useSize)(e),c=(0,l.ref)(),u=(0,l.ref)(),p=(0,l.reactive)({}),f={refElem:c},g={},h=()=>{const{content:t,clickToCopy:o}=e;if(o){const e=u.value,o=(e?e.textContent:"")||t;o&&(i.VxeUI.clipboard.copy(o)?i.VxeUI.modal&&i.VxeUI.modal.message({content:(0,i.getI18n)("vxe.text.copySuccess"),status:"success"}):i.VxeUI.modal&&i.VxeUI.modal.message({content:(0,i.getI18n)("vxe.text.copyError"),status:"error"}))}},m={xID:s,props:e,context:t,reactData:p,getRefMaps:()=>f,getComputeMaps:()=>g},v=(e,t,n)=>{o(e,(0,i.createEvent)(n,{$text:m},t))},x={dispatchEvent:v},E=t=>{const{loading:o}=e;o||v("click",{},t)};return Object.assign(m,x,{}),m.renderVN=()=>{const{loading:t,status:o,title:s,clickToCopy:p}=e,f=d.value;return(0,l.h)("span",{ref:c,title:s,class:["vxe-text",{[`size--${f}`]:f,[`theme--${o}`]:o,"is--copy":p,"is--loading":t}],onClick:E},(()=>{const{loading:t,icon:o,content:s,clickToCopy:d}=e,c=n.default,p=n.icon;return[t?(0,l.h)("span",{class:"vxe-text--loading"},[(0,l.h)("i",{class:(0,i.getIcon)().TEXT_LOADING})]):p||o||d?(0,l.h)("span",{class:"vxe-text--icon",onClick:h},p?(0,r.getSlotVNs)(p({})):[(0,l.h)("i",{class:o||(0,i.getIcon)().TEXT_COPY})]):(0,l.createCommentVNode)(),(0,l.h)("span",{ref:u,class:"vxe-text--content"},c?c({}):a.default.toValueString(s))]})())},m},render(){return this.renderVN()}})},49194:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VxeTextarea=t.Textarea=void 0;var n,l=o(71124),a=(n=o(20285))&&n.__esModule?n:{default:n},i=o(20670);const r=t.VxeTextarea=Object.assign(a.default,{install:function(e){e.component(a.default.name,a.default)}});i.dynamicApp.use(r),l.VxeUI.component(a.default),t.Textarea=r,t.default=r},20285:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=o(74061),a=(n=o(20732))&&n.__esModule?n:{default:n},i=o(35602),r=o(95638);let s;t.default=(0,l.defineComponent)({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:{type:Boolean,default:null},editable:{type:Boolean,default:!0},disabled:{type:Boolean,default:null},placeholder:String,maxLength:[String,Number],rows:{type:[String,Number],default:null},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>(0,i.getConfig)().textarea.resize},size:{type:String,default:()=>(0,i.getConfig)().textarea.size||(0,i.getConfig)().size},maxlength:[String,Number]},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup(e,t){const{emit:o}=t,n=(0,l.inject)("$xeForm",null),d=(0,l.inject)("xeFormItemInfo",null),c=a.default.uniqueId(),{computeSize:u}=(0,i.useSize)(e),p=(0,l.reactive)({inputValue:e.modelValue}),f=(0,l.ref)(),g=(0,l.ref)(),h={refElem:f,refTextarea:g},m={xID:c,props:e,context:t,reactData:p,getRefMaps:()=>h};let v={};const x=(0,l.computed)((()=>{const{readonly:t}=e;return null===t?!!n&&n.props.readonly:t})),E=(0,l.computed)((()=>{const{disabled:t}=e;return null===t?!!n&&n.props.disabled:t})),C=(0,l.computed)((()=>{const{editable:t}=e;return x.value||!t})),b=(0,l.computed)((()=>{const{placeholder:t}=e;if(t)return(0,r.getFuncText)(t);const o=(0,i.getConfig)().textarea.placeholder;return o?(0,r.getFuncText)(o):(0,i.getI18n)("vxe.base.pleaseInput")})),_=(0,l.computed)((()=>{const{maxLength:t,maxlength:o}=e;return t||o})),y=(0,l.computed)((()=>a.default.getSize(p.inputValue))),I=(0,l.computed)((()=>{const e=y.value,t=_.value;return t&&e>a.default.toNumber(t)})),w=(0,l.computed)((()=>Object.assign({minRows:1,maxRows:10},(0,i.getConfig)().textarea.autosize,e.autosize))),T=()=>{const{size:t,autosize:o}=e,{inputValue:n}=p;if(o){s||(s=document.createElement("div")),s.parentNode||document.body.appendChild(s);const e=g.value;if(!e)return;const o=getComputedStyle(e);s.className=["vxe-textarea--autosize",t?`size--${t}`:""].join(" "),s.style.width=`${e.clientWidth}px`,s.style.padding=o.padding,s.innerText=(""+(n||"　")).replace(/\n$/,"\n　")}},O=()=>{e.autosize&&(0,l.nextTick)((()=>{const e=w.value,{minRows:t,maxRows:o}=e,n=g.value;if(!n)return;const l=s.clientHeight,i=getComputedStyle(n),r=a.default.toNumber(i.lineHeight),d=a.default.toNumber(i.paddingTop)+a.default.toNumber(i.paddingBottom)+a.default.toNumber(i.borderTopWidth)+a.default.toNumber(i.borderBottomWidth),c=(l-d)/r,u=c&&/[0-9]/.test(""+c)?c:Math.floor(c)+1;let p=u;u<t?p=t:u>o&&(p=o),n.style.height=`${p*r+d}px`}))},N=e=>{const t=p.inputValue;m.dispatchEvent(e.type,{value:t},e)},M=(t,l)=>{p.inputValue=t,o("update:modelValue",t),a.default.toValueString(e.modelValue)!==t&&(v.dispatchEvent("change",{value:t},l),n&&d&&n.triggerItemEvent(l,d.itemConfig.field,t))},S=t=>{const{immediate:o}=e,n=t.target.value;p.inputValue=n,o&&M(n,t),m.dispatchEvent("input",{value:n},t),O()},L=t=>{const{immediate:o}=e;o?N(t):M(p.inputValue,t)},P=t=>{const{immediate:o}=e,{inputValue:n}=p;o||M(n,t),m.dispatchEvent("blur",{value:n},t)};return v={dispatchEvent(e,t,n){o(e,(0,i.createEvent)(n,{$textarea:m},t))},focus:()=>(g.value.focus(),(0,l.nextTick)()),blur:()=>(g.value.blur(),(0,l.nextTick)())},Object.assign(m,v),(0,l.watch)((()=>e.modelValue),(e=>{p.inputValue=e,T()})),(0,l.watch)(w,(()=>{T(),O()})),(0,l.nextTick)((()=>{const{autosize:t}=e;t&&(T(),O())})),m.renderVN=()=>{const{className:t,resize:o,autosize:n,showWordCount:i,countMethod:r,rows:s,cols:d}=e,{inputValue:c}=p,h=u.value,m=E.value,v=I.value,w=y.value,T=C.value,O=x.value,M=b.value,D=_.value;return O?(0,l.h)("div",{ref:f,class:["vxe-textarea--readonly",t]},c):(0,l.h)("div",{ref:f,class:["vxe-textarea",t,{[`size--${h}`]:h,"is--autosize":n,"is--count":i,"is--disabled":m,"is--rows":!a.default.eqNull(s),"is--cols":!a.default.eqNull(d)}],spellcheck:!1},[(0,l.h)("textarea",{ref:g,class:"vxe-textarea--inner",value:c,name:e.name,placeholder:M,maxlength:D,readonly:T,disabled:m,rows:s,cols:d,style:o?{resize:o}:null,onInput:S,onChange:L,onKeydown:N,onKeyup:N,onClick:N,onFocus:N,onBlur:P}),i?(0,l.h)("span",{class:["vxe-textarea--count",{"is--error":v}]},r?`${r({value:c})}`:`${w}${D?`/${D}`:""}`):null])},m},render(){return this.renderVN()}})},88897:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VxeTip=t.Tips=t.Tip=void 0;var n,l=o(71124),a=(n=o(96109))&&n.__esModule?n:{default:n},i=o(20670);const r=t.VxeTip=Object.assign({},a.default,{install(e){e.component(a.default.name,a.default),e.component("VxeTipsComponent",a.default)}});i.dynamicApp.use(r),l.VxeUI.component(a.default),t.Tips=r,t.Tip=r,t.default=r},96109:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=o(74061),a=(n=o(20732))&&n.__esModule?n:{default:n},i=o(35602),r=o(51027);t.default=(0,l.defineComponent)({name:"VxeTip",props:{title:{type:[String,Number],default:()=>(0,i.getConfig)().tip.title},content:[String,Number],status:String,icon:{type:String,default:()=>(0,i.getConfig)().tip.icon},permissionCode:[String,Number],size:{type:String,default:()=>(0,i.getConfig)().tip.size||(0,i.getConfig)().size}},emits:[],setup(e,t){const{slots:o,emit:n}=t,s=a.default.uniqueId(),{computeSize:d}=(0,i.useSize)(e),{computePermissionInfo:c}=(0,i.usePermission)(e),u=(0,l.ref)(),p=(0,l.reactive)({}),f={refElem:u},g={},h={xID:s,props:e,context:t,reactData:p,getRefMaps:()=>f,getComputeMaps:()=>g},m={dispatchEvent:(e,t,o)=>{n(e,(0,i.createEvent)(o,{$tip:h},t))}};return Object.assign(h,m,{}),h.renderVN=()=>{const{status:t,content:n,icon:i,title:s}=e,p=o.default,f=o.title,g=o.icon,h=c.value,m=d.value;return h.visible?(0,l.h)("div",{ref:u,class:["vxe-tip",{[`size--${m}`]:m,[`theme--${t}`]:t,"has--title":!(!f&&!s)}]},[g||i?(0,l.h)("div",{class:"vxe-tip--icon"},g?(0,r.getSlotVNs)(g({})):[(0,l.h)("i",{class:i})]):(0,l.createCommentVNode)(),(0,l.h)("div",{class:"vxe-tip--body"},[f||s?(0,l.h)("div",{class:"vxe-tip--title"},f?(0,r.getSlotVNs)(f({})):a.default.toValueString(s)):(0,l.createCommentVNode)(),(0,l.h)("div",{class:"vxe-tip--content"},p?(0,r.getSlotVNs)(p({})):a.default.toValueString(n))])]):(0,l.createCommentVNode)()},h},render(){return this.renderVN()}})},35131:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VxeTooltip=t.Tooltip=void 0;var n,l=o(71124),a=(n=o(75693))&&n.__esModule?n:{default:n},i=o(20670);const r=t.VxeTooltip=Object.assign({},a.default,{install(e){e.component(a.default.name,a.default)}});i.dynamicApp.use(r),l.VxeUI.component(a.default),t.Tooltip=r,t.default=r},75693:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=o(74061),a=(n=o(20732))&&n.__esModule?n:{default:n},i=o(35602),r=o(95638),s=o(25883),d=o(51027);t.default=(0,l.defineComponent)({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>(0,i.getConfig)().tooltip.size||(0,i.getConfig)().size},selector:String,trigger:{type:String,default:()=>(0,i.getConfig)().tooltip.trigger||"hover"},theme:{type:String,default:()=>(0,i.getConfig)().tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],isArrow:{type:Boolean,default:!0},enterable:Boolean,enterDelay:{type:Number,default:()=>(0,i.getConfig)().tooltip.enterDelay},leaveDelay:{type:Number,default:()=>(0,i.getConfig)().tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,t){const{slots:o,emit:n}=t,c=a.default.uniqueId(),{computeSize:u}=(0,i.useSize)(e),p=(0,l.reactive)({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),f={},g=(0,l.ref)(),h={refElem:g},m={xID:c,props:e,context:t,reactData:p,internalData:f,getRefMaps:()=>h};let v={};const x=()=>{const{tipTarget:e,tipStore:t}=p;if(e){const{scrollTop:o,scrollLeft:n,visibleWidth:l}=(0,s.getDomNode)(),{top:a,left:i}=(0,s.getAbsolutePos)(e),r=g.value,d=6,c=r.offsetHeight,u=r.offsetWidth;let p=i,f=a-c-d;p=Math.max(d,i+Math.floor((e.offsetWidth-u)/2)),p+u+d>n+l&&(p=n+l-u-d),a-c<o+d&&(t.placement="bottom",f=a+e.offsetHeight+d),t.style.top=`${f}px`,t.style.left=`${p}px`,t.arrowStyle.left=i-p+e.offsetWidth/2+"px"}},E=e=>{e!==p.visible&&(p.visible=e,p.isUpdate=!0,n("update:modelValue",e))},C=()=>{p.visible?v.close():O(p.target||N(),e.content)},b=()=>{O(p.target||N(),e.content)},_=()=>{const{trigger:t,enterable:o,leaveDelay:n}=e;p.tipActive=!1,o&&"hover"===t?setTimeout((()=>{p.tipActive||v.close()}),n):v.close()},y=()=>{p.tipActive=!0},I=()=>{const{trigger:t,enterable:o,leaveDelay:n}=e;p.tipActive=!1,o&&"hover"===t&&setTimeout((()=>{p.tipActive||v.close()}),n)},w=()=>{const{tipStore:t}=p,o=g.value;return o&&(o.parentNode||document.body.appendChild(o)),E(!0),p.tipZindex<(0,r.getLastZIndex)()&&(p.tipZindex=(0,r.nextZIndex)()),t.placement="top",t.style={width:"auto",left:0,top:0,zIndex:e.zIndex||p.tipZindex},t.arrowStyle={left:"50%"},v.updatePlacement()},T=()=>{f.showDelayTip=a.default.debounce((()=>{p.tipActive&&w()}),e.enterDelay,{leading:!1,trailing:!0})},O=(t,n)=>{if(!o.content&&(""===n||a.default.eqNull(n)))return(0,l.nextTick)();if(t){const{showDelayTip:o}=f,{trigger:l,enterDelay:a}=e;if(p.tipActive=!0,p.tipTarget=t,p.tipContent=n,!a||"hover"!==l)return w();o&&o()}return(0,l.nextTick)()},N=()=>{const{selector:t}=e;if(t){if(a.default.isElement(t))return t;if(a.default.isString(t))return document.querySelector(t)}return null};v={dispatchEvent(e,t,o){n(e,(0,i.createEvent)(o,{$tooltip:m},t))},open:(e,t)=>O(e||p.target||N(),t),close:()=>(p.tipTarget=null,p.tipActive=!1,Object.assign(p.tipStore,{style:{},placement:"",arrowStyle:null}),E(!1),(0,l.nextTick)()),toVisible:(e,t)=>O(e,t),updatePlacement:()=>(0,l.nextTick)().then((()=>{const{tipTarget:e}=p,t=g.value;if(e&&t)return x(),(0,l.nextTick)().then((()=>{x()}))})),isActived:()=>p.tipActive,setActived(e){p.tipActive=!!e}},Object.assign(m,v);const M=()=>{const{useHTML:t}=e,{tipContent:n}=p,a=o.content;return a?(0,l.h)("div",{key:1,class:"vxe-table--tooltip-content"},(0,d.getSlotVNs)(a({}))):t?(0,l.h)("div",{key:2,class:"vxe-table--tooltip-content",innerHTML:n}):(0,l.h)("div",{key:3,class:"vxe-table--tooltip-content"},`${n}`)};return(0,l.watch)((()=>e.enterDelay),(()=>{T()})),(0,l.watch)((()=>e.content),(e=>{p.tipContent=e})),(0,l.watch)((()=>e.modelValue),(t=>{p.isUpdate||(t?O(p.target||N(),e.content):v.close()),p.isUpdate=!1})),(0,l.onMounted)((()=>{(0,l.nextTick)((()=>{const{trigger:t,content:o}=e,n=g.value;if(n){const l=n.parentNode;if(l){p.tipContent=o,p.tipZindex=(0,r.nextZIndex)(),a.default.arrayEach(n.children,((e,t)=>{t>1&&(l.insertBefore(e,n),p.target||(p.target=e))})),l.removeChild(n);const{target:i}=p;i&&("hover"===t?(i.onmouseenter=b,i.onmouseleave=_):"click"===t&&(i.onclick=C)),e.modelValue&&O(i||N(),o)}}}))})),(0,l.onBeforeUnmount)((()=>{const{target:e}=p,t=g.value;if(e&&(e.onmouseenter=null,e.onmouseleave=null,e.onclick=null),t){const e=t.parentNode;e&&e.removeChild(t)}})),T(),m.renderVN=()=>{const{popupClassName:t,theme:n,isArrow:i,enterable:r}=e,{tipActive:s,visible:c,tipStore:f}=p,h=o.default,v=u.value;let x;return r&&(x={onMouseenter:y,onMouseleave:I}),(0,l.h)("div",Object.assign({ref:g,class:["vxe-table--tooltip-wrapper",`theme--${n}`,t?a.default.isFunction(t)?t({$tooltip:m}):t:"",{[`size--${v}`]:v,[`placement--${f.placement}`]:f.placement,"is--enterable":r,"is--visible":c,"is--arrow":i,"is--active":s}],style:f.style},x),[M(),(0,l.h)("div",{class:"vxe-table--tooltip-arrow",style:f.arrowStyle}),...h?(0,d.getSlotVNs)(h({})):[]])},m},render(){return this.renderVN()}})},75015:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VxeTreeSelect=t.TreeSelect=void 0;var n,l=o(71124),a=(n=o(4341))&&n.__esModule?n:{default:n},i=o(20670);const r=t.VxeTreeSelect=Object.assign({},a.default,{install(e){e.component(a.default.name,a.default)}});i.dynamicApp.use(r),l.VxeUI.component(a.default),t.TreeSelect=r,t.default=r},4341:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(74061),l=o(35602),a=o(25883),i=o(95638),r=c(o(20732)),s=c(o(55105)),d=c(o(4989));function c(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.defineComponent)({name:"VxeTreeSelect",props:{modelValue:[String,Number,Array],clearable:Boolean,placeholder:{type:String,default:()=>r.default.eqNull((0,l.getConfig)().select.placeholder)?(0,l.getI18n)("vxe.base.pleaseSelect"):(0,l.getConfig)().select.placeholder},readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,className:[String,Function],popupClassName:[String,Function],prefixIcon:String,placement:String,options:Array,optionProps:Object,size:{type:String,default:()=>(0,l.getConfig)().select.size||(0,l.getConfig)().size},remote:Boolean,remoteMethod:Function,treeConfig:Object,transfer:{type:Boolean,default:null}},emits:["update:modelValue","change","clear","blur","focus","click","node-click"],setup(e,t){const{emit:o,slots:c}=t,u=(0,n.inject)("$xeModal",null),p=(0,n.inject)("$xeDrawer",null),f=(0,n.inject)("$xeTable",null),g=(0,n.inject)("$xeForm",null),h=(0,n.inject)("xeFormItemInfo",null),m=r.default.uniqueId(),{computeSize:v}=(0,l.useSize)(e),x=(0,n.ref)(),E=(0,n.ref)(),C=(0,n.ref)(),b=(0,n.ref)(),_=(0,n.reactive)({initialized:!1,fullOptionList:[],fullNodeMaps:{},visibleOptionList:[],panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),y={hpTimeout:void 0},I={refElem:x},w=(0,n.computed)((()=>{const{readonly:t}=e;return null===t?!!g&&g.props.readonly:t})),T=(0,n.computed)((()=>{const{disabled:t}=e;return null===t?!!g&&g.props.disabled:t})),O=(0,n.computed)((()=>{const{transfer:t}=e;if(null===t){const e=(0,l.getConfig)().select.transfer;if(r.default.isBoolean(e))return e;if(f||u||p||g)return!0}return t})),N=(0,n.computed)((()=>Object.assign({},(0,l.getConfig)().treeSelect.treeConfig,e.treeConfig))),M=(0,n.computed)((()=>{const e=N.value;return Object.assign({isHover:!0},e.nodeConfig)})),S=(0,n.computed)((()=>{const e=N.value;return Object.assign({showIcon:!!e.showCheckbox},e.checkboxConfig,{trigger:"node"})})),L=(0,n.computed)((()=>{const e=N.value;return Object.assign({showIcon:!!e.showRadio},e.radioConfig,{trigger:"node"})})),P=(0,n.computed)((()=>e.optionProps||{})),D=(0,n.computed)((()=>P.value.label||"label")),k=(0,n.computed)((()=>P.value.value||"value")),V=(0,n.computed)((()=>P.value.children||"children")),A=(0,n.computed)((()=>P.value.parent||"parentField")),R=(0,n.computed)((()=>P.value.hasChild||"hasChild")),U=(0,n.computed)((()=>{const{modelValue:t}=e,{fullNodeMaps:o}=_,n=D.value;return(r.default.isArray(t)?t:[t]).map((e=>{const t=o[e];return t?t.item[n]:e})).join(", ")})),F={},B={xID:m,props:e,context:t,reactData:_,internalData:y,getRefMaps:()=>I,getComputeMaps:()=>F},z={dispatchEvent(e,t,n){o(e,(0,l.createEvent)(n,{$treeSelect:B},t))}},j=()=>{const{options:t}=e,o=k.value,l=V.value,a={};r.default.eachTree(t,((e,t,n,l,i,s)=>{let d=(e=>{const t=e[k.value];return t?encodeURIComponent(t):""})(e);d||(d=r.default.uniqueId("node_"),e[o]=d),a[d]={item:e,index:t,items:n,parent:i,nodes:s}}),{children:l}),_.fullOptionList=t||[],_.fullNodeMaps=a,(0,n.nextTick)()},$=()=>(0,n.nextTick)().then((()=>{const{placement:t}=e,{panelIndex:o}=_,l=x.value,i=b.value,r=O.value;if(i&&l){const e=l.offsetHeight,s=l.offsetWidth,d=i.offsetHeight,c=i.offsetWidth,u=5,p={zIndex:o},{boundingTop:f,boundingLeft:g,visibleHeight:h,visibleWidth:m}=(0,a.getAbsolutePos)(l);let v="bottom";if(r){let o=g,n=f+e;"top"===t?(v="top",n=f-d):t||(n+d+u>h&&(v="top",n=f-d),n<u&&(v="bottom",n=f+e)),o+c+u>m&&(o-=o+c+u-m),o<u&&(o=u),Object.assign(p,{left:`${o}px`,top:`${n}px`,minWidth:`${s}px`})}else"top"===t?(v="top",p.bottom=`${e}px`):t||f+e+d>h&&f-e-d>u&&(v="top",p.bottom=`${e}px`);return _.panelStyle=p,_.panelPlacement=v,(0,n.nextTick)()}})),G=()=>{const{loading:t}=e,o=T.value;t||o||(clearTimeout(y.hpTimeout),_.initialized||(_.initialized=!0),_.isActivated=!0,_.isAniVisible=!0,setTimeout((()=>{_.visiblePanel=!0}),10),_.panelIndex<(0,i.getLastZIndex)()&&(_.panelIndex=(0,i.nextZIndex)()),$())},H=()=>{_.visiblePanel=!1,y.hpTimeout=window.setTimeout((()=>{_.isAniVisible=!1}),350)},W=(t,n)=>{const{fullNodeMaps:l}=_;if(o("update:modelValue",n),n!==e.modelValue){const e=l[n];z.dispatchEvent("change",{value:n,option:e?e.item:null},t),g&&h&&g.triggerItemEvent(t,h.itemConfig.field,n)}},K=(e,t)=>{(e=>{W(e,null),z.dispatchEvent("clear",{value:null},e)})(t),H()},X=e=>{const{visiblePanel:t}=_;if(!T.value&&t){const t=b.value;(0,a.getEventTargetNode)(e,t).flag?$():H()}},q=e=>{const{visiblePanel:t}=_;if(!T.value){const o=x.value,n=b.value;_.isActivated=(0,a.getEventTargetNode)(e,o).flag||(0,a.getEventTargetNode)(e,n).flag,t&&!_.isActivated&&H()}},Y=()=>{H()},Z=e=>{T.value||_.visiblePanel||(_.triggerFocusPanel=!0,G(),setTimeout((()=>{_.triggerFocusPanel=!1}),150)),z.dispatchEvent("focus",{},e)},J=e=>{ee(e),z.dispatchEvent("click",{},e)},Q=e=>{_.isActivated=!1,z.dispatchEvent("blur",{},e)},ee=e=>{const{$event:t}=e;t.preventDefault(),_.triggerFocusPanel?_.triggerFocusPanel=!1:_.visiblePanel?H():G()},te=e=>{const{$event:t}=e;z.dispatchEvent("node-click",e,t)},oe=e=>{const{value:t,$event:o}=e;W(o,t),H()},ne=e=>{const{value:t,$event:o}=e;W(o,t)};return Object.assign(B,z,{}),(0,n.watch)((()=>e.options),(()=>{j()})),j(),(0,n.onMounted)((()=>{l.globalEvents.on(B,"mousewheel",X),l.globalEvents.on(B,"mousedown",q),l.globalEvents.on(B,"blur",Y)})),(0,n.onUnmounted)((()=>{l.globalEvents.off(B,"mousewheel"),l.globalEvents.off(B,"mousedown"),l.globalEvents.off(B,"blur")})),(0,n.provide)("$xeTreeSelect",B),B.renderVN=()=>{const{className:t,modelValue:o,multiple:a,options:i,popupClassName:u,loading:p}=e,{initialized:f,isActivated:g,isAniVisible:h,visiblePanel:m}=_,y=v.value,I=T.value,P=U.value,F=O.value,z=w.value,j=c.default,$=c.header,G=c.footer,H=c.prefix,W=N.value,X=M.value,q=S.value,Y=L.value,le=D.value,ae=k.value,ie=V.value,re=A.value,se=R.value;return z?(0,n.h)("div",{ref:x,class:["vxe-tree-select--readonly",t]},[(0,n.h)("div",{class:"vxe-tree-select-slots",ref:"hideOption"},j?j({}):[]),(0,n.h)("span",{class:"vxe-tree-select-label"},P)]):(0,n.h)("div",{ref:x,class:["vxe-tree-select",t?r.default.isFunction(t)?t({$treeSelect:B}):t:"",{[`size--${y}`]:y,"is--visible":m,"is--disabled":I,"is--loading":p,"is--active":g}]},[(0,n.h)(s.default,{ref:E,clearable:e.clearable,placeholder:e.placeholder,readonly:!0,disabled:I,type:"text",prefixIcon:e.prefixIcon,suffixIcon:p?(0,l.getIcon)().TREE_SELECT_LOADED:m?(0,l.getIcon)().TREE_SELECT_OPEN:(0,l.getIcon)().TREE_SELECT_CLOSE,modelValue:P,onClear:K,onClick:J,onFocus:Z,onBlur:Q,onSuffixClick:ee},H?{prefix:()=>H({})}:{}),(0,n.h)(n.Teleport,{to:"body",disabled:!F||!f},[(0,n.h)("div",{ref:b,class:["vxe-table--ignore-clear vxe-tree-select--panel",u?r.default.isFunction(u)?u({$treeSelect:B}):u:"",{[`size--${y}`]:y,"is--transfer":F,"ani--leave":!p&&h,"ani--enter":!p&&m}],placement:_.panelPlacement,style:_.panelStyle},f&&(m||h)?[(0,n.h)("div",{class:"vxe-tree-select--panel-wrapper"},[$?(0,n.h)("div",{class:"vxe-tree-select--panel-header"},$({})):(0,n.createCommentVNode)(),(0,n.h)("div",{class:"vxe-tree-select--panel-body"},[(0,n.h)("div",{ref:C,class:"vxe-tree-select-option--wrapper"},[(0,n.h)(d.default,{class:"vxe-tree-select--tree",data:i,indent:W.indent,showRadio:!a,radioConfig:Y,checkNodeKey:a?null:o,showCheckbox:!!a,checkNodeKeys:a?o:null,checkboxConfig:q,titleField:le,valueField:ae,keyField:W.keyField,childrenField:W.childrenField||ie,parentField:W.parentField||re,hasChildField:W.hasChildField||se,accordion:W.accordion,nodeConfig:X,lazy:W.lazy,loadMethod:W.loadMethod,toggleMethod:W.toggleMethod,transform:W.transform,trigger:W.trigger,showIcon:W.showIcon,showLine:W.showLine,iconOpen:W.iconOpen,iconLoaded:W.iconLoaded,iconClose:W.iconClose,onNodeClick:te,onRadioChange:oe,onCheckboxChange:ne})])]),G?(0,n.h)("div",{class:"vxe-tree-select--panel-footer"},G({})):(0,n.createCommentVNode)()])]:[])])])},B},render(){return this.renderVN()}})},27668:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VxeTree=t.Tree=void 0;var n,l=o(71124),a=(n=o(4989))&&n.__esModule?n:{default:n},i=o(20670);const r=t.VxeTree=Object.assign({},a.default,{install(e){e.component(a.default.name,a.default)}});i.dynamicApp.use(r),l.VxeUI.component(a.default),t.Tree=r,t.default=r},4989:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(74061),l=o(35602),a=d(o(20732)),i=o(51027),r=o(25883),s=d(o(98025));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return a.default.uniqueId("node_")}t.default=(0,n.defineComponent)({name:"VxeTree",props:{data:Array,height:[String,Number],minHeight:{type:[String,Number],default:()=>(0,l.getConfig)().tree.minHeight},loading:Boolean,loadingConfig:Object,accordion:{type:Boolean,default:()=>(0,l.getConfig)().tree.accordion},childrenField:{type:String,default:()=>(0,l.getConfig)().tree.childrenField},valueField:{type:String,default:()=>(0,l.getConfig)().tree.valueField},keyField:{type:String,default:()=>(0,l.getConfig)().tree.keyField},parentField:{type:String,default:()=>(0,l.getConfig)().tree.parentField},titleField:{type:String,default:()=>(0,l.getConfig)().tree.titleField},hasChildField:{type:String,default:()=>(0,l.getConfig)().tree.hasChildField},transform:Boolean,isCurrent:Boolean,isHover:Boolean,showLine:{type:Boolean,default:()=>(0,l.getConfig)().tree.showLine},trigger:String,indent:{type:Number,default:()=>(0,l.getConfig)().tree.indent},showRadio:{type:Boolean,default:()=>(0,l.getConfig)().tree.showRadio},checkNodeKey:{type:[String,Number],default:()=>(0,l.getConfig)().tree.checkNodeKey},radioConfig:Object,showCheckbox:{type:Boolean,default:()=>(0,l.getConfig)().tree.showCheckbox},checkNodeKeys:{type:Array,default:()=>(0,l.getConfig)().tree.checkNodeKeys},checkboxConfig:Object,nodeConfig:Object,lazy:Boolean,toggleMethod:Function,loadMethod:Function,showIcon:{type:Boolean,default:!0},iconOpen:{type:String,default:()=>(0,l.getConfig)().tree.iconOpen},iconClose:{type:String,default:()=>(0,l.getConfig)().tree.iconClose},iconLoaded:{type:String,default:()=>(0,l.getConfig)().tree.iconLoaded},size:{type:String,default:()=>(0,l.getConfig)().tree.size||(0,l.getConfig)().size}},emits:["update:modelValue","update:checkNodeKey","update:checkNodeKeys","node-click","node-dblclick","current-change","radio-change","checkbox-change","load-success","load-error"],setup(e,t){const{emit:o,slots:d}=t,u=a.default.uniqueId(),{computeSize:p}=(0,l.useSize)(e),f=(0,n.ref)(),g=(0,n.reactive)({currentNode:null,nodeMaps:{},selectRadioKey:e.checkNodeKey,treeList:[],treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},indeterminateCheckboxMaps:{}}),h={refElem:f},m=(0,n.computed)((()=>e.titleField||"title")),v=(0,n.computed)((()=>e.keyField||"id")),x=(0,n.computed)((()=>{const t=v.value;return e.valueField||t})),E=(0,n.computed)((()=>e.parentField||"parentId")),C=(0,n.computed)((()=>e.childrenField||"children")),b=(0,n.computed)((()=>e.hasChildField||"hasChild")),_=(0,n.computed)((()=>{const t=T.value,{isCurrent:o}=t;return a.default.isBoolean(o)?o:e.isCurrent})),y=(0,n.computed)((()=>{const t=T.value,{isHover:o}=t;return a.default.isBoolean(o)?o:e.isHover})),I=(0,n.computed)((()=>Object.assign({showIcon:!0},(0,l.getConfig)().tree.radioConfig,e.radioConfig))),w=(0,n.computed)((()=>Object.assign({showIcon:!0},(0,l.getConfig)().tree.checkboxConfig,e.checkboxConfig))),T=(0,n.computed)((()=>Object.assign({},(0,l.getConfig)().tree.nodeConfig,e.nodeConfig))),O=(0,n.computed)((()=>Object.assign({},(0,l.getConfig)().tree.loadingConfig,e.loadingConfig))),N=(0,n.computed)((()=>{const{height:t,minHeight:o}=e,n={};return t&&(n.height=(0,r.toCssUnit)(t)),o&&(n.minHeight=(0,r.toCssUnit)(o)),n})),M={computeRadioOpts:I,computeCheckboxOpts:w,computeNodeOpts:T},S={xID:u,props:e,context:t,internalData:{},reactData:g,getRefMaps:()=>h,getComputeMaps:()=>M},L=e=>{const t=x.value,o=a.default.get(e,t);return a.default.eqNull(o)?"":encodeURIComponent(o)},P=e=>{const{selectRadioKey:t}=g;return t===e},D=e=>{const{selectCheckboxMaps:t}=g;return!!t[e]},k=e=>{const{indeterminateCheckboxMaps:t}=g;return!!t[e]},V=(e,t)=>{const o=Object.assign({},g.selectCheckboxMaps);e.forEach((e=>{t?o[e]=!0:o[e]&&delete o[e]})),g.selectCheckboxMaps=o},A=e=>{const t={};e&&e.forEach((e=>{t[e]=!0})),g.selectCheckboxMaps=t},R=(e,t,o)=>{t?o[e]&&(o[e]=!0):o[e]&&delete o[e]},U=(e,t,n)=>{o(e,(0,l.createEvent)(n,{$tree:S},t))},F={dispatchEvent:U,clearRadioNode:()=>(g.selectRadioKey=null,(0,n.nextTick)()),setRadioNode:(e,t)=>(e&&(g.selectRadioKey=t?L(e):null),(0,n.nextTick)()),setCheckboxNode:(e,t)=>(e&&(a.default.isArray(e)||(e=[e]),V(e.map((e=>L(e))),t)),(0,n.nextTick)()),setCheckboxByNodeId:(e,t)=>(e&&(a.default.isArray(e)||(e=[e]),V(e,t)),(0,n.nextTick)()),clearCheckboxNode:()=>(g.selectCheckboxMaps={},(0,n.nextTick)()),setAllCheckboxNode(e){const t=Object.assign(g.selectCheckboxMaps),o=C.value;return e&&a.default.eachTree(g.treeList,(e=>{const o=L(e);t[o]=!0}),{children:o}),g.selectCheckboxMaps=t,(0,n.nextTick)()},clearExpandNode:()=>F.clearAllExpandNode(),clearAllExpandNode:()=>(a.default.each(g.nodeMaps,(e=>{e.treeLoaded=!1})),g.treeExpandedMaps={},(0,n.nextTick)()),setExpandByNodeId(e,t){const o=Object.assign(g.treeExpandedMaps);return e&&(a.default.isArray(e)||(e=[e]),e.forEach((e=>{R(e,t,o)})),g.treeExpandedMaps=o),(0,n.nextTick)()},setExpandNode(e,t){const o=Object.assign(g.treeExpandedMaps);return e&&(a.default.isArray(e)||(e=[e]),e.forEach((e=>{const n=L(e);R(n,t,o)})),g.treeExpandedMaps=o),(0,n.nextTick)()},toggleExpandByNodeId(e){const t=Object.assign(g.treeExpandedMaps);return e&&(a.default.isArray(e)||(e=[e]),e.forEach((e=>{R(e,!t[e],t)})),g.treeExpandedMaps=t),(0,n.nextTick)()},toggleExpandNode(e){const t=Object.assign(g.treeExpandedMaps);return e&&(a.default.isArray(e)||(e=[e]),e.forEach((e=>{const o=L(e);R(o,!t[o],t)})),g.treeExpandedMaps=t),(0,n.nextTick)()},setAllExpandNode(){const e=Object.assign(g.treeExpandedMaps),t=C.value;return a.default.eachTree(g.treeList,(t=>{const o=L(t);e[o]=!0}),{children:t}),g.treeExpandedMaps=e,(0,n.nextTick)()},reloadExpandNode(t){const{lazy:o}=e;return o?(F.clearExpandLoaded(t),$(t)):(0,n.nextTick)()},clearExpandLoaded(t){const{lazy:o}=e,{nodeMaps:l}=g;if(o){const e=l[L(t)];e&&(e.treeLoaded=!1)}return(0,n.nextTick)()},loadChildrenNode(t,o){const{lazy:n,transform:l}=e,{nodeMaps:i}=g;if(!n)return Promise.resolve([]);const r=C.value,s=i[L(t)],d=s?s.level:0,u=s?s.nodes:[];return(e=>{const t=x.value;return Promise.resolve(e.map((e=>{const o=Object.assign({},e);let n=L(o);return n||(n=c(),a.default.set(o,t,n)),o})))})(o).then((e=>(a.default.eachTree(e,((e,o,n,l,a,r)=>{const c=L(e);i[c]={item:t,itemIndex:-1,items:n,parent:a||s.item,nodes:u.concat(r),level:d+r.length,lineCount:0,treeLoaded:!1}}),{children:r}),t[r]=e,l&&(t[r]=e),j(t),e)))},isExpandByNode:e=>{const{treeExpandedMaps:t}=g;return!!t[L(e)]},isCheckedByRadioNodeId:P,isCheckedByRadioNode:e=>P(L(e)),isCheckedByCheckboxNodeId:D,isIndeterminateByCheckboxNode:e=>k(L(e)),isCheckedByCheckboxNode:e=>D(L(e))},B=t=>{const{transform:o}=e,n=v.value,l=E.value,i=C.value;g.treeList=o?a.default.toArrayTree(t,{key:n,parentKey:l,mapChildren:i}):t?t.slice(0):[],(()=>{const{treeList:e}=g,t=x.value,o=C.value,n={};a.default.eachTree(e,((e,o,l,i,r,s)=>{let d=L(e);d||(d=c(),a.default.set(e,t,d)),n[d]={item:e,itemIndex:o,items:l,parent:r,nodes:s,level:s.length,lineCount:0,treeLoaded:!1}}),{children:o}),g.nodeMaps=n})()},z=(e,t,o)=>{const{treeExpandedMaps:n}=g,l=C.value,i=L(e);o.lineCount++,n[i]&&a.default.arrayEach(e[l],((e,n,l)=>{(!t||n<l.length-1)&&z(e,!1,o)}))},j=e=>{const{nodeMaps:t}=g;if(e){const o=L(e),n=t[o];n&&a.default.lastArrayEach(n.nodes,(e=>{const o=L(e),n=t[o];n&&(n.lineCount=0,z(e,!0,n))}))}},$=t=>{const o=w.value,{loadMethod:l}=e,{checkStrictly:i}=o;return new Promise((e=>{if(l){const{treeExpandLazyLoadedMaps:e}=g,{nodeMaps:o}=g,r=L(t),s=o[r];e[r]=!0,Promise.resolve(l({$tree:S,node:t})).then((o=>{if(s.treeLoaded=!0,e[r]&&delete e[r],a.default.isArray(o)||(o=[]),o)return F.loadChildrenNode(t,o).then((e=>{const{treeExpandedMaps:l}=g;return e.length&&!l[r]&&(l[r]=!0),!i&&F.isCheckedByCheckboxNodeId(r)&&V(e.map((e=>L(e))),!0),j(t),U("load-success",{node:t,data:o},new Event("load-success")),(0,n.nextTick)()}));j(t),U("load-success",{node:t,data:o},new Event("load-success"))})).catch((e=>{const{treeExpandLazyLoadedMaps:o}=g;s.treeLoaded=!1,o[r]&&delete o[r],j(t),U("load-error",{node:t,data:e},new Event("load-error"))})).finally((()=>(0,n.nextTick)()))}else e()}))},G=(t,o)=>{const{lazy:n}=e,{treeExpandedMaps:l,treeExpandLazyLoadedMaps:a}=g,i=L(o),r=!l[i];t.stopPropagation(),n&&a[i]||((t,o)=>{const{lazy:n,accordion:l,toggleMethod:a}=e,{nodeMaps:i,treeExpandLazyLoadedMaps:r}=g,s=Object.assign({},g.treeExpandedMaps),d=C.value,c=b.value,u=[];let p=a?t.filter((e=>a({$tree:S,expanded:o,node:e}))):t;if(l){p=p.length?[p[p.length-1]]:[];const e=L(p[0]),t=i[e];t&&t.items.forEach((e=>{const t=L(e);s[t]&&delete s[t]}))}const f=[];o?p.forEach((e=>{const t=L(e);if(!s[t]){const o=i[t];n&&e[c]&&!o.treeLoaded&&!r[t]?u.push($(e)):e[d]&&e[d].length&&(s[t]=!0,f.push(e))}})):p.forEach((e=>{const t=L(e);s[t]&&(delete s[t],f.push(e))})),g.treeExpandedMaps=s,f.forEach(j),Promise.all(u)})([o],r)},H=(e,t,o)=>{const n=C.value,l=a.default.get(e,n),i=L(e);if(l&&l.length){let e=!1,n=0;l.forEach((l=>{const a=L(l),i=t[a];(i||o[a])&&(i&&n++,e=!0)})),n===l.length?(t[i]||(t[i]=!0),o[i]&&delete o[i]):(t[i]&&delete t[i],o[i]=e)}else o[i]&&delete o[i]},W=(e,t)=>{e.preventDefault(),e.stopPropagation();const n=w.value,{checkStrictly:l,checkMethod:i}=n;let r=!!i;if(i&&(r=!i({node:t})),r)return;const s=Object.assign({},g.selectCheckboxMaps),d=C.value,c=L(t);let u=!1;s[c]?delete s[c]:(u=!0,s[c]=u),l||a.default.eachTree(a.default.get(t,d),(e=>{const t=L(e);u?s[t]||(s[t]=!0):s[t]&&delete s[t]}),{children:d}),g.selectCheckboxMaps=s,(()=>{const{treeList:e}=g,t=C.value,o=w.value,{checkStrictly:n}=o;if(!n){const o=Object.assign({},g.selectCheckboxMaps),n={};a.default.eachTree(e,((e,l,i,r,s,d)=>{const c=a.default.get(e,t);if(c&&c.length||H(e,o,n),l===i.length-1)for(let e=d.length-2;e>=0;e--){const t=d[e];H(t,o,n)}})),g.selectCheckboxMaps=o,g.indeterminateCheckboxMaps=n}})();const p=Object.keys(g.selectCheckboxMaps);(e=>{o("update:checkNodeKeys",e)})(p),U("checkbox-change",{node:t,value:p,checked:u},e)},K=(e,t)=>{e.preventDefault(),e.stopPropagation();const n=I.value,{checkMethod:l}=n;let a=!!l;if(l&&(a=!l({node:t})),a)return;const i=L(t);g.selectRadioKey=i,(e=>{o("update:checkNodeKey",e)})(i),U("radio-change",{node:t,value:i,checked:!0},e)};Object.assign(S,F,{});const X=(t,o,a)=>{const{showRadio:i}=e,r=I.value,{showIcon:s,checkMethod:d,visibleMethod:c}=r,u=!c||c({node:t});let p=!!d;return i&&s&&u?(d&&(p=!d({node:t})),(0,n.h)("div",{class:["vxe-tree--radio-option",{"is--checked":a,"is--disabled":p}],onClick:e=>{p||K(e,t)}},[(0,n.h)("span",{class:["vxe-radio--icon",a?(0,l.getIcon)().RADIO_CHECKED:(0,l.getIcon)().RADIO_UNCHECKED]})])):(0,n.createCommentVNode)()},q=(t,o,a)=>{const{showCheckbox:i}=e,r=w.value,{showIcon:s,checkMethod:d,visibleMethod:c}=r,u=k(o),p=!c||c({node:t});let f=!!d;return i&&s&&p?(d&&(f=!d({node:t})),(0,n.h)("div",{class:["vxe-tree--checkbox-option",{"is--checked":a,"is--indeterminate":u,"is--disabled":f}],onClick:e=>{f||W(e,t)}},[(0,n.h)("span",{class:["vxe-checkbox--icon",u?(0,l.getIcon)().CHECKBOX_INDETERMINATE:a?(0,l.getIcon)().CHECKBOX_CHECKED:(0,l.getIcon)().CHECKBOX_UNCHECKED]})])):(0,n.createCommentVNode)()},Y=t=>{const{lazy:o,showRadio:r,showCheckbox:s,showLine:c,indent:u,iconOpen:p,iconClose:f,iconLoaded:h,showIcon:v}=e,{nodeMaps:x,treeExpandedMaps:E,currentNode:y,selectRadioKey:O,treeExpandLazyLoadedMaps:N}=g,M=C.value,S=m.value,P=b.value,k=a.default.get(t,M),V=k&&k.length,A=d.title,R=d.extra,F=L(t),B=E[F],z=x[F],j=a.default.get(t,S),$=[];V&&E[F]&&(c&&$.push((0,n.h)("div",{key:"line",class:"vxe-tree--node-child-line",style:{height:`calc(${z.lineCount} * var(--vxe-ui-tree-node-height) - var(--vxe-ui-tree-node-height) / 2)`,left:(z.level+1)*(u||1)+"px"}})),k.forEach((e=>{$.push(Y(e))})));let H=!1;r&&(H=F==O);let Z=!1;s&&(Z=D(F));let J=!1,Q=!1,ee=!1;return o&&(Q=!!N[F],J=t[P],ee=!!z.treeLoaded),(0,n.h)("div",{class:["vxe-tree--node-wrapper",`node--level-${z.level}`],nodeid:F},[(0,n.h)("div",{class:["vxe-tree--node-item",{"is--current":y&&F===L(y),"is-radio--checked":H,"is-checkbox--checked":Z}],style:{paddingLeft:(z.level-1)*(u||1)+"px"},onClick(o){((t,o)=>{const{showRadio:n,showCheckbox:l,trigger:i}=e,r=I.value,s=w.value;let d=!1,c=!1,u=!1,p=!1;_.value?(d=!0,((e,t)=>{e.preventDefault();const o=T.value,{currentMethod:n,trigger:l}=o,i=C.value,r=a.default.get(t,i),s=r&&r.length;let d=!!n;if("child"===l){if(s)return}else if("parent"===l&&!s)return;n&&(d=!n({node:t})),d||(g.currentNode=t,U("current-change",{node:t,checked:!0},e))})(t,o)):g.currentNode&&(g.currentNode=null),"node"===i&&(p=!0,G(t,o)),n&&"node"===r.trigger&&(c=!0,K(t,o)),l&&"node"===s.trigger&&(u=!0,W(t,o)),U("node-click",{node:o,triggerCurrent:d,triggerRadio:c,triggerCheckbox:u,triggerExpand:p},t)})(o,t)},onDblclick(e){((e,t)=>{U("node-dblclick",{node:t},e)})(e,t)}},[v||c?(0,n.h)("div",{class:"vxe-tree--node-item-switcher"},v&&(o?ee?V:J:V)?[(0,n.h)("div",{class:"vxe-tree--node-item-icon",onClick(e){G(e,t)}},[(0,n.h)("i",{class:Q?h||(0,l.getIcon)().TREE_NODE_LOADED:B?p||(0,l.getIcon)().TREE_NODE_OPEN:f||(0,l.getIcon)().TREE_NODE_CLOSE})])]:[]):(0,n.createCommentVNode)(),X(t,0,H),q(t,F,Z),(0,n.h)("div",{class:"vxe-tree--node-item-inner"},[(0,n.h)("div",{class:"vxe-tree--node-item-title"},A?(0,i.getSlotVNs)(A({node:t})):`${j}`),R?(0,n.h)("div",{class:"vxe-tree--node-item-extra"},(0,i.getSlotVNs)(R({node:t}))):(0,n.createCommentVNode)()])]),V&&E[F]?(0,n.h)("div",{class:"vxe-tree--node-child-wrapper"},$):(0,n.createCommentVNode)()])},Z=()=>{const{treeList:e}=g;return(0,n.h)("div",{class:"vxe-tree--node-list-wrapper"},e.map((e=>Y(e))))},J=(0,n.ref)(0);(0,n.watch)((()=>e.data?e.data.length:0),(()=>{J.value++})),(0,n.watch)((()=>e.data),(()=>{J.value++})),(0,n.watch)(J,(()=>{B(e.data||[])})),(0,n.watch)((()=>e.checkNodeKey),(e=>{g.selectRadioKey=e}));const Q=(0,n.ref)(0);return(0,n.watch)((()=>e.checkNodeKeys?e.checkNodeKeys.length:0),(()=>{Q.value++})),(0,n.watch)((()=>e.checkNodeKeys),(()=>{Q.value++})),(0,n.watch)(Q,(()=>{A(e.checkNodeKeys||[])})),(0,n.onUnmounted)((()=>{g.treeList=[],g.treeExpandedMaps={},g.nodeMaps={}})),B(e.data||[]),A(e.checkNodeKeys||[]),S.renderVN=()=>{const{loading:t,trigger:o,showLine:l}=e,a=p.value,i=I.value,r=w.value,c=N.value,u=O.value,g=y.value,h=d.loading;return(0,n.h)("div",{ref:f,class:["vxe-tree",{[`size--${a}`]:a,"show--line":l,"checkbox--highlight":r.highlight,"radio--highlight":i.highlight,"node--hover":g,"node--trigger":"node"===o,"is--loading":t}],style:c},[Z(),(0,n.h)(s.default,{class:"vxe-tree--loading",modelValue:t,icon:u.icon,text:u.text},h?{default:()=>h({$tree:S})}:{})])},S},render(){return this.renderVN()}})},35602:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});var n={version:!0,config:!0,setup:!0};t.config=s,t.default=void 0,t.setup=d,t.version=void 0;var l=o(71124);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var a=o(20670),i=o(95638);o(38237);const r=t.version="4.2.18";function s(e){return(0,l.setConfig)(e)}function d(e){return(0,l.setConfig)(e)}l.VxeUI.version=r,l.VxeUI.uiVersion=r,l.VxeUI.tableVersion="",l.VxeUI.t=l.VxeUI.getI18n,l.VxeUI._t=i.getFuncText,l.VxeUI.dynamicApp=a.dynamicApp,l.VxeUI.config=s,l.VxeUI.setup=d,(0,l.setConfig)({alert:{},anchor:{},anchorLink:{},avatar:{},badge:{},breadcrumb:{separator:"/"},breadcrumbItem:{},button:{trigger:"hover",prefixTooltip:{enterable:!0},suffixTooltip:{enterable:!0}},buttonGroup:{},calendar:{minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),startDay:1,selectDay:1},card:{border:!0,padding:!0},carousel:{height:200,loop:!0,interval:5e3},carouselItem:{},checkbox:{},checkboxGroup:{},col:{},collapse:{padding:!0,expandConfig:{showIcon:!0}},collapsePane:{},countdown:{},datePicker:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1},drawer:{position:"right",showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0,padding:!0,cancelClosable:!0,confirmClosable:!0},empty:{},form:{validConfig:{showMessage:!0,autoPos:!0},tooltipConfig:{enterable:!0},titleAsterisk:!0,titleOverflow:!1,padding:!0},formDesign:{height:400,showHeader:!0,showPc:!0},formGather:{},formGroup:{},formItem:{},formView:{},icon:{},iconPicker:{icons:["home","company","comment","setting","send","envelope","envelope-open","bell","search","print","pc","goods","chart-line","edit","delete","save","folder","microphone","flag","link","location","sunny","rmb","usd","user","add-user","add-users","star","unlock","time","text","feedback","calendar","association-form","cloud-download","cloud-upload","file","subtable","chart-bar-x","chart-bar-y","chart-line","chart-pie","chart-radar"]},image:{showPreview:!0,showPrintButton:!0},imageGroup:{showPreview:!0,showPrintButton:!0},imagePreview:{showPrintButton:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},layoutAside:{},layoutBody:{},layoutContainer:{},layoutFooter:{},layoutHeader:{},link:{underline:!0},listDesign:{height:400,showPc:!0},listView:{},list:{scrollY:{enabled:!0,gt:100}},loading:{showIcon:!0,showText:!0},modal:{top:16,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,padding:!0,draggable:!0,showConfirmButton:null,cancelClosable:!0,confirmClosable:!0,zoomConfig:{minimizeMaxSize:10,minimizeVerticalOffset:{top:-24,left:0},minimizeHorizontalOffset:{top:0,left:32}},storageKey:"VXE_MODAL_POSITION"},noticeBar:{},numberInput:{digits:2,controls:!0},optgroup:{},option:{},pager:{pageSizePlacement:"top"},print:{},passwordInput:{controls:!0},printPageBreak:{},pulldown:{destroyOnClose:!0},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},result:{},row:{},select:{multiCharOverflow:8},slider:{max:100,min:0},steps:{},switch:{},tabPane:{},tabs:{},tag:{},textEllipsis:{},text:{},textarea:{resize:"none"},tip:{},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300},tree:{indent:20,minHeight:60,radioConfig:{strict:!0}},treeSelect:{treeConfig:{radioConfig:{},checkboxConfig:{}}},upload:{mode:"all",imageTypes:["jpg","jpeg","png","gif"],showList:!0,showUploadButton:!0,showButtonText:!0,showRemoveButton:!0,showButtonIcon:!0,showPreview:!0,imageStyle:{}},watermark:{rotate:-30,gap:[100,100]},table:{},colgroup:{},column:{},toolbar:{},grid:{}});const c="vxe-icon-";(0,l.setIcon)({LOADING:c+"spinner roll vxe-loading--default-icon",BUTTON_DROPDOWN:c+"arrow-down",BUTTON_LOADING:c+"spinner roll",BUTTON_TOOLTIP_ICON:c+"question-circle-fill",MENU_ITEM_EXPAND_OPEN:c+"arrow-down rotate180",MENU_ITEM_EXPAND_CLOSE:c+"arrow-down",SELECT_LOADED:c+"spinner roll",SELECT_OPEN:c+"caret-down rotate180",SELECT_CLOSE:c+"caret-down",ICON_PICKER_OPEN:c+"caret-down rotate180",ICON_PICKER_CLOSE:c+"caret-down",PAGER_HOME:c+"home-page",PAGER_END:c+"end-page",PAGER_JUMP_PREV:c+"arrow-double-left",PAGER_JUMP_NEXT:c+"arrow-double-right",PAGER_PREV_PAGE:c+"arrow-left",PAGER_NEXT_PAGE:c+"arrow-right",PAGER_JUMP_MORE:c+"ellipsis-h",RADIO_CHECKED:c+"radio-checked-fill",RADIO_UNCHECKED:c+"radio-unchecked",CHECKBOX_INDETERMINATE:c+"checkbox-indeterminate-fill",CHECKBOX_CHECKED:c+"checkbox-checked-fill",CHECKBOX_UNCHECKED:c+"checkbox-unchecked",INPUT_CLEAR:c+"error-circle-fill",INPUT_SEARCH:c+"search",NUMBER_INPUT_PREV_NUM:c+"caret-up",NUMBER_INPUT_NEXT_NUM:c+"caret-down",DATE_PICKER_DATE:c+"calendar",PASSWORD_INPUT_SHOW_PWD:c+"eye-fill-close",PASSWORD_INPUT_HIDE_PWD:c+"eye-fill",MODAL_ZOOM_MIN:c+"minus",MODAL_ZOOM_REVERT:c+"recover",MODAL_ZOOM_IN:c+"square",MODAL_ZOOM_OUT:c+"maximize",MODAL_CLOSE:c+"close",MODAL_INFO:c+"info-circle-fill",MODAL_SUCCESS:c+"success-circle-fill",MODAL_WARNING:c+"warning-circle-fill",MODAL_ERROR:c+"error-circle-fill",MODAL_QUESTION:c+"question-circle-fill",MODAL_LOADING:c+"spinner roll",DRAWER_CLOSE:c+"close",FORM_PREFIX:c+"question-circle-fill",FORM_SUFFIX:c+"question-circle-fill",FORM_FOLDING:c+"arrow-up rotate180",FORM_UNFOLDING:c+"arrow-up",FORM_DESIGN_STYLE_SETTING:c+"layout",FORM_DESIGN_PROPS_PC:c+"pc",FORM_DESIGN_PROPS_MOBILE:c+"mobile",FORM_DESIGN_PROPS_ADD:c+"add",FORM_DESIGN_PROPS_EDIT:c+"edit",FORM_DESIGN_WIDGET_ADD:c+"square-plus-fill",FORM_DESIGN_WIDGET_COPY:c+"copy",FORM_DESIGN_WIDGET_DELETE:c+"delete",FORM_DESIGN_WIDGET_SWAP_LR:c+"swap",FORM_DESIGN_WIDGET_OPTION_DELETE:c+"delete",FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN:c+"square-plus",FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:c+"square-minus",LIST_DESIGN_FIELD_SETTING:c+"custom-column",LIST_DESIGN_LIST_SETTING:c+"menu",LIST_DESIGN_LIST_SETTING_SEARCH_DELETE:c+"delete",LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE:c+"delete",UPLOAD_FILE_ERROR:c+"warning-circle-fill",UPLOAD_FILE_ADD:c+"upload",UPLOAD_FILE_REMOVE:c+"delete",UPLOAD_FILE_DOWNLOAD:c+"download",UPLOAD_IMAGE_RE_UPLOAD:c+"repeat",UPLOAD_IMAGE_ADD:c+"add",UPLOAD_IMAGE_REMOVE:c+"close",UPLOAD_LOADING:c+"spinner roll vxe-loading--default-icon",UPLOAD_FILE_TYPE_DEFAULT:c+"file",UPLOAD_FILE_TYPE_XLSX:c+"file-excel",UPLOAD_FILE_TYPE_XLS:c+"file-excel",UPLOAD_FILE_TYPE_PDF:c+"file-pdf",UPLOAD_FILE_TYPE_PNG:c+"file-image",UPLOAD_FILE_TYPE_GIF:c+"file-image",UPLOAD_FILE_TYPE_JPG:c+"file-image",UPLOAD_FILE_TYPE_JPEG:c+"file-image",UPLOAD_FILE_TYPE_MD:c+"file-markdown",UPLOAD_FILE_TYPE_PPD:c+"file-ppt",UPLOAD_FILE_TYPE_DOCX:c+"file-word",UPLOAD_FILE_TYPE_DOC:c+"file-word",UPLOAD_FILE_TYPE_ZIP:c+"file-zip",UPLOAD_FILE_TYPE_TXT:c+"file-txt",IMAGE_PREVIEW_CLOSE:c+"close",IMAGE_PREVIEW_PREVIOUS:c+"arrow-left",IMAGE_PREVIEW_NEXT:c+"arrow-right",IMAGE_PREVIEW_PCT_FULL:c+"pct-full",IMAGE_PREVIEW_PCT_1_1:c+"pct-1-1",IMAGE_PREVIEW_ZOOM_OUT:c+"search-zoom-out",IMAGE_PREVIEW_ZOOM_IN:c+"search-zoom-in",IMAGE_PREVIEW_ROTATE_LEFT:c+"rotate-left",IMAGE_PREVIEW_ROTATE_RIGHT:c+"rotate-right",IMAGE_PREVIEW_PRINT:c+"print",IMAGE_PREVIEW_DOWNLOAD:c+"download",ALERT_CLOSE:c+"close",ALERT_INFO:c+"info-circle-fill",ALERT_SUCCESS:c+"success-circle-fill",ALERT_WARNING:c+"warning-circle-fill",ALERT_ERROR:c+"error-circle-fill",TREE_NODE_OPEN:c+"caret-right rotate90",TREE_NODE_CLOSE:c+"caret-right",TREE_NODE_LOADED:c+"spinner roll",TREE_SELECT_LOADED:c+"spinner roll",TREE_SELECT_OPEN:c+"caret-down rotate180",TREE_SELECT_CLOSE:c+"caret-down",TABS_TAB_BUTTON_LEFT:c+"arrow-left",TABS_TAB_BUTTON_RIGHT:c+"arrow-right",TABS_TAB_CLOSE:c+"close",TABS_TAB_REFRESH:c+"refresh",TABS_TAB_REFRESH_LOADING:c+"refresh roll",TEXT_COPY:c+"copy",TEXT_LOADING:c+"spinner roll",CAROUSEL_HORIZONTAL_PREVIOUS:c+"arrow-left",CAROUSEL_HORIZONTAL_NEXT:c+"arrow-right",CAROUSEL_VERTICAL_PREVIOUS:c+"arrow-up",CAROUSEL_VERTICAL_NEXT:c+"arrow-down",COLLAPSE_OPEN:c+"arrow-right rotate90",COLLAPSE_CLOSE:c+"arrow-right",EMPTY_DEFAULT:c+"empty",RESULT_INFO:c+"info-circle-fill",RESULT_SUCCESS:c+"success-circle-fill",RESULT_WARNING:c+"warning-circle-fill",RESULT_ERROR:c+"error-circle-fill",RESULT_QUESTION:c+"question-circle-fill",RESULT_LOADING:c+"spinner roll"}),t.default=l.VxeUI},25883:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addClass=function(e,t){e&&!s(e,t)&&(d(e,t),e.className=`${e.className} ${t}`)},t.browse=void 0,t.getAbsolutePos=function(e){const t=e.getBoundingClientRect(),o=t.top,n=t.left,{scrollTop:l,scrollLeft:a,visibleHeight:i,visibleWidth:r}=c();return{boundingTop:o,top:l+o,boundingLeft:n,left:a+n,visibleHeight:i,visibleWidth:r}},t.getDomNode=c,t.getEventTargetNode=function(e,t,o,n){let l,a=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;a&&a.nodeType&&a!==document;){if(o&&s(a,o)&&(!n||n(a)))l=a;else if(a===t)return{flag:!o||!!l,container:t,targetElem:l};a=a.parentNode}return{flag:!1}},t.getOffsetPos=function(e,t){return r(e,t,{left:0,top:0})},t.hasClass=s,t.isNodeElement=function(e){return e&&1===e.nodeType},t.isPx=function(e){return e&&/^\d+(px)?$/.test(e)},t.isScale=function(e){return e&&/^\d+%$/.test(e)},t.removeClass=d,t.scrollToView=function(e){e&&(e[u]?e[u]():e[p]&&e[p]())},t.toCssUnit=function(e,t="px"){return l.default.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`},t.triggerEvent=function(e,t){e&&e.dispatchEvent(new Event(t))};var n,l=(n=o(20732))&&n.__esModule?n:{default:n};t.browse=l.default.browse();const a={};function i(e){return a[e]||(a[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),a[e]}function r(e,t,o){if(e){const n=e.parentNode;if(o.top+=e.offsetTop,o.left+=e.offsetLeft,n&&n!==document.documentElement&&n!==document.body&&(o.top-=n.scrollTop,o.left-=n.scrollLeft),(!t||e!==t&&e.offsetParent!==t)&&e.offsetParent)return r(e.offsetParent,t,o)}return o}function s(e,t){return e&&e.className&&e.className.match&&e.className.match(i(t))}function d(e,t){e&&s(e,t)&&(e.className=e.className.replace(i(t),""))}function c(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}const u="scrollIntoViewIfNeeded",p="scrollIntoView"},38237:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.warnLog=t.errLog=void 0;var n=o(71124);const l="ui v4.2.18";t.warnLog=n.log.create("warn",l),t.errLog=n.log.create("error",l)},95638:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.eqEmptyValue=function(e){return null==e||""===e},t.getFuncText=function(e,t){if(e){const o=(0,l.getConfig)().translate;return n.default.toValueString(o?o(""+e,t):e)}return""},t.getLastZIndex=function(){return a.default.getCurrent()},t.handleBooleanDefaultValue=function(e){return n.default.isBoolean(e)?e:null},t.isEnableConf=function(e){return e&&!1!==e.enabled},t.nextZIndex=function(){return a.default.getNext()};var n=i(o(20732)),l=o(71124),a=i(o(89992));function i(e){return e&&e.__esModule?e:{default:e}}},51027:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getChangeEvent=function(e){switch(e){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"},t.getModelEvent=function(e){switch(e){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"},t.getOnName=function(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)},t.getSlotVNs=function(e){return l.default.isArray(e)?e:e?[e]:[]};var n,l=(n=o(20732))&&n.__esModule?n:{default:n}},17901:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VxeUpload=t.Upload=void 0;var n,l=(n=o(14567))&&n.__esModule?n:{default:n},a=o(71124),i=o(20670),r=o(75398);const s=t.VxeUpload=Object.assign({},l.default,{install(e){e.component(l.default.name,l.default)}});i.dynamicApp.use(s),a.VxeUI.component(l.default),a.VxeUI.saveFile=r.saveLocalFile,a.VxeUI.readFile=r.readLocalFile,t.Upload=s,t.default=s},14567:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(74061),l=c(o(20732)),a=o(35602),i=o(51027),r=(o(38237),o(25883)),s=o(75398),d=c(o(28453));function c(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.defineComponent)({name:"VxeUpload",props:{modelValue:[Array,String,Object],showList:{type:Boolean,default:()=>(0,a.getConfig)().upload.showList},moreConfig:Object,readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},mode:{type:String,default:()=>(0,a.getConfig)().upload.mode},imageTypes:{type:Array,default:()=>l.default.clone((0,a.getConfig)().upload.imageTypes,!0)},imageStyle:{type:Object,default:()=>l.default.clone((0,a.getConfig)().upload.imageStyle,!0)},fileTypes:{type:Array,default:()=>l.default.clone((0,a.getConfig)().upload.fileTypes,!0)},keyField:String,singleMode:Boolean,urlMode:Boolean,multiple:Boolean,limitSize:{type:[String,Number],default:()=>(0,a.getConfig)().upload.limitSize},limitCount:{type:[String,Number],default:()=>(0,a.getConfig)().upload.limitCount},nameField:{type:String,default:()=>(0,a.getConfig)().upload.nameField},typeField:{type:String,default:()=>(0,a.getConfig)().upload.typeField},urlField:{type:String,default:()=>(0,a.getConfig)().upload.urlField},sizeField:{type:String,default:()=>(0,a.getConfig)().upload.sizeField},showErrorStatus:{type:Boolean,default:()=>(0,a.getConfig)().upload.showErrorStatus},showProgress:{type:Boolean,default:()=>(0,a.getConfig)().upload.showProgress},progressText:{type:String,default:()=>(0,a.getConfig)().upload.progressText},autoHiddenButton:{type:Boolean,default:()=>(0,a.getConfig)().upload.autoHiddenButton},showUploadButton:{type:Boolean,default:()=>(0,a.getConfig)().upload.showUploadButton},buttonText:{type:String,default:()=>(0,a.getConfig)().upload.buttonText},buttonIcon:{type:String,default:()=>(0,a.getConfig)().upload.buttonIcon},showButtonText:{type:Boolean,default:()=>(0,a.getConfig)().upload.showButtonText},showButtonIcon:{type:Boolean,default:()=>(0,a.getConfig)().upload.showButtonIcon},showRemoveButton:{type:Boolean,default:()=>(0,a.getConfig)().upload.showRemoveButton},showDownloadButton:{type:Boolean,default:()=>(0,a.getConfig)().upload.showDownloadButton},showPreview:{type:Boolean,default:()=>(0,a.getConfig)().upload.showPreview},tipText:String,hintText:String,previewMethod:Function,uploadMethod:Function,beforeRemoveMethod:Function,removeMethod:Function,beforeDownloadMethod:Function,downloadMethod:Function,getUrlMethod:Function,getThumbnailUrlMethod:Function,size:{type:String,default:()=>(0,a.getConfig)().upload.size||(0,a.getConfig)().size}},emits:["update:modelValue","add","remove","remove-fail","download","download-fail","upload-success","upload-error"],setup(e,t){const{emit:o,slots:c}=t,u=(0,n.inject)("$xeForm",null),p=(0,n.inject)("xeFormItemInfo",null),f=l.default.uniqueId(),{computeSize:g}=(0,a.useSize)(e),h=(0,n.ref)(),m=(0,n.reactive)({isDrag:!1,showMorePopup:!1,fileList:[],fileCacheMaps:{}}),v={imagePreviewTypes:["jpg","jpeg","png","gif"]},x={refElem:h},E=(0,n.computed)((()=>{const{readonly:t}=e;return null===t?!!u&&u.props.readonly:t})),C=(0,n.computed)((()=>{const{disabled:t}=e;return null===t?!!u&&u.props.disabled:t})),b=(0,n.computed)((()=>e.keyField||"_X_KEY")),_=(0,n.computed)((()=>"image"===e.mode)),y=(0,n.computed)((()=>e.nameField||"name")),I=(0,n.computed)((()=>e.typeField||"type")),w=(0,n.computed)((()=>e.urlField||"url")),T=(0,n.computed)((()=>e.sizeField||"size")),O=(0,n.computed)((()=>1024*l.default.toNumber(e.limitSize)*1024)),N=(0,n.computed)((()=>e.multiple?l.default.toNumber(e.limitCount):1)),M=(0,n.computed)((()=>{const{multiple:t}=e,{fileList:o}=m,n=N.value;return t?!n||o.length>=n:o.length>=1})),S=(0,n.computed)((()=>{const t=l.default.toNumber(e.limitSize);return t?t>1048576?t/1048576+"T":t>1024?t/1024+"G":`${t}M`:""})),L=(0,n.computed)((()=>{const{limitSize:t,fileTypes:o,multiple:n,limitCount:i}=e,r=e.tipText||e.hintText,s=_.value,d=S.value;if(l.default.isString(r))return r;const c=[];return s?(n&&i&&c.push((0,a.getI18n)("vxe.upload.imgCountHint",[i])),t&&d&&c.push((0,a.getI18n)("vxe.upload.imgSizeHint",[d]))):(o&&o.length&&c.push((0,a.getI18n)("vxe.upload.fileTypeHint",[o.join("/")])),t&&d&&c.push((0,a.getI18n)("vxe.upload.fileSizeHint",[d])),n&&i&&c.push((0,a.getI18n)("vxe.upload.fileCountHint",[i]))),c.join((0,a.getI18n)("vxe.base.comma"))})),P=(0,n.computed)((()=>Object.assign({},e.imageStyle))),D=(0,n.computed)((()=>{const{width:e,height:t}=P.value,o={};return e&&(o.width=(0,r.toCssUnit)(e)),t&&(o.height=(0,r.toCssUnit)(t)),o})),k=(0,n.computed)((()=>Object.assign({showMoreButton:!0},e.moreConfig))),V={},A={xID:f,props:e,context:t,reactData:m,internalData:v,getRefMaps:()=>x,getComputeMaps:()=>V},R=()=>l.default.uniqueId(),U=e=>e[b.value],F=()=>{const{modelValue:t,multiple:o}=e,n=E.value,a=b.value,i=y.value,r=I.value,s=w.value,d=T.value,c=t?(t?l.default.isArray(t)?t:[t]:[]).map((e=>{if(!e||l.default.isString(e)){const t=`${e||""}`,o=B(t);return{[i]:o,[r]:z(o),[s]:t,[d]:0,[a]:R()}}const t=e[i]||"";return e[i]=t,e[r]=e[r]||z(t),e[s]=e[s]||"",e[d]=e[d]||0,e[a]=e[a]||R(),e})):[];m.fileList=n||o?c:c.slice(0,1)},B=e=>decodeURIComponent(`${e||""}`).split("/").pop()||"",z=e=>{const t=e?e.indexOf("."):-1;return t>-1?e.substring(t+1,e.length).toLowerCase():""},j=(e,t,n)=>{o(e,(0,a.createEvent)(n,{$upload:A},t))},$=t=>{const{singleMode:n,urlMode:l}=e,a=w.value;let i=t?t.slice(0):[];l&&(i=i.map((e=>e[a]))),o("update:modelValue",n?i[0]||null:i)},G=t=>{const o=e.getThumbnailUrlMethod||(0,a.getConfig)().upload.getThumbnailUrlMethod;return o?o({$upload:A,option:t}):H(t)},H=t=>{const o=e.getUrlMethod||(0,a.getConfig)().upload.getUrlMethod,n=w.value;return o?o({$upload:A,option:t}):t[n]},W=(t,o)=>{const{showErrorStatus:n}=e,i=U(t),r=e.uploadMethod||(0,a.getConfig)().upload.uploadMethod;if(r)return Promise.resolve(r({$upload:A,file:o,option:t,updateProgress(e){const{fileCacheMaps:o}=m,n=o[U(t)];n&&(n.percent=Math.max(0,Math.min(99,l.default.toNumber(e))))}})).then((e=>{const{fileCacheMaps:o}=m,n=o[i];n&&(n.percent=100),Object.assign(t,e),j("upload-success",{option:t,data:e},null)})).catch((e=>{const{fileCacheMaps:o}=m,l=o[i];l&&(l.status="error"),n?Object.assign(t,e):m.fileList=m.fileList.filter((e=>U(e)!==i)),j("upload-error",{option:t,data:e},null)})).finally((()=>{const{fileCacheMaps:e}=m,t=e[i];t&&(t.loading=!1)}));{const{fileCacheMaps:e}=m,t=e[i];t&&(t.loading=!1)}return Promise.resolve()},K=t=>{const{uploadMethod:o,urlMode:n}=e,{fileCacheMaps:l}=m,i=l[U(t)];if((o||(0,a.getConfig)().upload.uploadMethod)&&i){const e=i.file;i.loading=!0,i.status="",i.percent=0,W(t,e).then((()=>{n&&$(m.fileList)}))}},X=(t,o)=>{const{multiple:l,urlMode:i}=e,{fileList:r}=m,s=e.uploadMethod||(0,a.getConfig)().upload.uploadMethod,d=b.value,c=y.value,f=I.value,g=w.value,h=T.value,v=O.value,x=N.value,E=S.value;let C=t;if(l&&x){if(r.length>=x)return void(a.VxeUI.modal&&a.VxeUI.modal.notification({title:(0,a.getI18n)("vxe.modal.errTitle"),status:"error",content:(0,a.getI18n)("vxe.upload.overCountErr",[x])}));const e=C.length-(x-r.length);if(e>0){const t=C.slice(x-r.length);a.VxeUI.modal&&a.VxeUI.modal.notification({title:(0,a.getI18n)("vxe.modal.errTitle"),status:"error",slots:{default:()=>(0,n.h)("div",{class:"vxe-upload--file-message-over-error"},[(0,n.h)("div",{},(0,a.getI18n)("vxe.upload.overCountExtraErr",[x,e])),(0,n.h)("div",{class:"vxe-upload--file-message-over-extra"},t.map(((e,t)=>(0,n.h)("div",{key:t,class:"vxe-upload--file-message-over-extra-item"},e.name))))])}})}C=C.slice(0,x-r.length)}if(v)for(let e=0;e<t.length;e++)if(t[0].size>v)return void(a.VxeUI.modal&&a.VxeUI.modal.notification({title:(0,a.getI18n)("vxe.modal.errTitle"),status:"error",content:(0,a.getI18n)("vxe.upload.overSizeErr",[E])}));const _=Object.assign({},m.fileCacheMaps),M=l?r:[],L=[];C.forEach((e=>{const{name:t}=e,l=R(),a={[c]:t,[f]:z(t),[h]:e.size,[g]:"",[d]:l};s&&(_[l]={file:e,loading:!0,status:"",percent:0});const i=(0,n.reactive)(a);s&&L.push(W(i,e)),M.push(i),j("add",{option:i},o)})),m.fileList=M,m.fileCacheMaps=_,Promise.all(i?L:[]).then((()=>{$(M),u&&p&&u.triggerItemEvent(o,p.itemConfig.field,M)}))},q=t=>{const{multiple:o,imageTypes:n,fileTypes:l}=e,a=C.value,i=_.value;return a?Promise.resolve({status:!1,files:[],file:null}):(0,s.readLocalFile)({multiple:o,types:i?n:l}).then((e=>(X(e.files,t),e)))},Y=e=>{q(e).catch((()=>{}))},Z=(e,t,o)=>{const{fileList:n}=m;n.splice(o,1),$(n),u&&p&&u.triggerItemEvent(e,p.itemConfig.field,n),j("remove",{option:t},e)},J=(t,o,n)=>{const l=e.beforeRemoveMethod||(0,a.getConfig)().upload.beforeRemoveMethod,i=e.removeMethod||(0,a.getConfig)().upload.removeMethod;Promise.resolve(!l||l({$upload:A,option:o})).then((e=>{e?i?Promise.resolve(i({$upload:A,option:o})).then((()=>{Z(t,o,n)})).catch((e=>e)):Z(t,o,n):j("remove-fail",{option:o},t)}))},Q=(e,t)=>{j("download",{option:t},e)},ee=e=>{const t=e.currentTarget,{clientX:o,clientY:n}=e;if(t){const{x:e,y:l,height:a,width:i}=t.getBoundingClientRect();(o<e||o>e+i||n<l||n>l+a)&&(m.isDrag=!1)}},te=e=>{const t=e.dataTransfer;if(t){const{items:o}=t;o&&o.length&&(e.preventDefault(),m.isDrag=!0)}},oe=e=>{const t=e.dataTransfer;if(t){const{items:o}=t;if(o&&o.length){const t=[];Array.from(o).forEach((e=>{const o=e.getAsFile();o&&t.push(o)})),X(t,e),e.preventDefault()}}m.isDrag=!1},ne=()=>{const t=E.value,o=_.value;a.VxeUI.modal&&a.VxeUI.modal.open({title:t?(0,a.getI18n)("vxe.upload.morePopup.readTitle"):(0,a.getI18n)("vxe.upload.morePopup."+(o?"imageTitle":"fileTitle")),width:660,height:500,escClosable:!0,showMaximize:!0,resize:!0,maskClosable:!0,slots:{default(){const{showErrorStatus:l}=e,{isDrag:i}=m,r=C.value,{fileList:s}=m;return(0,n.h)("div",{class:["vxe-upload--more-popup",{"is--readonly":t,"is--disabled":r,"show--error":l,"is--drag":i}],onDragover:te,onDragleave:ee,onDrop:oe},[o?(0,n.h)("div",{class:"vxe-upload--image-more-list"},se(s,!0).concat(de(!0))):(0,n.h)("div",{class:"vxe-upload--file-more-list"},[ie(!0),(0,n.h)("div",{class:"vxe-upload--file-list"},ae(s,!0))]),i?(0,n.h)("div",{class:"vxe-upload--drag-placeholder"},(0,a.getI18n)("vxe.upload.dragPlaceholder")):(0,n.createCommentVNode)()])}},onShow(){m.showMorePopup=!0},onHide(){m.showMorePopup=!1}})},le={dispatchEvent:j,choose:()=>q(null)};Object.assign(A,le,{});const ae=(t,o)=>{const{showRemoveButton:r,showDownloadButton:s,showProgress:u,progressText:p,showPreview:f,showErrorStatus:g}=e,{fileCacheMaps:h}=m,x=C.value,b=E.value,_=y.value,w=I.value,T=c.corner;return t.map(((t,c)=>{const m=U(t),E=h[m],C=E&&E.loading,y=E&&"error"===E.status;return(0,n.h)("div",{key:c,class:["vxe-upload--file-item",{"is--preview":f,"is--loading":C,"is--error":y}]},[(0,n.h)("div",{class:"vxe-upload--file-item-icon"},[(0,n.h)("i",{class:(0,a.getIcon)()[`UPLOAD_FILE_TYPE_${`${t[w]}`.toLocaleUpperCase()}`]||(0,a.getIcon)().UPLOAD_FILE_TYPE_DEFAULT})]),(0,n.h)("div",{class:"vxe-upload--file-item-name",onClick(o){C||y||((t,o)=>{const n=e.previewMethod||(0,a.getConfig)().upload.previewMethod;e.showPreview&&(n?n({$upload:A,option:o}):(t=>{const{imageTypes:o,showDownloadButton:n}=e,l=I.value,i=e.beforeDownloadMethod||(0,a.getConfig)().upload.beforeDownloadMethod,{imagePreviewTypes:r}=v;r.concat(o||[]).some((e=>`${e}`.toLowerCase()===`${t[l]}`.toLowerCase()))&&a.VxeUI.previewImage&&a.VxeUI.previewImage({urlList:[H(t)],showDownloadButton:n,beforeDownloadMethod:i?()=>i({$upload:A,option:t}):void 0})})(o))})(0,t)}},`${t[_]||""}`),C?(0,n.h)("div",{class:"vxe-upload--file-item-loading-icon"},[(0,n.h)("i",{class:(0,a.getIcon)().UPLOAD_LOADING})]):(0,n.createCommentVNode)(),u&&C&&E?(0,n.h)("div",{class:"vxe-upload--file-item-loading-text"},p?l.default.toFormatString(p,{percent:E.percent}):(0,a.getI18n)("vxe.upload.uploadProgress",[E.percent])):(0,n.createCommentVNode)(),g&&y?(0,n.h)("div",{class:"vxe-upload--image-item-error"},[(0,n.h)(d.default,{icon:(0,a.getIcon)().UPLOAD_IMAGE_RE_UPLOAD,mode:"text",status:"primary",content:(0,a.getI18n)("vxe.upload.reUpload"),onClick(){K(t)}})]):(0,n.createCommentVNode)(),(0,n.h)("div",{class:"vxe-upload--file-item-btn-wrapper"},[T?(0,n.h)("div",{class:"vxe-upload--file-item-corner"},(0,i.getSlotVNs)(T({option:t,isMoreView:o,readonly:b}))):(0,n.createCommentVNode)(),s&&!C?(0,n.h)("div",{class:"vxe-upload--file-item-download-btn",onClick(o){((t,o)=>{const n=e.beforeDownloadMethod||(0,a.getConfig)().upload.beforeDownloadMethod,l=e.downloadMethod||(0,a.getConfig)().upload.downloadMethod;Promise.resolve(!n||n({$upload:A,option:o})).then((e=>{e?l?Promise.resolve(l({$upload:A,option:o})).then((()=>{Q(t,o)})).catch((e=>e)):Q(t,o):j("download-fail",{option:o},t)}))})(o,t)}},[(0,n.h)("i",{class:(0,a.getIcon)().UPLOAD_FILE_DOWNLOAD})]):(0,n.createCommentVNode)(),!r||b||x||C?(0,n.createCommentVNode)():(0,n.h)("div",{class:"vxe-upload--file-item-remove-btn",onClick(e){J(e,t,c)}},[(0,n.h)("i",{class:(0,a.getIcon)().UPLOAD_FILE_REMOVE})])])])}))},ie=t=>{const{showUploadButton:o,buttonText:l,buttonIcon:r,showButtonText:s,showButtonIcon:u,autoHiddenButton:p}=e,f=C.value,g=E.value,h=L.value,m=M.value,v=c.default,x=c.tip||c.hint;return g||!o?(0,n.createCommentVNode)():(0,n.h)("div",{class:"vxe-upload--file-action"},[p&&m?(0,n.createCommentVNode)():(0,n.h)("div",{class:"vxe-upload--file-action-btn",onClick:Y},v?(0,i.getSlotVNs)(v({$upload:A})):[(0,n.h)(d.default,{class:"vxe-upload--file-action-button",content:t||s?l?`${l}`:(0,a.getI18n)("vxe.upload.fileBtnText"):"",icon:u?r||(0,a.getIcon)().UPLOAD_FILE_ADD:"",disabled:f})]),t&&(h||x)?(0,n.h)("div",{class:"vxe-upload--file-action-tip"},x?(0,i.getSlotVNs)(x({$upload:A})):h):(0,n.createCommentVNode)()])},re=()=>{const{moreConfig:t}=e,{fileList:o}=m,l=k.value,{maxCount:i,showMoreButton:r,layout:s}=l,c="horizontal"===s;let u=o,p=0;return i&&o.length>i&&(p=o.length-i,u=o.slice(0,i)),(0,n.h)("div",{key:"all",class:"vxe-upload--file-wrapper"},[r&&t&&c?(0,n.createCommentVNode)():ie(!0),u.length||r&&c?(0,n.h)("div",{class:["vxe-upload--file-list-wrapper",{"is--horizontal":c}]},[u.length?(0,n.h)("div",{class:"vxe-upload--file-list"},ae(u,!1)):(0,n.createCommentVNode)(),r&&p?(0,n.h)("div",{class:"vxe-upload--file-over-more"},[(0,n.h)(d.default,{mode:"text",content:(0,a.getI18n)("vxe.upload.moreBtnText",[o.length]),status:"primary",onClick:ne})]):(0,n.createCommentVNode)(),r&&t&&c?ie(!1):(0,n.createCommentVNode)()]):(0,n.createCommentVNode)()])},se=(t,o)=>{const{showRemoveButton:r,showProgress:s,progressText:u,showPreview:p,showErrorStatus:f}=e,{fileCacheMaps:g}=m,h=C.value,v=E.value,x=D.value,b=c.corner;return t.map(((t,c)=>{const E=U(t),C=g[E],_=C&&C.loading,y=C&&"error"===C.status;return(0,n.h)("div",{key:c,class:["vxe-upload--image-item",{"is--preview":p,"is--loading":_,"is--error":y}]},[(0,n.h)("div",{class:"vxe-upload--image-item-box",style:o?null:x,title:(0,a.getI18n)("vxe.upload.viewItemTitle"),onClick(t){_||y||((t,o,n)=>{const{showDownloadButton:l}=e,{fileList:i}=m,r=e.beforeDownloadMethod||(0,a.getConfig)().upload.beforeDownloadMethod;e.showPreview&&a.VxeUI.previewImage&&a.VxeUI.previewImage({urlList:i.map((e=>H(e))),activeIndex:n,showDownloadButton:l,beforeDownloadMethod:r?({index:e})=>r({$upload:A,option:i[e]}):void 0})})(0,0,c)}},[_&&C?(0,n.h)("div",{class:"vxe-upload--image-item-loading"},[(0,n.h)("div",{class:"vxe-upload--image-item-loading-icon"},[(0,n.h)("i",{class:(0,a.getIcon)().UPLOAD_LOADING})]),s?(0,n.h)("div",{class:"vxe-upload--image-item-loading-text"},u?l.default.toFormatString(u,{percent:C.percent}):(0,a.getI18n)("vxe.upload.uploadProgress",[C.percent])):(0,n.createCommentVNode)()]):(0,n.createCommentVNode)(),_?(0,n.createCommentVNode)():y&&f?(0,n.h)("div",{class:"vxe-upload--image-item-error"},[(0,n.h)(d.default,{icon:(0,a.getIcon)().UPLOAD_IMAGE_RE_UPLOAD,mode:"text",status:"primary",content:(0,a.getI18n)("vxe.upload.reUpload"),onClick(){K(t)}})]):(0,n.h)("img",{class:"vxe-upload--image-item-img",src:G(t)}),(0,n.h)("div",{class:"vxe-upload--image-item-btn-wrapper",onClick(e){e.stopPropagation()}},[b?(0,n.h)("div",{class:"vxe-upload--file-item-corner"},(0,i.getSlotVNs)(b({option:t,isMoreView:o,readonly:v}))):(0,n.createCommentVNode)(),!r||v||h||_?(0,n.createCommentVNode)():(0,n.h)("div",{class:"vxe-upload--image-item-remove-btn",onClick(e){e.stopPropagation(),J(e,t,c)}},[(0,n.h)("i",{class:(0,a.getIcon)().UPLOAD_IMAGE_REMOVE})])])])])}))},de=t=>{const{showUploadButton:o,buttonText:l,buttonIcon:r,showButtonText:s,showButtonIcon:d,autoHiddenButton:u}=e,p=E.value,f=L.value,g=M.value,h=D.value,m=c.default,v=c.hint;return p||!o||u&&g?(0,n.createCommentVNode)():(0,n.h)("div",{key:"action",class:"vxe-upload--image-action"},[(0,n.h)("div",{class:"vxe-upload--image-action-btn",onClick:Y},m?m({$upload:A}):[(0,n.h)("div",{class:"vxe-upload--image-action-box",style:t?null:h},[d?(0,n.h)("div",{class:"vxe-upload--image-action-icon"},[(0,n.h)("i",{class:r||(0,a.getIcon)().UPLOAD_IMAGE_ADD})]):(0,n.createCommentVNode)(),t||s?(0,n.h)("div",{class:"vxe-upload--image-action-content"},l?`${l}`:(0,a.getI18n)("vxe.upload.imgBtnText")):(0,n.createCommentVNode)(),t&&(f||v)?(0,n.h)("div",{class:"vxe-upload--image-action-hint"},v?(0,i.getSlotVNs)(v({$upload:A})):f):(0,n.createCommentVNode)()])])])},ce=()=>{const{fileList:e}=m,t=k.value,{maxCount:o,showMoreButton:l}=t;let i=e,r=0;return o&&e.length>o&&(r=e.length-o,i=e.slice(0,o)),(0,n.h)("div",{key:"image",class:"vxe-upload--image-wrapper"},[(0,n.h)("div",{class:"vxe-upload--image-list"},se(i,!1).concat([l&&r?(0,n.h)("div",{class:"vxe-upload--image-over-more"},[(0,n.h)(d.default,{mode:"text",content:(0,a.getI18n)("vxe.upload.moreBtnText",[e.length]),status:"primary",onClick:ne})]):(0,n.createCommentVNode)(),de(!1)]))])},ue=(0,n.ref)(0);return(0,n.watch)((()=>e.modelValue?e.modelValue.length:0),(()=>{ue.value++})),(0,n.watch)((()=>e.modelValue),(()=>{ue.value++})),(0,n.watch)(ue,(()=>{F()})),(0,n.onMounted)((()=>{})),(0,n.onUnmounted)((()=>{m.isDrag=!1})),F(),A.renderVN=()=>{const{showErrorStatus:t}=e,{isDrag:o,showMorePopup:l}=m,i=g.value,r=C.value,s=E.value,d=_.value;return(0,n.h)("div",{ref:h,class:["vxe-upload",{[`size--${i}`]:i,"is--readonly":s,"is--disabled":r,"show--error":t,"is--drag":o}],onDragover:te,onDragleave:ee,onDrop:oe},[d?ce():re(),o&&!l?(0,n.h)("div",{class:"vxe-upload--drag-placeholder"},(0,a.getI18n)("vxe.upload.dragPlaceholder")):(0,n.createCommentVNode)()])},A},render(){return this.renderVN()}})},75398:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getExportBlobByContent=d,t.parseFile=s,t.saveLocalFile=t.readLocalFile=void 0;var n,l=(n=o(20732))&&n.__esModule?n:{default:n},a=o(71124);let i=null,r=null;function s(e){const t=e.name,o=l.default.lastIndexOf(t,"."),n=t.substring(o+1,t.length).toLowerCase();return{filename:t.substring(0,o),type:n}}function d(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}t.readLocalFile=e=>{const t=Object.assign({},e);return new Promise(((e,o)=>{r||(r=document.createElement("input"),r.name="file",r.type="file"),i||(i=document.createElement("form"),i.className="vxe-table--file-form",i.appendChild(r),document.body.appendChild(i));const n=t.types||[],d=!n.length||n.some((e=>"*"===e));r.multiple=!!t.multiple,r.accept=d?"":`.${n.join(", .")}`,r.onchange=i=>{const r=i.target,c=Array.from(r.files||[]),u=c[0];let p="";if(!d)for(let e=0;e<c.length;e++){const{type:t}=s(c[e]);if(!l.default.includes(n,t)){p=t;break}}p?(!1!==t.message&&a.VxeUI.modal&&a.VxeUI.modal.message({content:(0,a.getI18n)("vxe.error.notType",[p]),status:"error"}),o({status:!1,files:c,file:u})):e({status:!0,files:c,file:u})},i.reset(),r.click()}))},t.saveLocalFile=e=>{const t=Object.assign({type:""},e),{filename:o,type:n,content:i}=t,r=n?`${o}.${n}`:`${o}`;if(window.Blob){const e=i instanceof Blob?i:d(l.default.toValueString(i),t),o=window.navigator;if(o.msSaveBlob)o.msSaveBlob(e,r);else{const t=URL.createObjectURL(e),o=document.createElement("a");o.target="_blank",o.download=r,o.href=t,document.body.appendChild(o),o.click(),requestAnimationFrame((()=>{o.parentNode&&o.parentNode.removeChild(o),URL.revokeObjectURL(t)}))}return Promise.resolve()}return Promise.reject(new Error((0,a.getI18n)("vxe.error.notExp")))}},82106:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WatermarkController=t.Watermark=t.VxeWatermark=void 0;var n,l=o(71124),a=(n=o(11541))&&n.__esModule?n:{default:n},i=o(20670);const r=t.VxeWatermark=Object.assign({},a.default,{install(e){e.component(a.default.name,a.default)}});i.dynamicApp.use(r),l.VxeUI.component(a.default);const s=t.WatermarkController={load:e=>((0,i.checkDynamic)(),i.dynamicStore.globalWatermark=Object.assign({},e),Promise.resolve()),clear:()=>(i.dynamicStore.globalWatermark=null,Promise.resolve())};l.VxeUI.watermark=s,t.Watermark=r,t.default=r},28427:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getContentUrl=function(e,t,o){const n=Object.assign({},o),{rotate:i}=n,s=l.default.toNumber(i),f=(l.default.isArray(e)?e:[e]).map((e=>e?e.textContent?p(e,t,n):p({textContent:`${e}`},t,n):p({textContent:""},t,n)));return c(r),new Promise((e=>{const t=d();t.parentNode||document.body.append(t);const o=t.getContext("2d");if(o&&f.length){const{contentWidth:i,contentHeight:r}=function(e){let t=0,o=0;return e.forEach((e=>{t=Math.max(e.width,t),o=Math.max(e.height,o)})),{contentWidth:t,contentHeight:o}}(f),{canvasWidth:d,canvasHeight:p}=function(e,t){const{gap:o}=t,[n=0,a=0]=o?l.default.isArray(o)?o:[o,o]:[];return{canvasWidth:e+l.default.toNumber(n),canvasHeight:e+l.default.toNumber(a)}}(i,n);t.width=d,t.height=p;const g=(d-i)/2,h=(p-r)/2,m=g+i/2,v=h+r/2;o.save(),o.translate(m,v),o.rotate(s*Math.PI/180),o.translate(-m,-v);let x=0;f.forEach((e=>{const t=u(e,"align",n);!function(e,t,o){const n=u(t,"fontWeight",o);e.fillStyle=`${u(t,"color",o)||"rgba(0, 0, 0, 0.15)"}`,e.font=[u(t,"fontStyle",o)||"normal","bold"===n||"bolder"===n?"bold":"",(0,a.toCssUnit)(t.fontSize),u(t,"fontFamily",o)||"sans-serif"].join(" ")}(o,e,n),o.fillText(e.text,g+("center"===t?(i-e.width)/2:0),h+(r+r)/2+x,i),x+=e.height})),o.restore(),e(t.toDataURL()),c(t)}else e(""),c(t)}))};var n,l=(n=o(20732))&&n.__esModule?n:{default:n},a=o(25883);let i=null,r=null;const s={};function d(){return i||(i=document.createElement("canvas"),i.style.position="absolute",i.style.top="0",i.style.left="0"),i}function c(e){if(e){const t=e.parentNode;t&&t.removeChild(e)}}function u(e,t,o){return(e.font?e.font[t]:"")||(o.font?o.font[t]:"")}function p(e,t,o){const{offset:n}=o,i=l.default.toValueString(e.textContent),d=l.default.toNumber(u(e,"fontSize",o)||t)||14,[c=0,p=0]=n?l.default.isArray(n)?n:[n,n]:[],{width:f,height:g}=function(e,t){const o=`${t}_${e}`;if(!s[o]){r||(r=document.createElement("span")),r.parentNode||document.body.append(r),r.textContent=e,r.style.fontSize=(0,a.toCssUnit)(t);const n=r.offsetWidth,l=r.offsetHeight;s[o]={width:n,height:l}}return s[o]}(i,d);return{text:i,fontSize:d,font:e.font,width:f+l.default.toNumber(c),height:g+l.default.toNumber(p)}}},11541:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l=o(74061),a=(n=o(20732))&&n.__esModule?n:{default:n},i=o(35602),r=o(25883),s=o(28427);t.default=(0,l.defineComponent)({name:"VxeWatermark",props:{width:String,height:String,imageUrl:String,rotate:{type:[Number,String],default:()=>(0,i.getConfig)().watermark.rotate},gap:{type:[Array,Number,String],default:()=>a.default.clone((0,i.getConfig)().watermark.gap,!0)},content:[String,Array],font:Object,offset:Object,zIndex:[String,Number]},emits:[],setup(e,t){const{emit:o}=t,n=a.default.uniqueId(),d=(0,l.ref)(),c=(0,l.reactive)({markUrl:""}),u={refElem:d},p=(0,l.computed)((()=>a.default.assign({},a.default.clone((0,i.getConfig)().watermark.font,!0),e.font))),f=(0,l.computed)((()=>{const{width:t,height:o,zIndex:n}=e,{markUrl:l}=c,a={};return t&&(a.width=(0,r.toCssUnit)(t)),o&&(a.height=(0,r.toCssUnit)(o)),l&&(a.backgroundImage=`url(${l})`),n&&(a.zIndex=n),a})),g={},h={xID:n,props:e,context:t,reactData:c,getRefMaps:()=>u,getComputeMaps:()=>g},m={dispatchEvent:(e,t,n)=>{o(e,(0,i.createEvent)(n,{$watermark:h},t))}},v=()=>{const{content:t,gap:o,rotate:n,offset:l}=e,a=d.value,i=p.value;a&&t&&(0,s.getContentUrl)(t,getComputedStyle(a).fontSize,{font:i,rotate:n,gap:o,offset:l}).then((e=>{c.markUrl=e}))};return Object.assign(h,m,{}),(0,l.watch)((()=>e.imageUrl),(()=>{v()})),(0,l.watch)((()=>e.content),(()=>{v()})),(0,l.watch)((()=>e.gap),(()=>{v()})),(0,l.watch)((()=>e.rotate),(()=>{v()})),(0,l.watch)((()=>e.width),(()=>{v()})),(0,l.watch)((()=>e.height),(()=>{v()})),(0,l.watch)((()=>e.font),(()=>{v()})),(0,l.onMounted)((()=>{v(),i.globalEvents.on(h,"resize",a.default.throttle((()=>{v()}),300,{trailing:!0,leading:!0}))})),(0,l.onUnmounted)((()=>{i.globalEvents.off(h,"resize")})),h.renderVN=()=>{const e=f.value;return(0,l.h)("div",{ref:d,class:"vxe-watermark",style:e})},h},render(){return this.renderVN()}})}}]);